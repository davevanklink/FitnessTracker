(self.webpackChunkFitnessTracker=self.webpackChunkFitnessTracker||[]).push([[179],{49:($a,ii,wl)=>{"use strict";function oe(t){return"function"==typeof t}function bp(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const Tp=bp(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function Il(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class fn{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(oe(r))try{r()}catch(s){e=s instanceof Tp?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{ZT(s)}catch(o){e=e??[],o instanceof Tp?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Tp(e)}}add(e){var n;if(e&&e!==this)if(this.closed)ZT(e);else{if(e instanceof fn){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Il(n,e)}remove(e){const{_finalizers:n}=this;n&&Il(n,e),e instanceof fn&&e._removeParent(this)}}fn.EMPTY=(()=>{const t=new fn;return t.closed=!0,t})();const QT=fn.EMPTY;function YT(t){return t instanceof fn||t&&"closed"in t&&oe(t.remove)&&oe(t.add)&&oe(t.unsubscribe)}function ZT(t){oe(t)?t():t.unsubscribe()}const $i={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},El={setTimeout(t,e,...n){const{delegate:r}=El;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=El;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function JT(t){El.setTimeout(()=>{const{onUnhandledError:e}=$i;if(!e)throw t;e(t)})}function Dl(){}const AU=Cp("C",void 0,void 0);function Cp(t,e,n){return{kind:t,value:e,error:n}}let ji=null;function bl(t){if($i.useDeprecatedSynchronousErrorHandling){const e=!ji;if(e&&(ji={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=ji;if(ji=null,n)throw r}}else t()}class Sp extends fn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,YT(e)&&e.add(this)):this.destination=OU}static create(e,n,r){return new ja(e,n,r)}next(e){this.isStopped?xp(function MU(t){return Cp("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?xp(function xU(t){return Cp("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?xp(AU,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const RU=Function.prototype.bind;function Ap(t,e){return RU.call(t,e)}class NU{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Tl(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Tl(r)}else Tl(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Tl(n)}}}class ja extends Sp{constructor(e,n,r){let i;if(super(),oe(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&$i.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Ap(e.next,s),error:e.error&&Ap(e.error,s),complete:e.complete&&Ap(e.complete,s)}):i=e}this.destination=new NU(i)}}function Tl(t){$i.useDeprecatedSynchronousErrorHandling?function kU(t){$i.useDeprecatedSynchronousErrorHandling&&ji&&(ji.errorThrown=!0,ji.error=t)}(t):JT(t)}function xp(t,e){const{onStoppedNotification:n}=$i;n&&El.setTimeout(()=>n(t,e))}const OU={closed:!0,next:Dl,error:function PU(t){throw t},complete:Dl},Mp="function"==typeof Symbol&&Symbol.observable||"@@observable";function Hi(t){return t}function XT(t){return 0===t.length?Hi:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let Ie=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function VU(t){return t&&t instanceof Sp||function LU(t){return t&&oe(t.next)&&oe(t.error)&&oe(t.complete)}(t)&&YT(t)}(n)?n:new ja(n,r,i);return bl(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=e0(r))((i,s)=>{const o=new ja({next:a=>{try{n(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[Mp](){return this}pipe(...n){return XT(n)(this)}toPromise(n){return new(n=e0(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function e0(t){var e;return null!==(e=t??$i.Promise)&&void 0!==e?e:Promise}const UU=bp(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let pn=(()=>{class t extends Ie{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new t0(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new UU}next(n){bl(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){bl(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){bl(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?QT:(this.currentObservers=null,s.push(n),new fn(()=>{this.currentObservers=null,Il(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new Ie;return n.source=this,n}}return t.create=(e,n)=>new t0(e,n),t})();class t0 extends pn{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:QT}}function n0(t){return oe(t?.lift)}function Ge(t){return e=>{if(n0(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Je(t,e,n,r,i){return new BU(t,e,n,r,i)}class BU extends Sp{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function X(t,e){return Ge((n,r)=>{let i=0;n.subscribe(Je(r,s=>{r.next(t.call(e,s,i++))}))})}function s0(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function Gi(t){return this instanceof Gi?(this.v=t,this):new Gi(t)}function HU(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,m){s.push([h,f,p,m])>1||a(h,f)})})}function a(h,f){try{!function u(h){h.value instanceof Gi?Promise.resolve(h.value.v).then(c,l):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function c(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}function GU(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function a0(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,u){!function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}(a,u,(o=t[s](o)).done,o.value)})}}}const Rp=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function u0(t){return oe(t?.then)}function c0(t){return oe(t[Mp])}function l0(t){return Symbol.asyncIterator&&oe(t?.[Symbol.asyncIterator])}function d0(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const h0=function zU(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function f0(t){return oe(t?.[h0])}function p0(t){return HU(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield Gi(n.read());if(i)return yield Gi(void 0);yield yield Gi(r)}}finally{n.releaseLock()}})}function g0(t){return oe(t?.getReader)}function An(t){if(t instanceof Ie)return t;if(null!=t){if(c0(t))return function WU(t){return new Ie(e=>{const n=t[Mp]();if(oe(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(Rp(t))return function KU(t){return new Ie(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(u0(t))return function QU(t){return new Ie(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,JT)})}(t);if(l0(t))return m0(t);if(f0(t))return function YU(t){return new Ie(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(g0(t))return function ZU(t){return m0(p0(t))}(t)}throw d0(t)}function m0(t){return new Ie(e=>{(function JU(t,e){var n,r,i,s;return function $U(t,e,n,r){return new(n||(n=Promise))(function(s,o){function a(l){try{c(r.next(l))}catch(d){o(d)}}function u(l){try{c(r.throw(l))}catch(d){o(d)}}function c(l){l.done?s(l.value):function i(s){return s instanceof n?s:new n(function(o){o(s)})}(l.value).then(a,u)}c((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=GU(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function Dr(t,e,n,r=0,i=!1){const s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function Xe(t,e,n=1/0){return oe(e)?Xe((r,i)=>X((s,o)=>e(r,s,i,o))(An(t(r,i))),n):("number"==typeof e&&(n=e),Ge((r,i)=>function XU(t,e,n,r,i,s,o,a){const u=[];let c=0,l=0,d=!1;const h=()=>{d&&!u.length&&!c&&e.complete()},f=m=>c<r?p(m):u.push(m),p=m=>{s&&e.next(m),c++;let y=!1;An(n(m,l++)).subscribe(Je(e,I=>{i?.(I),s?f(I):e.next(I)},()=>{y=!0},void 0,()=>{if(y)try{for(c--;u.length&&c<r;){const I=u.shift();o?Dr(e,o,()=>p(I)):p(I)}h()}catch(I){e.error(I)}}))};return t.subscribe(Je(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,t,n)))}function Ys(t=1/0){return Xe(Hi,t)}const br=new Ie(t=>t.complete());function y0(t){return t&&oe(t.schedule)}function Np(t){return t[t.length-1]}function Ha(t){return y0(Np(t))?t.pop():void 0}function Cl(t,e=0){return Ge((n,r)=>{n.subscribe(Je(r,i=>Dr(r,t,()=>r.next(i),e),()=>Dr(r,t,()=>r.complete(),e),i=>Dr(r,t,()=>r.error(i),e)))})}function Sl(t,e=0){return Ge((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function _0(t,e){if(!t)throw new Error("Iterable cannot be null");return new Ie(n=>{Dr(n,e,()=>{const r=t[Symbol.asyncIterator]();Dr(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function et(t,e){return e?function u2(t,e){if(null!=t){if(c0(t))return function r2(t,e){return An(t).pipe(Sl(e),Cl(e))}(t,e);if(Rp(t))return function s2(t,e){return new Ie(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(u0(t))return function i2(t,e){return An(t).pipe(Sl(e),Cl(e))}(t,e);if(l0(t))return _0(t,e);if(f0(t))return function o2(t,e){return new Ie(n=>{let r;return Dr(n,e,()=>{r=t[h0](),Dr(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>oe(r?.return)&&r.return()})}(t,e);if(g0(t))return function a2(t,e){return _0(p0(t),e)}(t,e)}throw d0(t)}(t,e):An(t)}function Pp(...t){const e=Ha(t),n=function n2(t,e){return"number"==typeof Np(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?An(r[0]):Ys(n)(et(r,e)):br}function Op(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new ja({next:()=>{r.unsubscribe(),t()}});return e(...n).subscribe(r)}function ve(t){for(let e in t)if(t[e]===ve)return e;throw Error("Could not find renamed property on target object.")}function we(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(we).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function Lp(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const l2=ve({__forward_ref__:ve});function Vp(t){return t.__forward_ref__=Vp,t.toString=function(){return we(this())},t}function z(t){return function Up(t){return"function"==typeof t&&t.hasOwnProperty(l2)&&t.__forward_ref__===Vp}(t)?t():t}class N extends Error{constructor(e,n){super(function Al(t,e){return`NG0${Math.abs(t)}${e?": "+e.trim():""}`}(e,n)),this.code=e}}function Y(t){return"string"==typeof t?t:null==t?"":String(t)}function xl(t,e){throw new N(-201,!1)}function mn(t,e){null==t&&function ge(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function J(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function xn(t){return{providers:t.providers||[],imports:t.imports||[]}}function Ml(t){return v0(t,kl)||v0(t,I0)}function v0(t,e){return t.hasOwnProperty(e)?t[e]:null}function w0(t){return t&&(t.hasOwnProperty(Bp)||t.hasOwnProperty(v2))?t[Bp]:null}const kl=ve({\u0275prov:ve}),Bp=ve({\u0275inj:ve}),I0=ve({ngInjectableDef:ve}),v2=ve({ngInjectorDef:ve});var $=(()=>(($=$||{})[$.Default=0]="Default",$[$.Host=1]="Host",$[$.Self=2]="Self",$[$.SkipSelf=4]="SkipSelf",$[$.Optional=8]="Optional",$))();let $p;function Mn(t){const e=$p;return $p=t,e}function E0(t,e,n){const r=Ml(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&$.Optional?null:void 0!==e?e:void xl(we(t))}function si(t){return{toString:t}.toString()}var Hn=(()=>((Hn=Hn||{})[Hn.OnPush=0]="OnPush",Hn[Hn.Default=1]="Default",Hn))(),sr=(()=>{return(t=sr||(sr={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",sr;var t})();const Ee=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Zs={},pe=[],Rl=ve({\u0275cmp:ve}),jp=ve({\u0275dir:ve}),Hp=ve({\u0275pipe:ve}),D0=ve({\u0275mod:ve}),Cr=ve({\u0275fac:ve}),Ga=ve({__NG_ELEMENT_ID__:ve});let I2=0;function oi(t){return si(()=>{const n=!0===t.standalone,r={},i={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===Hn.OnPush,directiveDefs:null,pipeDefs:null,standalone:n,dependencies:n&&t.dependencies||null,getStandaloneInjector:null,selectors:t.selectors||pe,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||sr.Emulated,id:"c"+I2++,styles:t.styles||pe,_:null,setInput:null,schemas:t.schemas||null,tView:null},s=t.dependencies,o=t.features;return i.inputs=C0(t.inputs,r),i.outputs=C0(t.outputs),o&&o.forEach(a=>a(i)),i.directiveDefs=s?()=>("function"==typeof s?s():s).map(b0).filter(T0):null,i.pipeDefs=s?()=>("function"==typeof s?s():s).map(Bt).filter(T0):null,i})}function b0(t){return me(t)||Ut(t)}function T0(t){return null!==t}function Gn(t){return si(()=>({type:t.type,bootstrap:t.bootstrap||pe,declarations:t.declarations||pe,imports:t.imports||pe,exports:t.exports||pe,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function C0(t,e){if(null==t)return Zs;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}const At=oi;function me(t){return t[Rl]||null}function Ut(t){return t[jp]||null}function Bt(t){return t[Hp]||null}function yn(t,e){const n=t[D0]||null;if(!n&&!0===e)throw new Error(`Type ${we(t)} does not have '\u0275mod' property.`);return n}function en(t){return Array.isArray(t)&&"object"==typeof t[1]}function zn(t){return Array.isArray(t)&&!0===t[1]}function zp(t){return 0!=(8&t.flags)}function Fl(t){return 2==(2&t.flags)}function Ll(t){return 1==(1&t.flags)}function Wn(t){return null!==t.template}function S2(t){return 0!=(256&t[2])}function Qi(t,e){return t.hasOwnProperty(Cr)?t[Cr]:null}class M2{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function Yi(){return x0}function x0(t){return t.type.prototype.ngOnChanges&&(t.setInput=R2),k2}function k2(){const t=k0(this),e=t?.current;if(e){const n=t.previous;if(n===Zs)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function R2(t,e,n,r){const i=k0(t)||function N2(t,e){return t[M0]=e}(t,{previous:Zs,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[n],u=o[a];s[a]=new M2(u&&u.currentValue,e,o===Zs),t[r]=e}Yi.ngInherit=!0;const M0="__ngSimpleChanges__";function k0(t){return t[M0]||null}function qe(t){for(;Array.isArray(t);)t=t[0];return t}function Vl(t,e){return qe(e[t])}function Nn(t,e){return qe(e[t.index])}function Zp(t,e){return t.data[e]}function vn(t,e){const n=e[t];return en(n)?n:n[0]}function Ul(t){return 64==(64&t[2])}function ai(t,e){return null==e?null:t[e]}function R0(t){t[18]=0}function Jp(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const W={lFrame:j0(null),bindingsEnabled:!0};function P0(){return W.bindingsEnabled}function D(){return W.lFrame.lView}function ce(){return W.lFrame.tView}function tt(){let t=O0();for(;null!==t&&64===t.type;)t=t.parent;return t}function O0(){return W.lFrame.currentTNode}function or(t,e){const n=W.lFrame;n.currentTNode=t,n.isParent=e}function Xp(){return W.lFrame.isParent}function ro(){return W.lFrame.bindingIndex++}function Y2(t,e){const n=W.lFrame;n.bindingIndex=n.bindingRootIndex=t,tg(e)}function tg(t){W.lFrame.currentDirectiveIndex=t}function rg(t){W.lFrame.currentQueryIndex=t}function J2(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function B0(t,e,n){if(n&$.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&$.Host||(i=J2(s),null===i||(s=s[15],10&i.type))););if(null===i)return!1;e=i,t=s}const r=W.lFrame=$0();return r.currentTNode=e,r.lView=t,!0}function ig(t){const e=$0(),n=t[1];W.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function $0(){const t=W.lFrame,e=null===t?null:t.child;return null===e?j0(t):e}function j0(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function H0(){const t=W.lFrame;return W.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const G0=H0;function sg(){const t=H0();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function jt(){return W.lFrame.selectedIndex}function ui(t){W.lFrame.selectedIndex=t}function Pe(){const t=W.lFrame;return Zp(t.tView,t.selectedIndex)}function Bl(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:l}=s;o&&(t.contentHooks||(t.contentHooks=[])).push(-n,o),a&&((t.contentHooks||(t.contentHooks=[])).push(n,a),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,a)),u&&(t.viewHooks||(t.viewHooks=[])).push(-n,u),c&&((t.viewHooks||(t.viewHooks=[])).push(n,c),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,c)),null!=l&&(t.destroyHooks||(t.destroyHooks=[])).push(n,l)}}function $l(t,e,n){q0(t,e,3,n)}function jl(t,e,n,r){(3&t[2])===n&&q0(t,e,n,r)}function og(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function q0(t,e,n,r){const s=r??-1,o=e.length-1;let a=0;for(let u=void 0!==r?65535&t[18]:0;u<o;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(t[18]+=65536),(a<s||-1==s)&&(aB(t,n,e,u),t[18]=(4294901760&t[18])+u+2),u++}function aB(t,e,n,r){const i=n[r]<0,s=n[r+1],a=t[i?-n[r]:n[r]];if(i){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{s.call(a)}finally{}}}else try{s.call(a)}finally{}}class Ya{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function Hl(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{const s=i,o=n[++r];W0(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function z0(t){return 3===t||4===t||6===t}function W0(t){return 64===t.charCodeAt(0)}function Gl(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||K0(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function K0(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}function Q0(t){return-1!==t}function io(t){return 32767&t}function so(t,e){let n=function hB(t){return t>>16}(t),r=e;for(;n>0;)r=r[15],n--;return r}let ug=!0;function ql(t){const e=ug;return ug=t,e}let fB=0;const ar={};function Ja(t,e){const n=lg(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,cg(r.data,t),cg(e,null),cg(r.blueprint,null));const i=zl(t,e),s=t.injectorIndex;if(Q0(i)){const o=io(i),a=so(i,e),u=a[1].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|u[o+c]}return e[s+8]=i,s}function cg(t,e){t.push(0,0,0,0,0,0,0,0,e)}function lg(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function zl(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=iC(i),null===r)return-1;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function Wl(t,e,n){!function pB(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Ga)&&(r=n[Ga]),null==r&&(r=n[Ga]=fB++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function J0(t,e,n){if(n&$.Optional||void 0!==t)return t;xl()}function X0(t,e,n,r){if(n&$.Optional&&void 0===r&&(r=null),0==(n&($.Self|$.Host))){const i=t[9],s=Mn(void 0);try{return i?i.get(e,r,n&$.Optional):E0(e,r,n&$.Optional)}finally{Mn(s)}}return J0(r,0,n)}function eC(t,e,n,r=$.Default,i){if(null!==t){if(1024&e[2]){const o=function wB(t,e,n,r,i){let s=t,o=e;for(;null!==s&&null!==o&&1024&o[2]&&!(256&o[2]);){const a=tC(s,o,n,r|$.Self,ar);if(a!==ar)return a;let u=s.parent;if(!u){const c=o[21];if(c){const l=c.get(n,ar,r);if(l!==ar)return l}u=iC(o),o=o[15]}s=u}return i}(t,e,n,r,ar);if(o!==ar)return o}const s=tC(t,e,n,r,ar);if(s!==ar)return s}return X0(e,n,r,i)}function tC(t,e,n,r,i){const s=function yB(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Ga)?t[Ga]:void 0;return"number"==typeof e?e>=0?255&e:_B:e}(n);if("function"==typeof s){if(!B0(e,t,r))return r&$.Host?J0(i,0,r):X0(e,n,r,i);try{const o=s(r);if(null!=o||r&$.Optional)return o;xl()}finally{G0()}}else if("number"==typeof s){let o=null,a=lg(t,e),u=-1,c=r&$.Host?e[16][6]:null;for((-1===a||r&$.SkipSelf)&&(u=-1===a?zl(t,e):e[a+8],-1!==u&&rC(r,!1)?(o=e[1],a=io(u),e=so(u,e)):a=-1);-1!==a;){const l=e[1];if(nC(s,a,l.data)){const d=mB(a,e,n,o,r,c);if(d!==ar)return d}u=e[a+8],-1!==u&&rC(r,e[1].data[a+8]===c)&&nC(s,a,e)?(o=l,a=io(u),e=so(u,e)):a=-1}}return i}function mB(t,e,n,r,i,s){const o=e[1],a=o.data[t+8],l=function Kl(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,l=s>>20,h=i?a+l:t.directiveEnd;for(let f=r?a:a+l;f<h;f++){const p=o[f];if(f<u&&n===p||f>=u&&p.type===n)return f}if(i){const f=o[u];if(f&&Wn(f)&&f.type===n)return u}return null}(a,o,n,null==r?Fl(a)&&ug:r!=o&&0!=(3&a.type),i&$.Host&&s===a);return null!==l?Xa(e,o,l,a):ar}function Xa(t,e,n,r){let i=t[n];const s=e.data;if(function uB(t){return t instanceof Ya}(i)){const o=i;o.resolving&&function d2(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new N(-200,`Circular dependency in DI detected for ${t}${n}`)}(function fe(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Y(t)}(s[n]));const a=ql(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?Mn(o.injectImpl):null;B0(t,r,$.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function oB(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=x0(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{null!==u&&Mn(u),ql(a),o.resolving=!1,G0()}}return i}function nC(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function rC(t,e){return!(t&$.Self||t&$.Host&&e)}class oo{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return eC(this._tNode,this._lView,e,r,n)}}function _B(){return new oo(tt(),D())}function iC(t){const e=t[1],n=e.type;return 2===n?e.declTNode:1===n?t[6]:null}const uo="__parameters__";function lo(t,e,n){return si(()=>{const r=function hg(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(u,c,l){const d=u.hasOwnProperty(uo)?u[uo]:Object.defineProperty(u,uo,{value:[]})[uo];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class j{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=J({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function xr(t,e){t.forEach(n=>Array.isArray(n)?xr(n,e):e(n))}function oC(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Ql(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function In(t,e,n){let r=ho(t,e);return r>=0?t[1|r]=n:(r=~r,function bB(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function pg(t,e){const n=ho(t,e);if(n>=0)return t[1|n]}function ho(t,e){return function cC(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}(t,e,1)}const iu={},mg="__NG_DI_FLAG__",Zl="ngTempTokenPath",RB=/\n/gm,lC="__source";let su;function fo(t){const e=su;return su=t,e}function PB(t,e=$.Default){if(void 0===su)throw new N(-203,!1);return null===su?E0(t,void 0,e):su.get(t,e&$.Optional?null:void 0,e)}function V(t,e=$.Default){return(function w2(){return $p}()||PB)(z(t),e)}function Ue(t,e=$.Default){return"number"!=typeof e&&(e=0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)),V(t,e)}function yg(t){const e=[];for(let n=0;n<t.length;n++){const r=z(t[n]);if(Array.isArray(r)){if(0===r.length)throw new N(900,!1);let i,s=$.Default;for(let o=0;o<r.length;o++){const a=r[o],u=OB(a);"number"==typeof u?-1===u?i=a.token:s|=u:i=a}e.push(V(i,s))}else e.push(V(r))}return e}function ou(t,e){return t[mg]=e,t.prototype[mg]=e,t}function OB(t){return t[mg]}const kt=ou(lo("Optional"),8),au=ou(lo("SkipSelf"),4);let vg;class DC{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function li(t){return t instanceof DC?t.changingThisBreaksApplicationSecurity:t}const s$=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;var ze=(()=>((ze=ze||{})[ze.NONE=0]="NONE",ze[ze.HTML=1]="HTML",ze[ze.STYLE=2]="STYLE",ze[ze.SCRIPT=3]="SCRIPT",ze[ze.URL=4]="URL",ze[ze.RESOURCE_URL=5]="RESOURCE_URL",ze))();function Cg(t){const e=function hu(){const t=D();return t&&t[12]}();return e?e.sanitize(ze.URL,t)||"":function lu(t,e){const n=function t$(t){return t instanceof DC&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}(t,"URL")?li(t):function Eg(t){return(t=String(t)).match(s$)?t:"unsafe:"+t}(Y(t))}const Sg=new j("ENVIRONMENT_INITIALIZER"),kC=new j("INJECTOR",-1),RC=new j("INJECTOR_DEF_TYPES");class NC{get(e,n=iu){if(n===iu){const r=new Error(`NullInjectorError: No provider for ${we(e)}!`);throw r.name="NullInjectorError",r}return n}}function v$(...t){return{\u0275providers:PC(0,t)}}function PC(t,...e){const n=[],r=new Set;let i;return xr(e,s=>{const o=s;Ag(o,n,[],r)&&(i||(i=[]),i.push(o))}),void 0!==i&&OC(i,n),n}function OC(t,e){for(let n=0;n<t.length;n++){const{providers:i}=t[n];xr(i,s=>{e.push(s)})}}function Ag(t,e,n,r){if(!(t=z(t)))return!1;let i=null,s=w0(t);const o=!s&&me(t);if(s||o){if(o&&!o.standalone)return!1;i=t}else{const u=t.ngModule;if(s=w0(u),!s)return!1;i=u}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const u="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of u)Ag(c,e,n,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;r.add(i);try{xr(s.imports,l=>{Ag(l,e,n,r)&&(c||(c=[]),c.push(l))})}finally{}void 0!==c&&OC(c,e)}if(!a){const c=Qi(i)||(()=>new i);e.push({provide:i,useFactory:c,deps:pe},{provide:RC,useValue:i,multi:!0},{provide:Sg,useValue:()=>V(i),multi:!0})}const u=s.providers;null==u||a||xr(u,l=>{e.push(l)})}}return i!==t&&void 0!==t.providers}const w$=ve({provide:String,useValue:ve});function xg(t){return null!==t&&"object"==typeof t&&w$ in t}function Zi(t){return"function"==typeof t}const Mg=new j("Set Injector scope."),rd={},E$={};let kg;function id(){return void 0===kg&&(kg=new NC),kg}class di{}class VC extends di{constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ng(e,o=>this.processProvider(o)),this.records.set(kC,mo(void 0,this)),i.has("environment")&&this.records.set(di,mo(void 0,this));const s=this.records.get(Mg);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(RC.multi,pe,$.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){this._onDestroyHooks.push(e)}runInContext(e){this.assertNotDestroyed();const n=fo(this),r=Mn(void 0);try{return e()}finally{fo(n),Mn(r)}}get(e,n=iu,r=$.Default){this.assertNotDestroyed();const i=fo(this),s=Mn(void 0);try{if(!(r&$.SkipSelf)){let a=this.records.get(e);if(void 0===a){const u=function S$(t){return"function"==typeof t||"object"==typeof t&&t instanceof j}(e)&&Ml(e);a=u&&this.injectableDefInScope(u)?mo(Rg(e),rd):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&$.Self?id():this.parent).get(e,n=r&$.Optional&&n===iu?null:n)}catch(o){if("NullInjectorError"===o.name){if((o[Zl]=o[Zl]||[]).unshift(we(e)),i)throw o;return function FB(t,e,n,r){const i=t[Zl];throw e[lC]&&i.unshift(e[lC]),t.message=function LB(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=we(e);if(Array.isArray(e))i=e.map(we).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):we(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(RB,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[Zl]=null,t}(o,e,"R3InjectorError",this.source)}throw o}finally{Mn(s),fo(i)}}resolveInjectorInitializers(){const e=fo(this),n=Mn(void 0);try{const r=this.get(Sg.multi,pe,$.Self);for(const i of r)i()}finally{fo(e),Mn(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(we(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new N(205,!1)}processProvider(e){let n=Zi(e=z(e))?e:z(e&&e.provide);const r=function b$(t){return xg(t)?mo(void 0,t.useValue):mo(function UC(t,e,n){let r;if(Zi(t)){const i=z(t);return Qi(i)||Rg(i)}if(xg(t))r=()=>z(t.useValue);else if(function LC(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...yg(t.deps||[]));else if(function FC(t){return!(!t||!t.useExisting)}(t))r=()=>V(z(t.useExisting));else{const i=z(t&&(t.useClass||t.provide));if(!function T$(t){return!!t.deps}(t))return Qi(i)||Rg(i);r=()=>new i(...yg(t.deps))}return r}(t),rd)}(e);if(Zi(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=mo(void 0,rd,!0),i.factory=()=>yg(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===rd&&(n.value=E$,n.value=n.factory()),"object"==typeof n.value&&n.value&&function C$(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=z(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}}function Rg(t){const e=Ml(t),n=null!==e?e.factory:Qi(t);if(null!==n)return n;if(t instanceof j)throw new N(204,!1);if(t instanceof Function)return function D$(t){const e=t.length;if(e>0)throw function ru(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?"),new N(204,!1);const n=function y2(t){const e=t&&(t[kl]||t[I0]);if(e){const n=function _2(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new N(204,!1)}function mo(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function A$(t){return!!t.\u0275providers}function Ng(t,e){for(const n of t)Array.isArray(n)?Ng(n,e):A$(n)?Ng(n.\u0275providers,e):e(n)}class BC{}class k${resolveComponentFactory(e){throw function M$(t){const e=Error(`No component factory found for ${we(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(e)}}let fu=(()=>{class t{}return t.NULL=new k$,t})();function R$(){return yo(tt(),D())}function yo(t,e){return new hi(Nn(t,e))}let hi=(()=>{class t{constructor(n){this.nativeElement=n}}return t.__NG_ELEMENT_ID__=R$,t})();class jC{}let O$=(()=>{class t{}return t.\u0275prov=J({token:t,providedIn:"root",factory:()=>null}),t})();class pu{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const HC=new pu("14.2.5"),Pg={};function Ug(t){return t.ngOriginalError}class _o{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Ug(e);for(;n&&Ug(n);)n=Ug(n);return n||null}}const Bg=new Map;let W$=0;const jg="__ngContext__";function Rt(t,e){en(e)?(t[jg]=e[20],function Q$(t){Bg.set(t[20],t)}(e)):t[jg]=e}function kr(t){return t instanceof Function?t():t}var tn=(()=>((tn=tn||{})[tn.Important=1]="Important",tn[tn.DashCase=2]="DashCase",tn))();function Gg(t,e){return undefined(t,e)}function mu(t){const e=t[3];return zn(e)?e[3]:e}function qg(t){return rS(t[13])}function zg(t){return rS(t[4])}function rS(t){for(;null!==t&&!zn(t);)t=t[4];return t}function wo(t,e,n,r,i){if(null!=r){let s,o=!1;zn(r)?s=r:en(r)&&(o=!0,r=r[0]);const a=qe(r);0===t&&null!==n?null==i?cS(e,n,a):Ji(e,n,a,i||null,!0):1===t&&null!==n?Ji(e,n,a,i||null,!0):2===t?function mS(t,e,n){const r=od(t,e);r&&function Ej(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function Tj(t,e,n,r,i){const s=n[7];s!==qe(n)&&wo(e,t,r,s,i);for(let a=10;a<n.length;a++){const u=n[a];yu(u[1],u,t,e,r,s)}}(e,t,s,n,i)}}function Kg(t,e,n){return t.createElement(e,n)}function sS(t,e){const n=t[9],r=n.indexOf(e),i=e[3];512&e[2]&&(e[2]&=-513,Jp(i,-1)),n.splice(r,1)}function Qg(t,e){if(t.length<=10)return;const n=10+e,r=t[n];if(r){const i=r[17];null!==i&&i!==t&&sS(i,r),e>0&&(t[n-1][4]=r[4]);const s=Ql(t,10+e);!function pj(t,e){yu(t,e,e[11],2,null,null),e[0]=null,e[6]=null}(r[1],r);const o=s[19];null!==o&&o.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-65}return r}function oS(t,e){if(!(128&e[2])){const n=e[11];n.destroyNode&&yu(t,e,n,3,null,null),function yj(t){let e=t[13];if(!e)return Yg(t[1],t);for(;e;){let n=null;if(en(e))n=e[13];else{const r=e[10];r&&(n=r)}if(!n){for(;e&&!e[4]&&e!==t;)en(e)&&Yg(e[1],e),e=e[3];null===e&&(e=t),en(e)&&Yg(e[1],e),n=e&&e[4]}e=n}}(e)}}function Yg(t,e){if(!(128&e[2])){e[2]&=-65,e[2]|=128,function Ij(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof Ya)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],u=s[o+1];try{u.call(a)}finally{}}else try{s.call(i)}finally{}}}}(t,e),function wj(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+1],a="function"==typeof o?o(e):qe(e[o]),u=r[i=n[s+2]],c=n[s+3];"boolean"==typeof c?a.removeEventListener(n[s],u,c):c>=0?r[i=c]():r[i=-c].unsubscribe(),s+=2}else{const o=r[i=n[s+1]];n[s].call(o)}if(null!==r){for(let s=i+1;s<r.length;s++)(0,r[s])();e[7]=null}}(t,e),1===e[1].type&&e[11].destroy();const n=e[17];if(null!==n&&zn(e[3])){n!==e[3]&&sS(n,e);const r=e[19];null!==r&&r.detachView(t)}!function Y$(t){Bg.delete(t[20])}(e)}}function aS(t,e,n){return function uS(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const i=t.data[r.directiveStart].encapsulation;if(i===sr.None||i===sr.Emulated)return null}return Nn(r,n)}(t,e.parent,n)}function Ji(t,e,n,r,i){t.insertBefore(e,n,r,i)}function cS(t,e,n){t.appendChild(e,n)}function lS(t,e,n,r,i){null!==r?Ji(t,e,n,r,i):cS(t,e,n)}function od(t,e){return t.parentNode(e)}let fS=function hS(t,e,n){return 40&t.type?Nn(t,n):null};function ad(t,e,n,r){const i=aS(t,r,e),s=e[11],a=function dS(t,e,n){return fS(t,e,n)}(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(let u=0;u<n.length;u++)lS(s,i,n[u],a,!1);else lS(s,i,n,a,!1)}function ud(t,e){if(null!==e){const n=e.type;if(3&n)return Nn(e,t);if(4&n)return Jg(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return ud(t,r);{const i=t[e.index];return zn(i)?Jg(-1,i):qe(i)}}if(32&n)return Gg(e,t)()||qe(t[e.index]);{const r=gS(t,e);return null!==r?Array.isArray(r)?r[0]:ud(mu(t[16]),r):ud(t,e.next)}}return null}function gS(t,e){return null!==e?t[16][6].projection[e.projection]:null}function Jg(t,e){const n=10+t+1;if(n<e.length){const r=e[n],i=r[1].firstChild;if(null!==i)return ud(r,i)}return e[7]}function Xg(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;if(o&&0===e&&(a&&Rt(qe(a),r),n.flags|=4),64!=(64&n.flags))if(8&u)Xg(t,e,n.child,r,i,s,!1),wo(e,t,i,a,s);else if(32&u){const c=Gg(n,r);let l;for(;l=c();)wo(e,t,i,l,s);wo(e,t,i,a,s)}else 16&u?yS(t,e,r,n,i,s):wo(e,t,i,a,s);n=o?n.projectionNext:n.next}}function yu(t,e,n,r,i,s){Xg(n,r,t.firstChild,e,i,s,!1)}function yS(t,e,n,r,i,s){const o=n[16],u=o[6].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)wo(e,t,i,u[c],s);else Xg(t,e,u,o[3],i,s,!0)}function _S(t,e,n){t.setAttribute(e,"style",n)}function em(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function vS(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}const wS="ng-template";function Sj(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==vS(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function IS(t){return 4===t.type&&t.value!==wS}function Aj(t,e,n){return e===(4!==t.type||n?t.value:wS)}function xj(t,e,n){let r=4;const i=t.attrs||[],s=function Rj(t){for(let e=0;e<t.length;e++)if(z0(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!Aj(t,u,n)||""===u&&1===e.length){if(Kn(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!Sj(t.attrs,c,n)){if(Kn(r))return!1;o=!0}continue}const d=Mj(8&r?"class":u,i,IS(t),n);if(-1===d){if(Kn(r))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==vS(f,c,0)||2&r&&c!==h){if(Kn(r))return!1;o=!0}}}}else{if(!o&&!Kn(r)&&!Kn(u))return!1;if(o&&Kn(u))continue;o=!1,r=u|1&r}}return Kn(r)||o}function Kn(t){return 0==(1&t)}function Mj(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function Nj(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function ES(t,e,n=!1){for(let r=0;r<e.length;r++)if(xj(t,e[r],n))return!0;return!1}function DS(t,e){return t?":not("+e.trim()+")":e}function Oj(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!Kn(o)&&(e+=DS(s,i),i=""),r=o,s=s||!Kn(r);n++}return""!==i&&(e+=DS(s,i)),e}const Z={};function _u(t){bS(ce(),D(),jt()+t,!1)}function bS(t,e,n,r){if(!r)if(3==(3&e[2])){const s=t.preOrderCheckHooks;null!==s&&$l(e,s,n)}else{const s=t.preOrderHooks;null!==s&&jl(e,s,0,n)}ui(n)}function AS(t,e=null,n=null,r){const i=xS(t,e,n,r);return i.resolveInjectorInitializers(),i}function xS(t,e=null,n=null,r,i=new Set){const s=[n||pe,v$(t)];return r=r||("object"==typeof t?void 0:we(t)),new VC(s,e||id(),r||null,i)}let Gt=(()=>{class t{static create(n,r){if(Array.isArray(n))return AS({name:""},r,n,"");{const i=n.name??"";return AS({name:i},n.parent,n.providers,i)}}}return t.THROW_IF_NOT_FOUND=iu,t.NULL=new NC,t.\u0275prov=J({token:t,providedIn:"any",factory:()=>V(kC)}),t.__NG_ELEMENT_ID__=-1,t})();function L(t,e=$.Default){const n=D();return null===n?V(t,e):eC(tt(),n,z(t),e)}function sm(){throw new Error("invalid")}function ld(t,e){return t<<17|e<<2}function Qn(t){return t>>17&32767}function om(t){return 2|t}function Rr(t){return(131068&t)>>2}function am(t,e){return-131069&t|e<<2}function um(t){return 1|t}function zS(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const o=t.data[s];rg(i),o.contentQueries(2,e[s],s)}}}function fd(t,e,n,r,i,s,o,a,u,c,l){const d=e.blueprint.slice();return d[0]=i,d[2]=76|r,(null!==l||t&&1024&t[2])&&(d[2]|=1024),R0(d),d[3]=d[15]=t,d[8]=n,d[10]=o||t&&t[10],d[11]=a||t&&t[11],d[12]=u||t&&t[12]||null,d[9]=c||t&&t[9]||null,d[6]=s,d[20]=function K$(){return W$++}(),d[21]=l,d[16]=2==e.type?t[16]:d,d}function Eo(t,e,n,r,i){let s=t.data[e];if(null===s)s=function mm(t,e,n,r,i){const s=O0(),o=Xp(),u=t.data[e]=function yH(t,e,n,r,i,s){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u)),u}(t,e,n,r,i),function Q2(){return W.lFrame.inI18n}()&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function Qa(){const t=W.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return or(s,!0),s}function Do(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function ym(t,e,n){ig(e);try{const r=t.viewQuery;null!==r&&Tm(1,r,n);const i=t.template;null!==i&&WS(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&zS(t,e),t.staticViewQueries&&Tm(2,t.viewQuery,n);const s=t.components;null!==s&&function pH(t,e){for(let n=0;n<e.length;n++)NH(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[2]&=-5,sg()}}function pd(t,e,n,r){const i=e[2];if(128!=(128&i)){ig(e);try{R0(e),function L0(t){return W.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&WS(t,e,n,2,r);const o=3==(3&i);if(o){const c=t.preOrderCheckHooks;null!==c&&$l(e,c,null)}else{const c=t.preOrderHooks;null!==c&&jl(e,c,0,null),og(e,0)}if(function kH(t){for(let e=qg(t);null!==e;e=zg(e)){if(!e[2])continue;const n=e[9];for(let r=0;r<n.length;r++){const i=n[r],s=i[3];0==(512&i[2])&&Jp(s,1),i[2]|=512}}}(e),function MH(t){for(let e=qg(t);null!==e;e=zg(e))for(let n=10;n<e.length;n++){const r=e[n],i=r[1];Ul(r)&&pd(i,r,i.template,r[8])}}(e),null!==t.contentQueries&&zS(t,e),o){const c=t.contentCheckHooks;null!==c&&$l(e,c)}else{const c=t.contentHooks;null!==c&&jl(e,c,1),og(e,1)}!function hH(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const i=n[r];if(i<0)ui(~i);else{const s=i,o=n[++r],a=n[++r];Y2(o,s),a(2,e[s])}}}finally{ui(-1)}}(t,e);const a=t.components;null!==a&&function fH(t,e){for(let n=0;n<e.length;n++)RH(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&Tm(2,u,r),o){const c=t.viewCheckHooks;null!==c&&$l(e,c)}else{const c=t.viewHooks;null!==c&&jl(e,c,2),og(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[2]&=-41,512&e[2]&&(e[2]&=-513,Jp(e[3],-1))}finally{sg()}}}function WS(t,e,n,r,i){const s=jt(),o=2&r;try{ui(-1),o&&e.length>22&&bS(t,e,22,!1),n(r,i)}finally{ui(s)}}function _m(t,e,n){!P0()||(function EH(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;t.firstCreatePass||Ja(n,e),Rt(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const u=t.data[a],c=Wn(u);c&&SH(e,n,u);const l=Xa(e,t,a,n);Rt(l,e),null!==o&&AH(0,a-i,l,u,0,o),c&&(vn(n.index,e)[8]=l)}}(t,e,n,Nn(n,e)),128==(128&n.flags)&&function DH(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=function Z2(){return W.lFrame.currentDirectiveIndex}();try{ui(s);for(let a=r;a<i;a++){const u=t.data[a],c=e[a];tg(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&tA(u,c)}}finally{ui(-1),tg(o)}}(t,e,n))}function vm(t,e,n=Nn){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function QS(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=wm(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function wm(t,e,n,r,i,s,o,a,u,c){const l=22+r,d=l+i,h=function gH(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:Z);return n}(l,d),f="function"==typeof c?c():c;return h[1]={type:t,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:f,incompleteFirstPass:!1}}function ZS(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function JS(t,e){const r=e.directiveEnd,i=t.data,s=e.attrs,o=[];let a=null,u=null;for(let c=e.directiveStart;c<r;c++){const l=i[c],d=l.inputs,h=null===s||IS(e)?null:xH(d,s);o.push(h),a=ZS(d,c,a),u=ZS(l.outputs,c,u)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=a,e.outputs=u}function En(t,e,n,r,i,s,o,a){const u=Nn(e,n);let l,c=e.inputs;!a&&null!=c&&(l=c[r])?(Cm(t,n,l,r,i),Fl(e)&&XS(n,e.index)):3&e.type&&(r=function _H(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(u,r,i))}function XS(t,e){const n=vn(e,t);16&n[2]||(n[2]|=32)}function Im(t,e,n,r){let i=!1;if(P0()){const s=function bH(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];ES(n,o.selectors,!1)&&(i||(i=[]),Wl(Ja(n,e),t,o.type),Wn(o)?(nA(t,n),i.unshift(o)):i.push(o))}return i}(t,e,n),o=null===r?null:{"":-1};if(null!==s){i=!0,rA(n,t.data.length,s.length);for(let l=0;l<s.length;l++){const d=s[l];d.providersResolver&&d.providersResolver(d)}let a=!1,u=!1,c=Do(t,e,s.length,null);for(let l=0;l<s.length;l++){const d=s[l];n.mergedAttrs=Gl(n.mergedAttrs,d.hostAttrs),iA(t,n,e,c,d),CH(c,d,o),null!==d.contentQueries&&(n.flags|=8),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(n.flags|=128);const h=d.type.prototype;!a&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),a=!0),!u&&(h.ngOnChanges||h.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),u=!0),c++}JS(t,n)}o&&function TH(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new N(-301,!1);r.push(e[i],s)}}}(n,r,o)}return n.mergedAttrs=Gl(n.mergedAttrs,n.attrs),i}function eA(t,e,n,r,i,s){const o=s.hostBindings;if(o){let a=t.hostBindingOpCodes;null===a&&(a=t.hostBindingOpCodes=[]);const u=~e.index;(function IH(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(a)!=u&&a.push(u),a.push(r,i,o)}}function tA(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function nA(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function CH(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Wn(e)&&(n[""]=t)}}function rA(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function iA(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=Qi(i.type)),o=new Ya(s,Wn(i),L);t.blueprint[r]=o,n[r]=o,eA(t,e,0,r,Do(t,n,i.hostVars,Z),i)}function SH(t,e,n){const r=Nn(e,t),i=QS(n),s=t[10],o=gd(t,fd(t,i,null,n.onPush?32:16,r,e,s,s.createRenderer(r,n),null,null,null));t[e.index]=o}function ur(t,e,n,r,i,s){const o=Nn(t,e);!function Em(t,e,n,r,i,s,o){if(null==s)t.removeAttribute(e,i,n);else{const a=null==o?Y(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}(e[11],o,s,t.value,n,r,i)}function AH(t,e,n,r,i,s){const o=s[e];if(null!==o){const a=r.setInput;for(let u=0;u<o.length;){const c=o[u++],l=o[u++],d=o[u++];null!==a?r.setInput(n,d,c,l):n[l]=d}}}function xH(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function sA(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function RH(t,e){const n=vn(e,t);if(Ul(n)){const r=n[1];48&n[2]?pd(r,n,r.template,n[8]):n[5]>0&&Dm(n)}}function Dm(t){for(let r=qg(t);null!==r;r=zg(r))for(let i=10;i<r.length;i++){const s=r[i];if(Ul(s))if(512&s[2]){const o=s[1];pd(o,s,o.template,s[8])}else s[5]>0&&Dm(s)}const n=t[1].components;if(null!==n)for(let r=0;r<n.length;r++){const i=vn(n[r],t);Ul(i)&&i[5]>0&&Dm(i)}}function NH(t,e){const n=vn(e,t),r=n[1];(function PH(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])})(r,n),ym(r,n,n[8])}function gd(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function bm(t){for(;t;){t[2]|=32;const e=mu(t);if(S2(t)&&!e)return t;t=e}return null}function md(t,e,n,r=!0){const i=e[10];i.begin&&i.begin();try{pd(t,e,t.template,n)}catch(o){throw r&&cA(e,o),o}finally{i.end&&i.end()}}function Tm(t,e,n){rg(0),e(t,n)}function oA(t){return t[7]||(t[7]=[])}function aA(t){return t.cleanup||(t.cleanup=[])}function cA(t,e){const n=t[9],r=n?n.get(_o,null):null;r&&r.handleError(e)}function Cm(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],u=e[o],c=t.data[o];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function yd(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=Lp(i,a):2==s&&(r=Lp(r,a+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function _d(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&r.push(qe(s)),zn(s))for(let a=10;a<s.length;a++){const u=s[a],c=u[1].firstChild;null!==c&&_d(u[1],u,c,r)}const o=n.type;if(8&o)_d(t,e,n.child,r);else if(32&o){const a=Gg(n,e);let u;for(;u=a();)r.push(u)}else if(16&o){const a=gS(e,n);if(Array.isArray(a))r.push(...a);else{const u=mu(e[16]);_d(u[1],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}class vu{constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,n=e[1];return _d(n,e,n.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(zn(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(Qg(e,r),Ql(n,r))}this._attachedToViewContainer=!1}oS(this._lView[1],this._lView)}onDestroy(e){!function YS(t,e,n,r){const i=oA(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&aA(t).push(r,i.length-1))}(this._lView[1],this._lView,null,e)}markForCheck(){bm(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){md(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new N(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function mj(t,e){yu(t,e,e[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new N(902,!1);this._appRef=e}}class OH extends vu{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;md(e[1],e,e[8],!1)}checkNoChanges(){}get context(){return null}}class Sm extends fu{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=me(e);return new wu(n,this.ngModule)}}function lA(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class LH{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){const i=this.injector.get(e,Pg,r);return i!==Pg||n===Pg?i:this.parentInjector.get(e,n,r)}}class wu extends BC{constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function Fj(t){return t.map(Oj).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}get inputs(){return lA(this.componentDef.inputs)}get outputs(){return lA(this.componentDef.outputs)}create(e,n,r,i){let s=(i=i||this.ngModule)instanceof di?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new LH(e,s):e,a=o.get(jC,null);if(null===a)throw new N(407,!1);const u=o.get(O$,null),c=a.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",d=r?function mH(t,e,n){return t.selectRootElement(e,n===sr.ShadowDom)}(c,r,this.componentDef.encapsulation):Kg(a.createRenderer(null,this.componentDef),l,function FH(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(l)),h=this.componentDef.onPush?288:272,f=wm(0,null,null,1,0,null,null,null,null,null),p=fd(null,f,null,h,null,null,a,c,u,o,null);let m,y;ig(p);try{const I=function BH(t,e,n,r,i,s){const o=n[1];n[22]=t;const u=Eo(o,22,2,"#host",null),c=u.mergedAttrs=e.hostAttrs;null!==c&&(yd(u,c,!0),null!==t&&(Hl(i,t,c),null!==u.classes&&em(i,t,u.classes),null!==u.styles&&_S(i,t,u.styles)));const l=r.createRenderer(t,e),d=fd(n,QS(e),null,e.onPush?32:16,n[22],u,r,l,s||null,null,null);return o.firstCreatePass&&(Wl(Ja(u,n),o,e.type),nA(o,u),rA(u,n.length,1)),gd(n,d),n[22]=d}(d,this.componentDef,p,a,c);if(d)if(r)Hl(c,d,["ng-version",HC.full]);else{const{attrs:E,classes:_}=function Lj(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!Kn(i))break;i=s}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);E&&Hl(c,d,E),_&&_.length>0&&em(c,d,_.join(" "))}if(y=Zp(f,22),void 0!==n){const E=y.projection=[];for(let _=0;_<this.ngContentSelectors.length;_++){const C=n[_];E.push(null!=C?Array.from(C):null)}}m=function $H(t,e,n,r){const i=n[1],s=function wH(t,e,n){const r=tt();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),iA(t,r,e,Do(t,e,1,null),n),JS(t,r));const i=Xa(e,t,r.directiveStart,r);Rt(i,e);const s=Nn(r,e);return s&&Rt(s,e),i}(i,n,e);if(t[8]=n[8]=s,null!==r)for(const a of r)a(s,e);if(e.contentQueries){const a=tt();e.contentQueries(1,s,a.directiveStart)}const o=tt();return!i.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(ui(o.index),eA(n[1],o,0,o.directiveStart,o.directiveEnd,e),tA(e,s)),s}(I,this.componentDef,p,[jH]),ym(f,p,null)}finally{sg()}return new UH(this.componentType,m,yo(y,p),p,y)}}class UH extends class x${}{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=n,this.hostView=this.changeDetectorRef=new OH(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){const s=this._rootLView;Cm(s[1],s,i,e,n),XS(s,this._tNode.index)}}get injector(){return new oo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function jH(){const t=tt();Bl(D()[1],t)}let vd=null;function Xi(){if(!vd){const t=Ee.Symbol;if(t&&t.iterator)vd=t.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let n=0;n<e.length;++n){const r=e[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(vd=r)}}}return vd}function Iu(t){return!!function xm(t){return null!==t&&("function"==typeof t||"object"==typeof t)}(t)&&(Array.isArray(t)||!(t instanceof Map)&&Xi()in t)}function Nt(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Mm(t,e,n,r){const i=D();return Nt(i,ro(),e)&&(ce(),ur(Pe(),i,t,e,n,r)),Mm}function To(t,e,n,r){return Nt(t,ro(),n)?e+Y(n)+r:Z}function km(t,e,n){const r=D();return Nt(r,ro(),e)&&En(ce(),Pe(),r,t,e,r[11],n,!1),km}function Rm(t,e,n,r,i){const o=i?"class":"style";Cm(t,n,e.inputs[o],o,r)}function On(t,e,n,r){const i=D(),s=ce(),o=22+t,a=i[11],u=i[o]=Kg(a,e,function sB(){return W.lFrame.currentNamespace}()),c=s.firstCreatePass?function rG(t,e,n,r,i,s,o){const a=e.consts,c=Eo(e,t,2,i,ai(a,s));return Im(e,n,c,ai(a,o)),null!==c.attrs&&yd(c,c.attrs,!1),null!==c.mergedAttrs&&yd(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(o,s,i,0,e,n,r):s.data[o];or(c,!0);const l=c.mergedAttrs;null!==l&&Hl(a,u,l);const d=c.classes;null!==d&&em(a,u,d);const h=c.styles;return null!==h&&_S(a,u,h),64!=(64&c.flags)&&ad(s,i,u,c),0===function $2(){return W.lFrame.elementDepthCount}()&&Rt(u,i),function j2(){W.lFrame.elementDepthCount++}(),Ll(c)&&(_m(s,i,c),function KS(t,e,n){if(zp(e)){const i=e.directiveEnd;for(let s=e.directiveStart;s<i;s++){const o=t.data[s];o.contentQueries&&o.contentQueries(1,n[s],s)}}}(s,c,i)),null!==r&&vm(i,c),On}function Fn(){let t=tt();Xp()?function eg(){W.lFrame.isParent=!1}():(t=t.parent,or(t,!1));const e=t;!function H2(){W.lFrame.elementDepthCount--}();const n=ce();return n.firstCreatePass&&(Bl(n,t),zp(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function lB(t){return 0!=(16&t.flags)}(e)&&Rm(n,e,D(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function dB(t){return 0!=(32&t.flags)}(e)&&Rm(n,e,D(),e.stylesWithoutHost,!1),Fn}function No(t,e,n,r){return On(t,e,n,r),Fn(),No}function Id(t){return!!t&&"function"==typeof t.then}const TA=function bA(t){return!!t&&"function"==typeof t.subscribe};function Po(t,e,n,r){const i=D(),s=ce(),o=tt();return function SA(t,e,n,r,i,s,o,a){const u=Ll(r),l=t.firstCreatePass&&aA(t),d=e[8],h=oA(e);let f=!0;if(3&r.type||a){const y=Nn(r,e),I=a?a(y):y,E=h.length,_=a?R=>a(qe(R[r.index])):r.index;let C=null;if(!a&&u&&(C=function oG(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=e[7],u=i[s+2];return a.length>u?a[u]:null}"string"==typeof o&&(s+=2)}return null}(t,e,i,r.index)),null!==C)(C.__ngLastListenerFn__||C).__ngNextListenerFn__=s,C.__ngLastListenerFn__=s,f=!1;else{s=xA(r,e,d,s,!1);const R=n.listen(I,i,s);h.push(s,R),l&&l.push(i,_,E,E+1)}}else s=xA(r,e,d,s,!1);const p=r.outputs;let m;if(f&&null!==p&&(m=p[i])){const y=m.length;if(y)for(let I=0;I<y;I+=2){const O=e[m[I]][m[I+1]].subscribe(s),_e=h.length;h.push(s,O),l&&l.push(i,r.index,_e,-(_e+1))}}}(s,i,i[11],o,t,e,0,r),Po}function AA(t,e,n,r){try{return!1!==n(r)}catch(i){return cA(t,i),!1}}function xA(t,e,n,r,i){return function s(o){if(o===Function)return r;bm(2&t.flags?vn(t.index,e):e);let u=AA(e,0,r,o),c=s.__ngNextListenerFn__;for(;c;)u=AA(e,0,c,o)&&u,c=c.__ngNextListenerFn__;return i&&!1===u&&(o.preventDefault(),o.returnValue=!1),u}}function Om(t,e,n){return Fm(t,"",e,"",n),Om}function Fm(t,e,n,r,i){const s=D(),o=To(s,e,n,r);return o!==Z&&En(ce(),Pe(),s,t,o,s[11],i,!1),Fm}function VA(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?Qn(s):Rr(s),u=!1;for(;0!==a&&(!1===u||o);){const l=t[a+1];fG(t[a],e)&&(u=!0,t[a+1]=r?um(l):om(l)),a=r?Qn(l):Rr(l)}u&&(t[n+1]=r?om(s):um(s))}function fG(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&ho(t,e)>=0}const rt={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function UA(t){return t.substring(rt.key,rt.keyEnd)}function BA(t,e){const n=rt.textEnd;return n===e?-1:(e=rt.keyEnd=function yG(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,rt.key=e,n),Oo(t,e,n))}function Oo(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function WA(t){!function Zn(t,e,n,r){const i=ce(),s=function Ar(t){const e=W.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}(2);i.firstUpdatePass&&function QA(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[jt()],o=KA(t,n);XA(s,r)&&null===e&&!o&&(e=!1),e=function IG(t,e,n,r){const i=function ng(t){const e=W.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=Du(n=Lm(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=Lm(i,t,e,n,r),null===s){let u=function EG(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Rr(r))return t[Qn(r)]}(t,e,r);void 0!==u&&Array.isArray(u)&&(u=Lm(null,t,e,u[1],r),u=Du(u,e.attrs,r),function DG(t,e,n,r){t[Qn(n?e.classBindings:e.styleBindings)]=r}(t,e,r,u))}else s=function bG(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=Du(r,t[s].hostAttrs,n);return Du(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function dG(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Qn(o),u=Rr(o);t[r]=n;let l,c=!1;if(Array.isArray(n)){const d=n;l=d[1],(null===l||ho(d,l)>0)&&(c=!0)}else l=n;if(i)if(0!==u){const h=Qn(t[a+1]);t[r+1]=ld(h,a),0!==h&&(t[h+1]=am(t[h+1],r)),t[a+1]=function nH(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=ld(a,0),0!==a&&(t[a+1]=am(t[a+1],r)),a=r;else t[r+1]=ld(u,0),0===a?a=r:t[u+1]=am(t[u+1],r),u=r;c&&(t[r+1]=om(t[r+1])),VA(t,l,r,!0),VA(t,l,r,!1),function hG(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&ho(s,e)>=0&&(n[r+1]=um(n[r+1]))}(e,l,t,r,s),o=ld(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}(i,null,s,r);const o=D();if(n!==Z&&Nt(o,s,n)){const a=i.data[jt()];if(XA(a,r)&&!KA(i,s)){let u=r?a.classesWithoutHost:a.stylesWithoutHost;null!==u&&(n=Lp(u,n||"")),Rm(i,a,o,n,r)}else!function CG(t,e,n,r,i,s,o,a){i===Z&&(i=pe);let u=0,c=0,l=0<i.length?i[0]:null,d=0<s.length?s[0]:null;for(;null!==l||null!==d;){const h=u<i.length?i[u+1]:void 0,f=c<s.length?s[c+1]:void 0;let m,p=null;l===d?(u+=2,c+=2,h!==f&&(p=d,m=f)):null===d||null!==l&&l<d?(u+=2,p=l):(c+=2,p=d,m=f),null!==p&&ZA(t,e,n,r,p,m,o,a),l=u<i.length?i[u]:null,d=c<s.length?s[c]:null}}(i,a,o,o[11],o[s+1],o[s+1]=function TG(t,e,n){if(null==n||""===n)return pe;const r=[],i=li(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)t(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&t(r,s,i[s]);else"string"==typeof i&&e(r,i);return r}(t,e,n),r,s)}}(In,dr,t,!0)}function dr(t,e){for(let n=function gG(t){return function jA(t){rt.key=0,rt.keyEnd=0,rt.value=0,rt.valueEnd=0,rt.textEnd=t.length}(t),BA(t,Oo(t,0,rt.textEnd))}(e);n>=0;n=BA(e,n))In(t,UA(e),!0)}function KA(t,e){return e>=t.expandoStartIndex}function Lm(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=Du(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function Du(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),In(t,o,!!n||e[++s]))}return void 0===t?null:t}function ZA(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const u=t.data,c=u[a+1];Ed(function VS(t){return 1==(1&t)}(c)?JA(u,e,n,i,Rr(c),o):void 0)||(Ed(s)||function LS(t){return 2==(2&t)}(c)&&(s=JA(u,null,n,i,a,o)),function Cj(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=-1===r.indexOf("-")?void 0:tn.DashCase;null==i?t.removeStyle(n,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=tn.Important),t.setStyle(n,r,i,s))}}(r,o,Vl(jt(),n),i,s))}function JA(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const u=t[i],c=Array.isArray(u),l=c?u[1]:u,d=null===l;let h=n[i+1];h===Z&&(h=d?pe:void 0);let f=d?pg(h,r):l===r?h:void 0;if(c&&!Ed(f)&&(f=pg(u,r)),Ed(f)&&(a=f,o))return a;const p=t[i+1];i=o?Qn(p):Rr(p)}if(null!==e){let u=s?e.residualClasses:e.residualStyles;null!=u&&(a=pg(u,r))}return a}function Ed(t){return void 0!==t}function XA(t,e){return 0!=(t.flags&(e?16:32))}function ts(t,e=""){const n=D(),r=ce(),i=t+22,s=r.firstCreatePass?Eo(r,i,1,e,null):r.data[i],o=n[i]=function Wg(t,e){return t.createText(e)}(n[11],e);ad(r,n,o,s),or(s,!1)}function Dd(t){return bd("",t,""),Dd}function bd(t,e,n){const r=D(),i=To(r,t,e,n);return i!==Z&&function Nr(t,e,n){const r=Vl(e,t);!function iS(t,e,n){t.setValue(e,n)}(t[11],r,n)}(r,jt(),i),bd}const Lo="en-US";let Ix=Lo;class rs{}class Wx{}class Kx extends rs{constructor(e,n){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Sm(this);const r=yn(e);this._bootstrapComponents=kr(r.bootstrap),this._r3Injector=xS(e,n,[{provide:rs,useValue:this},{provide:fu,useValue:this.componentFactoryResolver}],we(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Gm extends Wx{constructor(e){super(),this.moduleType=e}create(e){return new Kx(this.moduleType,e)}}class Kq extends rs{constructor(e,n,r){super(),this.componentFactoryResolver=new Sm(this),this.instance=null;const i=new VC([...e,{provide:rs,useValue:this},{provide:fu,useValue:this.componentFactoryResolver}],n||id(),r,new Set(["environment"]));this.injector=i,i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function xd(t,e,n=null){return new Kq(t,e,n).injector}let Qq=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n.id)){const r=PC(0,n.type),i=r.length>0?xd([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n.id,i)}return this.cachedInjectors.get(n.id)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}}return t.\u0275prov=J({token:t,providedIn:"environment",factory:()=>new t(V(di))}),t})();function Qx(t){t.getStandaloneInjector=e=>e.get(Qq).getOrCreateStandaloneInjector(t)}function zm(t){return e=>{setTimeout(t,void 0,e)}}const zt=class Iz extends pn{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&"object"==typeof e){const u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=zm(s),i&&(i=zm(i)),o&&(o=zm(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof fn&&e.add(a),a}};let Pr=(()=>{class t{}return t.__NG_ELEMENT_ID__=Tz,t})();const Dz=Pr,bz=class extends Dz{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}createEmbeddedView(e,n){const r=this._declarationTContainer.tViews,i=fd(this._declarationLView,r,e,16,null,r.declTNode,null,null,null,null,n||null);i[17]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[19];return null!==o&&(i[19]=o.createEmbeddedView(r)),ym(r,i,e),new vu(i)}};function Tz(){return function Md(t,e){return 4&t.type?new bz(e,t,yo(t,e)):null}(tt(),D())}let Jn=(()=>{class t{}return t.__NG_ELEMENT_ID__=Cz,t})();function Cz(){return function cM(t,e){let n;const r=e[t.index];if(zn(r))n=r;else{let i;if(8&t.type)i=qe(r);else{const s=e[11];i=s.createComment("");const o=Nn(t,e);Ji(s,od(s,o),i,function Dj(t,e){return t.nextSibling(e)}(s,o),!1)}e[t.index]=n=sA(r,e,i,t),gd(e,n)}return new aM(n,t,e)}(tt(),D())}const Sz=Jn,aM=class extends Sz{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return yo(this._hostTNode,this._hostLView)}get injector(){return new oo(this._hostTNode,this._hostLView)}get parentInjector(){const e=zl(this._hostTNode,this._hostLView);if(Q0(e)){const n=so(e,this._hostLView),r=io(e);return new oo(n[1].data[r+8],n)}return new oo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=uM(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,n,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const o=e.createEmbeddedView(n||{},s);return this.insert(o,i),o}createComponent(e,n,r,i,s){const o=e&&!function nu(t){return"function"==typeof t}(e);let a;if(o)a=n;else{const d=n||{};a=d.index,r=d.injector,i=d.projectableNodes,s=d.environmentInjector||d.ngModuleRef}const u=o?e:new wu(me(e)),c=r||this.parentInjector;if(!s&&null==u.ngModule){const h=(o?c:this.parentInjector).get(di,null);h&&(s=h)}const l=u.create(c,i,void 0,s);return this.insert(l.hostView,a),l}insert(e,n){const r=e._lView,i=r[1];if(function B2(t){return zn(t[3])}(r)){const l=this.indexOf(e);if(-1!==l)this.detach(l);else{const d=r[3],h=new aM(d,d[6],d[3]);h.detach(h.indexOf(e))}}const s=this._adjustIndex(n),o=this._lContainer;!function _j(t,e,n,r){const i=10+r,s=n.length;r>0&&(n[i-1][4]=e),r<s-10?(e[4]=n[i],oC(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;const o=e[17];null!==o&&n!==o&&function vj(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=64}(i,r,o,s);const a=Jg(s,o),u=r[11],c=od(u,o[7]);return null!==c&&function gj(t,e,n,r,i,s){r[0]=i,r[6]=e,yu(t,r,n,1,i,s)}(i,o[6],u,r,c,a),e.attachToViewContainerRef(),oC(Km(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=uM(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=Qg(this._lContainer,n);r&&(Ql(Km(this._lContainer),n),oS(r[1],r))}detach(e){const n=this._adjustIndex(e,-1),r=Qg(this._lContainer,n);return r&&null!=Ql(Km(this._lContainer),n)?new vu(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function uM(t){return t[8]}function Km(t){return t[8]||(t[8]=[])}function Rd(...t){}const Ru=new j("Application Initializer");let Nd=(()=>{class t{constructor(n){this.appInits=n,this.resolve=Rd,this.reject=Rd,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const n=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(Id(s))n.push(s);else if(TA(s)){const o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});n.push(o)}}Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}}return t.\u0275fac=function(n){return new(n||t)(V(Ru,8))},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Nu=new j("AppId",{providedIn:"root",factory:function NM(){return`${ay()}${ay()}${ay()}`}});function ay(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const PM=new j("Platform Initializer"),Bo=new j("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),OM=new j("appBootstrapListener");let rW=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const Or=new j("LocaleId",{providedIn:"root",factory:()=>Ue(Or,$.Optional|$.SkipSelf)||function iW(){return typeof $localize<"u"&&$localize.locale||Lo}()});class oW{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let uy=(()=>{class t{compileModuleSync(n){return new Gm(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),s=kr(yn(n).declarations).reduce((o,a)=>{const u=me(a);return u&&o.push(new wu(u)),o},[]);return new oW(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const cW=(()=>Promise.resolve(0))();function cy(t){typeof Zone>"u"?cW.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Ae{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new zt(!1),this.onMicrotaskEmpty=new zt(!1),this.onStable=new zt(!1),this.onError=new zt(!1),typeof Zone>"u")throw new N(908,!1);Zone.assertZonePatched();const i=this;if(i._nesting=0,i._outer=i._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const s=Zone.AsyncStackTaggingZoneSpec;i._inner=i._inner.fork(new s("Angular"))}Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function lW(){let t=Ee.requestAnimationFrame,e=Ee.cancelAnimationFrame;if(typeof Zone<"u"&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function fW(t){const e=()=>{!function hW(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Ee,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,dy(t),t.isCheckStableRunning=!0,ly(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),dy(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return VM(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),UM(t)}},onInvoke:(n,r,i,s,o,a,u)=>{try{return VM(t),n.invoke(i,s,o,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),UM(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,dy(t),ly(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ae.isInAngularZone())throw new N(909,!1)}static assertNotInAngularZone(){if(Ae.isInAngularZone())throw new N(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,dW,Rd,Rd);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const dW={};function ly(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function dy(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function VM(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function UM(t){t._nesting--,ly(t)}class pW{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new zt,this.onMicrotaskEmpty=new zt,this.onStable=new zt,this.onError=new zt}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const BM=new j(""),Pd=new j("");let py,hy=(()=>{class t{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,py||(function gW(t){py=t}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ae.assertNotInAngularZone(),cy(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())cy(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}}return t.\u0275fac=function(n){return new(n||t)(V(Ae),V(fy),V(Pd))},t.\u0275prov=J({token:t,factory:t.\u0275fac}),t})(),fy=(()=>{class t{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return py?.findTestabilityInTree(this,n,r)??null}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})(),gi=null;const $M=new j("AllowMultipleToken"),gy=new j("PlatformDestroyListeners");class jM{constructor(e,n){this.name=e,this.token=n}}function GM(t,e,n=[]){const r=`Platform: ${e}`,i=new j(r);return(s=[])=>{let o=my();if(!o||o.injector.get($M,!1)){const a=[...n,...s,{provide:i,useValue:!0}];t?t(a):function _W(t){if(gi&&!gi.get($M,!1))throw new N(400,!1);gi=t;const e=t.get(zM);(function HM(t){const e=t.get(PM,null);e&&e.forEach(n=>n())})(t)}(function qM(t=[],e){return Gt.create({name:e,providers:[{provide:Mg,useValue:"platform"},{provide:gy,useValue:new Set([()=>gi=null])},...t]})}(a,r))}return function wW(t){const e=my();if(!e)throw new N(401,!1);return e}()}}function my(){return gi?.get(zM)??null}let zM=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function KM(t,e){let n;return n="noop"===t?new pW:("zone.js"===t?void 0:t)||new Ae(e),n}(r?.ngZone,function WM(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!t||!t.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!t||!t.ngZoneRunCoalescing)||!1}}(r)),s=[{provide:Ae,useValue:i}];return i.run(()=>{const o=Gt.create({providers:s,parent:this.injector,name:n.moduleType.name}),a=n.create(o),u=a.injector.get(_o,null);if(!u)throw new N(402,!1);return i.runOutsideAngular(()=>{const c=i.onError.subscribe({next:l=>{u.handleError(l)}});a.onDestroy(()=>{Od(this._modules,a),c.unsubscribe()})}),function QM(t,e,n){try{const r=n();return Id(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(u,i,()=>{const c=a.injector.get(Nd);return c.runInitializers(),c.donePromise.then(()=>(function Ex(t){mn(t,"Expected localeId to be defined"),"string"==typeof t&&(Ix=t.toLowerCase().replace(/_/g,"-"))}(a.injector.get(Or,Lo)||Lo),this._moduleDoBootstrap(a),a))})})}bootstrapModule(n,r=[]){const i=YM({},r);return function mW(t,e,n){const r=new Gm(n);return Promise.resolve(r)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const r=n.injector.get(Pu);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new N(403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new N(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(gy,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(n){return new(n||t)(V(Gt))},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();function YM(t,e){return Array.isArray(e)?e.reduce(YM,t):{...t,...e}}let Pu=(()=>{class t{constructor(n,r,i){this._zone=n,this._injector=r,this._exceptionHandler=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new Ie(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),o=new Ie(a=>{let u;this._zone.runOutsideAngular(()=>{u=this._zone.onStable.subscribe(()=>{Ae.assertNotInAngularZone(),cy(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const c=this._zone.onUnstable.subscribe(()=>{Ae.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{u.unsubscribe(),c.unsubscribe()}});this.isStable=Pp(s,o.pipe(function c2(t={}){const{connector:e=(()=>new pn),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o,a,u,c=0,l=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=u=void 0,l=d=!1},p=()=>{const m=o;f(),m?.unsubscribe()};return Ge((m,y)=>{c++,!d&&!l&&h();const I=u=u??e();y.add(()=>{c--,0===c&&!d&&!l&&(a=Op(p,i))}),I.subscribe(y),!o&&c>0&&(o=new ja({next:E=>I.next(E),error:E=>{d=!0,h(),a=Op(f,n,E),I.error(E)},complete:()=>{l=!0,h(),a=Op(f,r),I.complete()}}),An(m).subscribe(o))})(s)}}()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const i=n instanceof BC;if(!this._injector.get(Nd).done)throw!i&&function Js(t){const e=me(t)||Ut(t)||Bt(t);return null!==e&&e.standalone}(n),new N(405,false);let o;o=i?n:this._injector.get(fu).resolveComponentFactory(n),this.componentTypes.push(o.componentType);const a=function yW(t){return t.isBoundToModule}(o)?void 0:this._injector.get(rs),c=o.create(Gt.NULL,[],r||o.selector,a),l=c.location.nativeElement,d=c.injector.get(BM,null);return d?.registerApplication(l),c.onDestroy(()=>{this.detachView(c.hostView),Od(this.components,c),d?.unregisterApplication(l)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new N(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;Od(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(OM,[]).concat(this._bootstrapListeners).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Od(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new N(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return t.\u0275fac=function(n){return new(n||t)(V(Ae),V(di),V(_o))},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Od(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}let JM=!0,yy=(()=>{class t{}return t.__NG_ELEMENT_ID__=DW,t})();function DW(t){return function bW(t,e,n){if(Fl(t)&&!n){const r=vn(t.index,e);return new vu(r,r)}return 47&t.type?new vu(e[16],e):null}(tt(),D(),16==(16&t))}class rk{constructor(){}supports(e){return Iu(e)}create(e){return new MW(e)}}const xW=(t,e)=>e;class MW{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||xW}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){const o=!r||n&&n.currentIndex<sk(r,i,s)?n:r,a=sk(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,null==o.previousIndex)i++;else{s||(s=[]);const c=a-i,l=u-i;if(c!=l){for(let h=0;h<c;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;l<=p&&p<c&&(s[h]=f+1)}s[o.previousIndex]=l-c}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!Iu(e))throw new N(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,o,a),r=!0),n=n._next}else i=0,function ZH(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Xi()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,o,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new kW(n,r),s,i),e}_verifyReinsertion(e,n,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new ik),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ik),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class kW{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class RW{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class ik{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new RW,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function sk(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function ak(){return new Vd([new rk])}let Vd=(()=>{class t{constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||ak()),deps:[[t,new au,new kt]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new N(901,!1)}}return t.\u0275prov=J({token:t,providedIn:"root",factory:ak}),t})();const LW=GM(null,"core",[]);let VW=(()=>{class t{constructor(n){}}return t.\u0275fac=function(n){return new(n||t)(V(Pu))},t.\u0275mod=Gn({type:t}),t.\u0275inj=xn({}),t})();function $o(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}let Ud=null;function mi(){return Ud}const nn=new j("DocumentToken");let Ey=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=J({token:t,factory:function(){return function jW(){return V(ck)}()},providedIn:"platform"}),t})();const HW=new j("Location Initialized");let ck=(()=>{class t extends Ey{constructor(n){super(),this._doc=n,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return mi().getBaseHref(this._doc)}onPopState(n){const r=mi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=mi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(n){this.location.pathname=n}pushState(n,r,i){lk()?this._history.pushState(n,r,i):this.location.hash=i}replaceState(n,r,i){lk()?this._history.replaceState(n,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return t.\u0275fac=function(n){return new(n||t)(V(nn))},t.\u0275prov=J({token:t,factory:function(){return function GW(){return new ck(V(nn))}()},providedIn:"platform"}),t})();function lk(){return!!window.history.pushState}function Dy(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function dk(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Lr(t){return t&&"?"!==t[0]?"?"+t:t}let ss=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=J({token:t,factory:function(){return Ue(fk)},providedIn:"root"}),t})();const hk=new j("appBaseHref");let fk=(()=>{class t extends ss{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??Ue(nn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Dy(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+Lr(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){const o=this.prepareExternalUrl(i+Lr(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){const o=this.prepareExternalUrl(i+Lr(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return t.\u0275fac=function(n){return new(n||t)(V(Ey),V(hk,8))},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),qW=(()=>{class t extends ss{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=Dy(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+Lr(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+Lr(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return t.\u0275fac=function(n){return new(n||t)(V(Ey),V(hk,8))},t.\u0275prov=J({token:t,factory:t.\u0275fac}),t})(),by=(()=>{class t{constructor(n){this._subject=new zt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._baseHref=dk(pk(r)),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Lr(r))}normalize(n){return t.stripTrailingSlash(function WW(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,pk(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Lr(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Lr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}}return t.normalizeQueryParams=Lr,t.joinWithSlash=Dy,t.stripTrailingSlash=dk,t.\u0275fac=function(n){return new(n||t)(V(ss))},t.\u0275prov=J({token:t,factory:function(){return function zW(){return new by(V(ss))}()},providedIn:"root"}),t})();function pk(t){return t.replace(/\/index.html$/,"")}class N3{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Tk=(()=>{class t{constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new N3(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),Ck(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{Ck(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(L(Jn),L(Pr),L(Vd))},t.\u0275dir=At({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),t})();function Ck(t,e){t.context.$implicit=e.item}let c4=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Gn({type:t}),t.\u0275inj=xn({}),t})();const Mk="browser";function kk(t){return t===Mk}let f4=(()=>{class t{}return t.\u0275prov=J({token:t,providedIn:"root",factory:()=>new p4(V(nn),window)}),t})();class p4{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function g4(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=e)}}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Rk(this.window.history)||Rk(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Rk(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class By extends class P4 extends class $W{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function BW(t){Ud||(Ud=t)}(new By)}onAndCancel(e,n,r){return e.addEventListener(n,r,!1),()=>{e.removeEventListener(n,r,!1)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function O4(){return Uu=Uu||document.querySelector("base"),Uu?Uu.getAttribute("href"):null}();return null==n?null:function F4(t){Yd=Yd||document.createElement("a"),Yd.setAttribute("href",t);const e=Yd.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){Uu=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function M3(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let Yd,Uu=null;const Fk=new j("TRANSITION_ID"),V4=[{provide:Ru,useFactory:function L4(t,e,n){return()=>{n.get(Nd).donePromise.then(()=>{const r=mi(),i=e.querySelectorAll(`style[ng-transition="${t}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[Fk,nn,Gt],multi:!0}];let B4=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=J({token:t,factory:t.\u0275fac}),t})();const Zd=new j("EventManagerPlugins");let Jd=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>i.manager=this),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}addGlobalEventListener(n,r,i){return this._findPluginFor(r).addGlobalEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){const r=this._eventNameToPlugin.get(n);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(n))return this._eventNameToPlugin.set(n,o),o}throw new Error(`No event manager plugin found for event ${n}`)}}return t.\u0275fac=function(n){return new(n||t)(V(Zd),V(Ae))},t.\u0275prov=J({token:t,factory:t.\u0275fac}),t})();class Lk{constructor(e){this._doc=e}addGlobalEventListener(e,n,r){const i=mi().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${n}`);return this.addEventListener(i,n,r)}}let Vk=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(n){const r=new Set;n.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(n){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=J({token:t,factory:t.\u0275fac}),t})(),Bu=(()=>{class t extends Vk{constructor(n){super(),this._doc=n,this._hostNodes=new Map,this._hostNodes.set(n.head,[])}_addStylesToHost(n,r,i){n.forEach(s=>{const o=this._doc.createElement("style");o.textContent=s,i.push(r.appendChild(o))})}addHost(n){const r=[];this._addStylesToHost(this._stylesSet,n,r),this._hostNodes.set(n,r)}removeHost(n){const r=this._hostNodes.get(n);r&&r.forEach(Uk),this._hostNodes.delete(n)}onStylesAdded(n){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(n,i,r)})}ngOnDestroy(){this._hostNodes.forEach(n=>n.forEach(Uk))}}return t.\u0275fac=function(n){return new(n||t)(V(nn))},t.\u0275prov=J({token:t,factory:t.\u0275fac}),t})();function Uk(t){mi().remove(t)}const $y={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},jy=/%COMP%/g;function Xd(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Xd(t,i,n):(i=i.replace(jy,t),n.push(i))}return n}function jk(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let Hy=(()=>{class t{constructor(n,r,i){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new Gy(n)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;switch(r.encapsulation){case sr.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new z4(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(n),i}case 1:case sr.ShadowDom:return new W4(this.eventManager,this.sharedStylesHost,n,r);default:if(!this.rendererByCompId.has(r.id)){const i=Xd(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(n){return new(n||t)(V(Jd),V(Bu),V(Nu))},t.\u0275prov=J({token:t,factory:t.\u0275fac}),t})();class Gy{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?document.createElementNS($y[n]||n,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,n){(Gk(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(Gk(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=$y[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=$y[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(tn.DashCase|tn.Important)?e.style.setProperty(n,r,i&tn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&tn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,n,jk(r)):this.eventManager.addEventListener(e,n,jk(r))}}function Gk(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class z4 extends Gy{constructor(e,n,r,i){super(e),this.component=r;const s=Xd(i+"-"+r.id,r.styles,[]);n.addStyles(s),this.contentAttr=function H4(t){return"_ngcontent-%COMP%".replace(jy,t)}(i+"-"+r.id),this.hostAttr=function G4(t){return"_nghost-%COMP%".replace(jy,t)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}class W4 extends Gy{constructor(e,n,r,i){super(e),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=Xd(i.id,i.styles,[]);for(let o=0;o<s.length;o++){const a=document.createElement("style");a.textContent=s[o],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let K4=(()=>{class t extends Lk{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}}return t.\u0275fac=function(n){return new(n||t)(V(nn))},t.\u0275prov=J({token:t,factory:t.\u0275fac}),t})();const qk=["alt","control","meta","shift"],Q4={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Y4={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let Z4=(()=>{class t extends Lk{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>mi().onAndCancel(n,s.domEventName,o))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=t._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),qk.forEach(c=>{const l=r.indexOf(c);l>-1&&(r.splice(l,1),o+=c+".")}),o+=s,0!=r.length||0===s.length)return null;const u={};return u.domEventName=i,u.fullKey=o,u}static matchEventFullKeyCode(n,r){let i=Q4[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(i=n.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),qk.forEach(o=>{o!==i&&(0,Y4[o])(n)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(n,r,i){return s=>{t.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return t.\u0275fac=function(n){return new(n||t)(V(nn))},t.\u0275prov=J({token:t,factory:t.\u0275fac}),t})();const Wk=[{provide:Bo,useValue:Mk},{provide:PM,useValue:function J4(){By.makeCurrent()},multi:!0},{provide:nn,useFactory:function e8(){return function WB(t){vg=t}(document),document},deps:[]}],t8=GM(LW,"browser",Wk),Kk=new j(""),Qk=[{provide:Pd,useClass:class U4{addToWindow(e){Ee.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},Ee.getAllAngularTestabilities=()=>e.getAllTestabilities(),Ee.getAllAngularRootElements=()=>e.getAllRootElements(),Ee.frameworkStabilizers||(Ee.frameworkStabilizers=[]),Ee.frameworkStabilizers.push(r=>{const i=Ee.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(u){o=o||u,s--,0==s&&r(o)};i.forEach(function(u){u.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?mi().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:BM,useClass:hy,deps:[Ae,fy,Pd]},{provide:hy,useClass:hy,deps:[Ae,fy,Pd]}],Yk=[{provide:Mg,useValue:"root"},{provide:_o,useFactory:function X4(){return new _o},deps:[]},{provide:Zd,useClass:K4,multi:!0,deps:[nn,Ae,Bo]},{provide:Zd,useClass:Z4,multi:!0,deps:[nn]},{provide:Hy,useClass:Hy,deps:[Jd,Bu,Nu]},{provide:jC,useExisting:Hy},{provide:Vk,useExisting:Bu},{provide:Bu,useClass:Bu,deps:[nn]},{provide:Jd,useClass:Jd,deps:[Zd,Ae]},{provide:class m4{},useClass:B4,deps:[]},[]];let n8=(()=>{class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:Nu,useValue:n.appId},{provide:Fk,useExisting:Nu},V4]}}}return t.\u0275fac=function(n){return new(n||t)(V(Kk,12))},t.\u0275mod=Gn({type:t}),t.\u0275inj=xn({providers:[...Yk,...Qk],imports:[c4,VW]}),t})(),Zk=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}}return t.\u0275fac=function(n){return new(n||t)(V(nn))},t.\u0275prov=J({token:t,factory:function(n){let r=null;return r=n?new n:function i8(){return new Zk(V(nn))}(),r},providedIn:"root"}),t})();function U(...t){return et(t,Ha(t))}typeof window<"u"&&window;class nr extends pn{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const eh=bp(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:h8}=Array,{getPrototypeOf:f8,prototype:p8,keys:g8}=Object;const{isArray:_8}=Array;function eR(t){return X(e=>function v8(t,e){return _8(e)?t(...e):t(e)}(t,e))}function tR(...t){const e=Ha(t),n=function t2(t){return oe(Np(t))?t.pop():void 0}(t),{args:r,keys:i}=function m8(t){if(1===t.length){const e=t[0];if(h8(e))return{args:e,keys:null};if(function y8(t){return t&&"object"==typeof t&&f8(t)===p8}(e)){const n=g8(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}(t);if(0===r.length)return et([],e);const s=new Ie(function I8(t,e,n=Hi){return r=>{nR(e,()=>{const{length:i}=t,s=new Array(i);let o=i,a=i;for(let u=0;u<i;u++)nR(e,()=>{const c=et(t[u],e);let l=!1;c.subscribe(Je(r,d=>{s[u]=d,l||(l=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>function w8(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}(i,o):Hi));return n?s.pipe(eR(n)):s}function nR(t,e,n){t?Dr(n,t,e):e()}function $u(...t){return function E8(){return Ys(1)}()(et(t,Ha(t)))}function th(t){return new Ie(e=>{An(t()).subscribe(e)})}function jo(t,e){const n=oe(t)?t:()=>t,r=i=>i.error(n());return new Ie(e?i=>e.schedule(r,0,i):r)}function Wy(){return Ge((t,e)=>{let n=null;t._refCount++;const r=Je(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class Ky extends Ie{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,n0(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new fn;const n=this.getSubject();e.add(this.source.subscribe(Je(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=fn.EMPTY)}return e}refCount(){return Wy()(this)}}function sn(t,e){return Ge((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(Je(r,u=>{i?.unsubscribe();let c=0;const l=s++;An(t(u,l)).subscribe(i=Je(r,d=>r.next(e?e(u,d,l,c++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function Dn(t){return t<=0?()=>br:Ge((e,n)=>{let r=0;e.subscribe(Je(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function on(t,e){return Ge((n,r)=>{let i=0;n.subscribe(Je(r,s=>t.call(e,s,i++)&&r.next(s)))})}function nh(t){return Ge((e,n)=>{let r=!1;e.subscribe(Je(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function rR(t=b8){return Ge((e,n)=>{let r=!1;e.subscribe(Je(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function b8(){return new eh}function _i(t,e){const n=arguments.length>=2;return r=>r.pipe(t?on((i,s)=>t(i,s,r)):Hi,Dn(1),n?nh(e):rR(()=>new eh))}function os(t,e){return oe(e)?Xe(t,e,1):Xe(t,1)}function lt(t,e,n){const r=oe(t)||e||n?{next:t,error:e,complete:n}:t;return r?Ge((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(Je(s,u=>{var c;null===(c=r.next)||void 0===c||c.call(r,u),s.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),s.complete()},u=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,u),s.error(u)},()=>{var u,c;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):Hi}function vi(t){return Ge((e,n)=>{let s,r=null,i=!1;r=e.subscribe(Je(n,void 0,void 0,o=>{s=An(t(o,vi(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function T8(t,e,n,r,i){return(s,o)=>{let a=n,u=e,c=0;s.subscribe(Je(o,l=>{const d=c++;u=a?t(u,l,d):(a=!0,l),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}function iR(t,e){return Ge(T8(t,e,arguments.length>=2,!0))}function Qy(t){return t<=0?()=>br:Ge((e,n)=>{let r=[];e.subscribe(Je(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function sR(t,e){const n=arguments.length>=2;return r=>r.pipe(t?on((i,s)=>t(i,s,r)):Hi,Qy(1),n?nh(e):rR(()=>new eh))}function oR(t){return X(()=>t)}function Yy(t){return Ge((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}const ie="primary",ju=Symbol("RouteTitle");class S8{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Ho(t){return new S8(t)}function A8(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function hr(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!aR(t[i],e[i]))return!1;return!0}function aR(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}return t===e}function uR(t){return Array.prototype.concat.apply([],t)}function cR(t){return t.length>0?t[t.length-1]:null}function wt(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function wi(t){return TA(t)?t:Id(t)?et(Promise.resolve(t)):U(t)}const k8={exact:function hR(t,e,n){if(!us(t.segments,e.segments)||!rh(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!hR(t.children[r],e.children[r],n))return!1;return!0},subset:fR},lR={exact:function R8(t,e){return hr(t,e)},subset:function N8(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>aR(t[n],e[n]))},ignored:()=>!0};function dR(t,e,n){return k8[n.paths](t.root,e.root,n.matrixParams)&&lR[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function fR(t,e,n){return pR(t,e,e.segments,n)}function pR(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!us(i,n)||e.hasChildren()||!rh(i,n,r))}if(t.segments.length===n.length){if(!us(t.segments,n)||!rh(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!fR(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!(us(t.segments,i)&&rh(t.segments,i,r)&&t.children[ie])&&pR(t.children[ie],e,s,r)}}function rh(t,e,n){return e.every((r,i)=>lR[n](t[i].parameters,r.parameters))}class as{constructor(e,n,r){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ho(this.queryParams)),this._queryParamMap}toString(){return F8.serialize(this)}}class se{constructor(e,n){this.segments=e,this.children=n,this.parent=null,wt(n,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ih(this)}}class Hu{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=Ho(this.parameters)),this._parameterMap}toString(){return _R(this)}}function us(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let gR=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=J({token:t,factory:function(){return new Jy},providedIn:"root"}),t})();class Jy{parse(e){const n=new q8(e);return new as(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${Gu(e.root,!0)}`,r=function U8(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${sh(n)}=${sh(i)}`).join("&"):`${sh(n)}=${sh(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function L8(t){return encodeURI(t)}(e.fragment)}`:""}`}}const F8=new Jy;function ih(t){return t.segments.map(e=>_R(e)).join("/")}function Gu(t,e){if(!t.hasChildren())return ih(t);if(e){const n=t.children[ie]?Gu(t.children[ie],!1):"",r=[];return wt(t.children,(i,s)=>{s!==ie&&r.push(`${s}:${Gu(i,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function O8(t,e){let n=[];return wt(t.children,(r,i)=>{i===ie&&(n=n.concat(e(r,i)))}),wt(t.children,(r,i)=>{i!==ie&&(n=n.concat(e(r,i)))}),n}(t,(r,i)=>i===ie?[Gu(t.children[ie],!1)]:[`${i}:${Gu(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[ie]?`${ih(t)}/${n[0]}`:`${ih(t)}/(${n.join("//")})`}}function mR(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function sh(t){return mR(t).replace(/%3B/gi,";")}function Xy(t){return mR(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function oh(t){return decodeURIComponent(t)}function yR(t){return oh(t.replace(/\+/g,"%20"))}function _R(t){return`${Xy(t.path)}${function V8(t){return Object.keys(t).map(e=>`;${Xy(e)}=${Xy(t[e])}`).join("")}(t.parameters)}`}const B8=/^[^\/()?;=#]+/;function ah(t){const e=t.match(B8);return e?e[0]:""}const $8=/^[^=?&#]+/,H8=/^[^&#]+/;class q8{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new se([],{}):new se([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[ie]=new se(e,n)),r}parseSegment(){const e=ah(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new N(4009,!1);return this.capture(e),new Hu(oh(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=ah(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=ah(this.remaining);i&&(r=i,this.capture(r))}e[oh(n)]=oh(r)}parseQueryParam(e){const n=function j8(t){const e=t.match($8);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=function G8(t){const e=t.match(H8);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=yR(n),s=yR(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=ah(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new N(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=ie);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[ie]:new se([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new N(4011,!1)}}function e_(t){return t.segments.length>0?new se([],{[ie]:t}):t}function uh(t){const e={};for(const r of Object.keys(t.children)){const s=uh(t.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function z8(t){if(1===t.numberOfChildren&&t.children[ie]){const e=t.children[ie];return new se(t.segments.concat(e.segments),e.children)}return t}(new se(t.segments,e))}function cs(t){return t instanceof as}function Q8(t,e,n,r,i){if(0===n.length)return Go(e.root,e.root,e.root,r,i);const s=function IR(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new wR(!0,0,t);let e=0,n=!1;const r=t.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return wt(s.outlets,(u,c)=>{a[c]="string"==typeof u?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new wR(n,e,r)}(n);return s.toRoot()?Go(e.root,e.root,new se([],{}),r,i):function o(u){const c=function Z8(t,e,n,r){if(t.isAbsolute)return new qo(e.root,!0,0);if(-1===r)return new qo(n,n===e.root,0);return function ER(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new N(4005,!1);i=r.segments.length}return new qo(r,!1,i-s)}(n,r+(qu(t.commands[0])?0:1),t.numberOfDoubleDots)}(s,e,t.snapshot?._urlSegment,u),l=c.processChildren?Wu(c.segmentGroup,c.index,s.commands):n_(c.segmentGroup,c.index,s.commands);return Go(e.root,c.segmentGroup,l,r,i)}(t.snapshot?._lastPathIndex)}function qu(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function zu(t){return"object"==typeof t&&null!=t&&t.outlets}function Go(t,e,n,r,i){let o,s={};r&&wt(r,(u,c)=>{s[c]=Array.isArray(u)?u.map(l=>`${l}`):`${u}`}),o=t===e?n:vR(t,e,n);const a=e_(uh(o));return new as(a,s,i)}function vR(t,e,n){const r={};return wt(t.children,(i,s)=>{r[s]=i===e?n:vR(i,e,n)}),new se(t.segments,r)}class wR{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&qu(r[0]))throw new N(4003,!1);const i=r.find(zu);if(i&&i!==cR(r))throw new N(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class qo{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function n_(t,e,n){if(t||(t=new se([],{})),0===t.segments.length&&t.hasChildren())return Wu(t,e,n);const r=function X8(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const o=t.segments[i],a=n[r];if(zu(a))break;const u=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!bR(u,c,o))return s;r+=2}else{if(!bR(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const s=new se(t.segments.slice(0,r.pathIndex),{});return s.children[ie]=new se(t.segments.slice(r.pathIndex),t.children),Wu(s,0,i)}return r.match&&0===i.length?new se(t.segments,{}):r.match&&!t.hasChildren()?r_(t,e,n):r.match?Wu(t,0,i):r_(t,e,n)}function Wu(t,e,n){if(0===n.length)return new se(t.segments,{});{const r=function J8(t){return zu(t[0])?t[0].outlets:{[ie]:t}}(n),i={};return wt(r,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=n_(t.children[o],e,s))}),wt(t.children,(s,o)=>{void 0===r[o]&&(i[o]=s)}),new se(t.segments,i)}}function r_(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(zu(s)){const u=eK(s.outlets);return new se(r,u)}if(0===i&&qu(n[0])){r.push(new Hu(t.segments[e].path,DR(n[0]))),i++;continue}const o=zu(s)?s.outlets[ie]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&qu(a)?(r.push(new Hu(o,DR(a))),i+=2):(r.push(new Hu(o,{})),i++)}return new se(r,{})}function eK(t){const e={};return wt(t,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(e[r]=r_(new se([],{}),0,n))}),e}function DR(t){const e={};return wt(t,(n,r)=>e[r]=`${n}`),e}function bR(t,e,n){return t==n.path&&hr(e,n.parameters)}class Ur{constructor(e,n){this.id=e,this.url=n}}class i_ extends Ur{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ls extends Ur{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class ch extends Ur{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class TR extends Ur{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class tK extends Ur{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class nK extends Ur{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class rK extends Ur{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class iK extends Ur{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class sK extends Ur{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class oK{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class aK{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class uK{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class cK{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class lK{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class dK{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class CR{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class SR{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=s_(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=s_(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=o_(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return o_(e,this._root).map(n=>n.value)}}function s_(t,e){if(t===e.value)return e;for(const n of e.children){const r=s_(t,n);if(r)return r}return null}function o_(t,e){if(t===e.value)return[e];for(const n of e.children){const r=o_(t,n);if(r.length)return r.unshift(e),r}return[]}class Br{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function zo(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class AR extends SR{constructor(e,n){super(e),this.snapshot=n,a_(this,e)}toString(){return this.snapshot.toString()}}function xR(t,e){const n=function fK(t,e){const o=new lh([],{},{},"",{},ie,e,null,t.root,-1,{});return new kR("",new Br(o,[]))}(t,e),r=new nr([new Hu("",{})]),i=new nr({}),s=new nr({}),o=new nr({}),a=new nr(""),u=new Ii(r,i,o,a,s,ie,e,n.root);return u.snapshot=n.root,new AR(new Br(u,[]),n)}class Ii{constructor(e,n,r,i,s,o,a,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.title=this.data?.pipe(X(c=>c[ju]))??U(void 0),this._futureSnapshot=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(X(e=>Ho(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(X(e=>Ho(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function MR(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],s=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function pK(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class lh{constructor(e,n,r,i,s,o,a,u,c,l,d,h){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.title=this.data?.[ju],this.routeConfig=u,this._urlSegment=c,this._lastPathIndex=l,this._correctedLastPathIndex=h??l,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ho(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ho(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class kR extends SR{constructor(e,n){super(n),this.url=e,a_(this,n)}toString(){return RR(this._root)}}function a_(t,e){e.value._routerState=t,e.children.forEach(n=>a_(t,n))}function RR(t){const e=t.children.length>0?` { ${t.children.map(RR).join(", ")} } `:"";return`${t.value}${e}`}function u_(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,hr(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),hr(e.params,n.params)||t.params.next(n.params),function x8(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!hr(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),hr(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function c_(t,e){const n=hr(t.params,e.params)&&function P8(t,e){return us(t,e)&&t.every((n,r)=>hr(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||c_(t.parent,e.parent))}function Ku(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function mK(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Ku(t,r,i);return Ku(t,r)})}(t,e,n);return new Br(r,i)}{if(t.shouldAttach(e.value)){const s=t.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Ku(t,a)),o}}const r=function yK(t){return new Ii(new nr(t.url),new nr(t.params),new nr(t.queryParams),new nr(t.fragment),new nr(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(s=>Ku(t,s));return new Br(r,i)}}const l_="ngNavigationCancelingError";function NR(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=cs(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=PR(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function PR(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[l_]=!0,r.cancellationCode=e,n&&(r.url=n),r}function OR(t){return FR(t)&&cs(t.url)}function FR(t){return t&&t[l_]}class _K{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Qu,this.attachRef=null}}let Qu=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new _K,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const dh=!1;let d_=(()=>{class t{constructor(n,r,i,s,o){this.parentContexts=n,this.location=r,this.changeDetector=s,this.environmentInjector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new zt,this.deactivateEvents=new zt,this.attachEvents=new zt,this.detachEvents=new zt,this.name=i||ie,n.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const n=this.parentContexts.getContext(this.name);n&&n.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new N(4012,dh);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new N(4012,dh);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new N(4012,dh);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new N(4013,dh);this._activatedRoute=n;const i=this.location,o=n._futureSnapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new vK(n,a,i.injector);if(r&&function wK(t){return!!t.resolveComponentFactory}(r)){const c=r.resolveComponentFactory(o);this.activated=i.createComponent(c,i.length,u)}else this.activated=i.createComponent(o,{index:i.length,injector:u,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(n){return new(n||t)(L(Qu),L(Jn),function eu(t){return function gB(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const s=n[i];if(z0(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(s===e)return n[i+1];i+=2}}}return null}(tt(),t)}("name"),L(yy),L(di))},t.\u0275dir=At({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),t})();class vK{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Ii?this.route:e===Qu?this.childContexts:this.parent.get(e,n)}}let h_=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=oi({type:t,selectors:[["ng-component"]],standalone:!0,features:[Qx],decls:1,vars:0,template:function(n,r){1&n&&No(0,"router-outlet")},dependencies:[d_],encapsulation:2}),t})();function LR(t,e){return t.providers&&!t._injector&&(t._injector=xd(t.providers,e,`Route: ${t.path}`)),t._injector??e}function p_(t){const e=t.children&&t.children.map(p_),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ie&&(n.component=h_),n}function Un(t){return t.outlet||ie}function VR(t,e){const n=t.filter(r=>Un(r)===e);return n.push(...t.filter(r=>Un(r)!==e)),n}function Yu(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class TK{constructor(e,n,r,i){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),u_(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=zo(n);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),wt(i,(s,o)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=zo(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=zo(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,n,r){const i=zo(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new dK(s.value.snapshot))}),e.children.length&&this.forwardEvent(new cK(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(u_(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),u_(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=Yu(i.snapshot),u=a?.get(fu)??null;o.attachRef=null,o.route=i,o.resolver=u,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class UR{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class hh{constructor(e,n){this.component=e,this.route=n}}function CK(t,e,n){const r=t._root;return Zu(r,e?e._root:null,n,[r.value])}function Wo(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function m2(t){return null!==Ml(t)}(t)?e.get(t):t:r}function Zu(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=zo(e);return t.children.forEach(o=>{(function AK(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function xK(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!us(t.url,e.url);case"pathParamsOrQueryParamsChange":return!us(t.url,e.url)||!hr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!c_(t,e)||!hr(t.queryParams,e.queryParams);default:return!c_(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new UR(r)):(s.data=o.data,s._resolvedData=o._resolvedData),Zu(t,e,s.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new hh(a.outlet.component,o))}else o&&Ju(e,a,i),i.canActivateChecks.push(new UR(r)),Zu(t,null,s.component?a?a.children:null:n,r,i)})(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),wt(s,(o,a)=>Ju(o,n.getContext(a),i)),i}function Ju(t,e,n){const r=zo(t),i=t.value;wt(r,(s,o)=>{Ju(s,i.component?e?e.children.getContext(o):null:e,n)}),n.canDeactivateChecks.push(new hh(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Xu(t){return"function"==typeof t}function g_(t){return t instanceof eh||"EmptyError"===t?.name}const fh=Symbol("INITIAL_VALUE");function Ko(){return sn(t=>tR(t.map(e=>e.pipe(Dn(1),function D8(...t){const e=Ha(t);return Ge((n,r)=>{(e?$u(t,n,e):$u(t,n)).subscribe(r)})}(fh)))).pipe(X(e=>{for(const n of e)if(!0!==n){if(n===fh)return fh;if(!1===n||n instanceof as)return n}return!0}),on(e=>e!==fh),Dn(1)))}function BR(t){return function FU(...t){return XT(t)}(lt(e=>{if(cs(e))throw NR(0,e)}),X(e=>!0===e))}const m_={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function $R(t,e,n,r,i){const s=y_(t,e,n);return s.matched?function zK(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?U(i.map(o=>{const a=Wo(o,t);return wi(function OK(t){return t&&Xu(t.canMatch)}(a)?a.canMatch(e,n):t.runInContext(()=>a(e,n)))})).pipe(Ko(),BR()):U(!0)}(r=LR(e,r),e,n).pipe(X(o=>!0===o?s:{...m_})):U(s)}function y_(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...m_}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||A8)(n,t,e);if(!i)return{...m_};const s={};wt(i.posParams,(a,u)=>{s[u]=a.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function ph(t,e,n,r,i="corrected"){if(n.length>0&&function QK(t,e,n){return n.some(r=>gh(t,e,r)&&Un(r)!==ie)}(t,n,r)){const o=new se(e,function KK(t,e,n,r){const i={};i[ie]=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&Un(s)!==ie){const o=new se([],{});o._sourceSegment=t,o._segmentIndexShift=e.length,i[Un(s)]=o}return i}(t,e,r,new se(n,t.children)));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===n.length&&function YK(t,e,n){return n.some(r=>gh(t,e,r))}(t,n,r)){const o=new se(t.segments,function WK(t,e,n,r,i,s){const o={};for(const a of r)if(gh(t,n,a)&&!i[Un(a)]){const u=new se([],{});u._sourceSegment=t,u._segmentIndexShift="legacy"===s?t.segments.length:e.length,o[Un(a)]=u}return{...i,...o}}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const s=new se(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function gh(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function jR(t,e,n,r){return!!(Un(t)===r||r!==ie&&gh(e,n,t))&&("**"===t.path||y_(e,t,n).matched)}function HR(t,e,n){return 0===e.length&&!t.children[n]}const mh=!1;class yh{constructor(e){this.segmentGroup=e||null}}class GR{constructor(e){this.urlTree=e}}function ec(t){return jo(new yh(t))}function qR(t){return jo(new GR(t))}class e6{constructor(e,n,r,i,s){this.injector=e,this.configLoader=n,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0}apply(){const e=ph(this.urlTree.root,[],[],this.config).segmentGroup,n=new se(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,n,ie).pipe(X(s=>this.createUrlTree(uh(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(vi(s=>{if(s instanceof GR)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof yh?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,ie).pipe(X(i=>this.createUrlTree(uh(i),e.queryParams,e.fragment))).pipe(vi(i=>{throw i instanceof yh?this.noMatchError(i):i}))}noMatchError(e){return new N(4002,mh)}createUrlTree(e,n,r){const i=e_(e);return new as(i,n,r)}expandSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,n,r).pipe(X(s=>new se([],s))):this.expandSegment(e,r,n,r.segments,i,!0)}expandChildren(e,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return et(i).pipe(os(s=>{const o=r.children[s],a=VR(n,s);return this.expandSegmentGroup(e,a,o,s).pipe(X(u=>({segment:u,outlet:s})))}),iR((s,o)=>(s[o.outlet]=o.segment,s),{}),sR())}expandSegment(e,n,r,i,s,o){return et(r).pipe(os(a=>this.expandSegmentAgainstRoute(e,n,r,a,i,s,o).pipe(vi(c=>{if(c instanceof yh)return U(null);throw c}))),_i(a=>!!a),vi((a,u)=>{if(g_(a))return HR(n,i,s)?U(new se([],{})):ec(n);throw a}))}expandSegmentAgainstRoute(e,n,r,i,s,o,a){return jR(i,n,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,n,i,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o):ec(n):ec(n)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?qR(s):this.lineralizeSegments(r,s).pipe(Xe(o=>{const a=new se(o,{});return this.expandSegment(e,a,n,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){const{matched:a,consumedSegments:u,remainingSegments:c,positionalParamSegments:l}=y_(n,i,s);if(!a)return ec(n);const d=this.applyRedirectCommands(u,i.redirectTo,l);return i.redirectTo.startsWith("/")?qR(d):this.lineralizeSegments(i,d).pipe(Xe(h=>this.expandSegment(e,n,r,h.concat(c),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s){return"**"===r.path?(e=LR(r,e),r.loadChildren?(r._loadedRoutes?U({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe(X(a=>(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,new se(i,{})))):U(new se(i,{}))):$R(n,r,i,e).pipe(sn(({matched:o,consumedSegments:a,remainingSegments:u})=>o?this.getChildConfig(e=r._injector??e,r,i).pipe(Xe(l=>{const d=l.injector??e,h=l.routes,{segmentGroup:f,slicedSegments:p}=ph(n,a,u,h),m=new se(f.segments,f.children);if(0===p.length&&m.hasChildren())return this.expandChildren(d,h,m).pipe(X(_=>new se(a,_)));if(0===h.length&&0===p.length)return U(new se(a,{}));const y=Un(r)===s;return this.expandSegment(d,m,h,p,y?ie:s,!0).pipe(X(E=>new se(a.concat(E.segments),E.children)))})):ec(n)))}getChildConfig(e,n,r){return n.children?U({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?U({routes:n._loadedRoutes,injector:n._loadedInjector}):function qK(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?U(!0):U(i.map(o=>{const a=Wo(o,t);return wi(function kK(t){return t&&Xu(t.canLoad)}(a)?a.canLoad(e,n):t.runInContext(()=>a(e,n)))})).pipe(Ko(),BR())}(e,n,r).pipe(Xe(i=>i?this.configLoader.loadChildren(e,n).pipe(lt(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):function JK(t){return jo(PR(mh,3))}())):U({routes:[],injector:e})}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return U(r);if(i.numberOfChildren>1||!i.children[ie])return jo(new N(4e3,mh));i=i.children[ie]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,i){const s=this.createSegmentGroup(e,n.root,r,i);return new as(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return wt(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[s]=n[a]}else r[s]=i}),r}createSegmentGroup(e,n,r,i){const s=this.createSegments(e,n.segments,r,i);let o={};return wt(n.children,(a,u)=>{o[u]=this.createSegmentGroup(e,a,r,i)}),new se(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new N(4001,mh);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}class n6{}class s6{constructor(e,n,r,i,s,o,a,u){this.injector=e,this.rootComponentType=n,this.config=r,this.urlTree=i,this.url=s,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=a,this.urlSerializer=u}recognize(){const e=ph(this.urlTree.root,[],[],this.config.filter(n=>void 0===n.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,ie).pipe(X(n=>{if(null===n)return null;const r=new lh([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ie,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Br(r,n),s=new kR(this.url,i);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(e){const n=e.value,r=MR(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i)}processChildren(e,n,r){return et(Object.keys(r.children)).pipe(os(i=>{const s=r.children[i],o=VR(n,i);return this.processSegmentGroup(e,o,s,i)}),iR((i,s)=>i&&s?(i.push(...s),i):null),function C8(t,e=!1){return Ge((n,r)=>{let i=0;n.subscribe(Je(r,s=>{const o=t(s,i++);(o||e)&&r.next(s),!o&&r.complete()}))})}(i=>null!==i),nh(null),sR(),X(i=>{if(null===i)return null;const s=zR(i);return function o6(t){t.sort((e,n)=>e.value.outlet===ie?-1:n.value.outlet===ie?1:e.value.outlet.localeCompare(n.value.outlet))}(s),s}))}processSegment(e,n,r,i,s){return et(n).pipe(os(o=>this.processSegmentAgainstRoute(o._injector??e,o,r,i,s)),_i(o=>!!o),vi(o=>{if(g_(o))return HR(r,i,s)?U([]):U(null);throw o}))}processSegmentAgainstRoute(e,n,r,i,s){if(n.redirectTo||!jR(n,r,i,s))return U(null);let o;if("**"===n.path){const a=i.length>0?cR(i).parameters:{},u=KR(r)+i.length;o=U({snapshot:new lh(i,a,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,YR(n),Un(n),n.component??n._loadedComponent??null,n,WR(r),u,ZR(n),u),consumedSegments:[],remainingSegments:[]})}else o=$R(r,n,i,e).pipe(X(({matched:a,consumedSegments:u,remainingSegments:c,parameters:l})=>{if(!a)return null;const d=KR(r)+u.length;return{snapshot:new lh(u,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,YR(n),Un(n),n.component??n._loadedComponent??null,n,WR(r),d,ZR(n),d),consumedSegments:u,remainingSegments:c}}));return o.pipe(sn(a=>{if(null===a)return U(null);const{snapshot:u,consumedSegments:c,remainingSegments:l}=a;e=n._injector??e;const d=n._loadedInjector??e,h=function a6(t){return t.children?t.children:t.loadChildren?t._loadedRoutes:[]}(n),{segmentGroup:f,slicedSegments:p}=ph(r,c,l,h.filter(y=>void 0===y.redirectTo),this.relativeLinkResolution);if(0===p.length&&f.hasChildren())return this.processChildren(d,h,f).pipe(X(y=>null===y?null:[new Br(u,y)]));if(0===h.length&&0===p.length)return U([new Br(u,[])]);const m=Un(n)===s;return this.processSegment(d,h,f,p,m?ie:s).pipe(X(y=>null===y?null:[new Br(u,y)]))}))}}function u6(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function zR(t){const e=[],n=new Set;for(const r of t){if(!u6(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=zR(r.children);e.push(new Br(r.value,i))}return e.filter(r=>!n.has(r))}function WR(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function KR(t){let e=t,n=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift??0;return n-1}function YR(t){return t.data||{}}function ZR(t){return t.resolve||{}}function JR(t){return"string"==typeof t.title||null===t.title}function __(t){return sn(e=>{const n=t(e);return n?et(n).pipe(X(()=>e)):U(e)})}let XR=(()=>{class t{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===ie);return r}getResolvedTitleForRoute(n){return n.data[ju]}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=J({token:t,factory:function(){return Ue(eN)},providedIn:"root"}),t})(),eN=(()=>{class t extends XR{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}}return t.\u0275fac=function(n){return new(n||t)(V(Zk))},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class m6{}class _6 extends class y6{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}{}const vh=new j("",{providedIn:"root",factory:()=>({})}),v_=new j("ROUTES");let w_=(()=>{class t{constructor(n,r){this.injector=n,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return U(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=wi(n.loadComponent()).pipe(lt(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),Yy(()=>{this.componentLoaders.delete(n)})),i=new Ky(r,()=>new pn).pipe(Wy());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return U({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(X(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let u,c,l=!1;Array.isArray(a)?c=a:(u=a.create(n).injector,c=uR(u.get(v_,[],$.Self|$.Optional)));return{routes:c.map(p_),injector:u}}),Yy(()=>{this.childrenLoaders.delete(r)})),o=new Ky(s,()=>new pn).pipe(Wy());return this.childrenLoaders.set(r,o),o}loadModuleFactoryOrRoutes(n){return wi(n()).pipe(Xe(r=>r instanceof Wx||Array.isArray(r)?U(r):et(this.compiler.compileModuleAsync(r))))}}return t.\u0275fac=function(n){return new(n||t)(V(Gt),V(uy))},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class w6{}class I6{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,n){return e}}function E6(t){throw t}function D6(t,e,n){return e.parse("/")}const b6={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},T6={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function nN(){const t=Ue(gR),e=Ue(Qu),n=Ue(by),r=Ue(Gt),i=Ue(uy),s=Ue(v_,{optional:!0})??[],o=Ue(vh,{optional:!0})??{},a=Ue(eN),u=Ue(XR,{optional:!0}),c=Ue(w6,{optional:!0}),l=Ue(m6,{optional:!0}),d=new dt(null,t,e,n,r,i,uR(s));return c&&(d.urlHandlingStrategy=c),l&&(d.routeReuseStrategy=l),d.titleStrategy=u??a,function C6(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy),t.canceledNavigationResolution&&(e.canceledNavigationResolution=t.canceledNavigationResolution)}(o,d),d}let dt=(()=>{class t{constructor(n,r,i,s,o,a,u){this.rootComponentType=n,this.urlSerializer=r,this.rootContexts=i,this.location=s,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new pn,this.errorHandler=E6,this.malformedUriErrorHandler=D6,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>U(void 0),this.urlHandlingStrategy=new I6,this.routeReuseStrategy=new _6,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=o.get(w_),this.configLoader.onLoadEndListener=h=>this.triggerEvent(new aK(h)),this.configLoader.onLoadStartListener=h=>this.triggerEvent(new oK(h)),this.ngModule=o.get(rs),this.console=o.get(rW);const d=o.get(Ae);this.isNgZoneEnabled=d instanceof Ae&&Ae.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=function M8(){return new as(new se([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=xR(this.currentUrlTree,this.rootComponentType),this.transitions=new nr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(n){const r=this.events;return n.pipe(on(i=>0!==i.id),X(i=>({...i,extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),sn(i=>{let s=!1,o=!1;return U(i).pipe(lt(a=>{this.currentNavigation={id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),sn(a=>{const u=this.browserUrlTree.toString(),c=!this.navigated||a.extractedUrl.toString()!==u||u!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||c)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return rN(a.source)&&(this.browserUrlTree=a.extractedUrl),U(a).pipe(sn(d=>{const h=this.transitions.getValue();return r.next(new i_(d.id,this.serializeUrl(d.extractedUrl),d.source,d.restoredState)),h!==this.transitions.getValue()?br:Promise.resolve(d)}),function t6(t,e,n,r){return sn(i=>function XK(t,e,n,r,i){return new e6(t,e,n,r,i).apply()}(t,e,n,i.extractedUrl,r).pipe(X(s=>({...i,urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),lt(d=>{this.currentNavigation={...this.currentNavigation,finalUrl:d.urlAfterRedirects},i.urlAfterRedirects=d.urlAfterRedirects}),function l6(t,e,n,r,i,s){return Xe(o=>function i6(t,e,n,r,i,s,o="emptyOnly",a="legacy"){return new s6(t,e,n,r,i,o,a,s).recognize().pipe(sn(u=>null===u?function r6(t){return new Ie(e=>e.error(t))}(new n6):U(u)))}(t,e,n,o.urlAfterRedirects,r.serialize(o.urlAfterRedirects),r,i,s).pipe(X(a=>({...o,targetSnapshot:a}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),lt(d=>{if(i.targetSnapshot=d.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!d.extras.skipLocationChange){const f=this.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl);this.setBrowserUrl(f,d)}this.browserUrlTree=d.urlAfterRedirects}const h=new tK(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);r.next(h)}));if(c&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:h,extractedUrl:f,source:p,restoredState:m,extras:y}=a,I=new i_(h,this.serializeUrl(f),p,m);r.next(I);const E=xR(f,this.rootComponentType).snapshot;return U(i={...a,targetSnapshot:E,urlAfterRedirects:f,extras:{...y,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=a.rawUrl,a.resolve(null),br}),lt(a=>{const u=new nK(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(u)}),X(a=>i={...a,guards:CK(a.targetSnapshot,a.currentSnapshot,this.rootContexts)}),function LK(t,e){return Xe(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?U({...n,guardsResult:!0}):function VK(t,e,n,r){return et(t).pipe(Xe(i=>function GK(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?U(s.map(a=>{const u=Yu(e)??i,c=Wo(a,u);return wi(function PK(t){return t&&Xu(t.canDeactivate)}(c)?c.canDeactivate(t,e,n,r):u.runInContext(()=>c(t,e,n,r))).pipe(_i())})).pipe(Ko()):U(!0)}(i.component,i.route,n,e,r)),_i(i=>!0!==i,!0))}(o,r,i,t).pipe(Xe(a=>a&&function MK(t){return"boolean"==typeof t}(a)?function UK(t,e,n,r){return et(e).pipe(os(i=>$u(function $K(t,e){return null!==t&&e&&e(new uK(t)),U(!0)}(i.route.parent,r),function BK(t,e){return null!==t&&e&&e(new lK(t)),U(!0)}(i.route,r),function HK(t,e,n){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function SK(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(o)).filter(o=>null!==o).map(o=>th(()=>U(o.guards.map(u=>{const c=Yu(o.node)??n,l=Wo(u,c);return wi(function NK(t){return t&&Xu(t.canActivateChild)}(l)?l.canActivateChild(r,t):c.runInContext(()=>l(r,t))).pipe(_i())})).pipe(Ko())));return U(s).pipe(Ko())}(t,i.path,n),function jK(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return U(!0);const i=r.map(s=>th(()=>{const o=Yu(e)??n,a=Wo(s,o);return wi(function RK(t){return t&&Xu(t.canActivate)}(a)?a.canActivate(e,t):o.runInContext(()=>a(e,t))).pipe(_i())}));return U(i).pipe(Ko())}(t,i.route,n))),_i(i=>!0!==i,!0))}(r,s,t,e):U(a)),X(a=>({...n,guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),lt(a=>{if(i.guardsResult=a.guardsResult,cs(a.guardsResult))throw NR(0,a.guardsResult);const u=new rK(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(u)}),on(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,"",3),!1)),__(a=>{if(a.guards.canActivateChecks.length)return U(a).pipe(lt(u=>{const c=new iK(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);this.triggerEvent(c)}),sn(u=>{let c=!1;return U(u).pipe(function d6(t,e){return Xe(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return U(n);let s=0;return et(i).pipe(os(o=>function h6(t,e,n,r){const i=t.routeConfig,s=t._resolve;return void 0!==i?.title&&!JR(i)&&(s[ju]=i.title),function f6(t,e,n,r){const i=function p6(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return U({});const s={};return et(i).pipe(Xe(o=>function g6(t,e,n,r){const i=Yu(e)??r,s=Wo(t,i);return wi(s.resolve?s.resolve(e,n):i.runInContext(()=>s(e,n)))}(t[o],e,n,r).pipe(_i(),lt(a=>{s[o]=a}))),Qy(1),oR(s),vi(o=>g_(o)?br:jo(o)))}(s,t,e,r).pipe(X(o=>(t._resolvedData=o,t.data=MR(t,n).resolve,i&&JR(i)&&(t.data[ju]=i.title),null)))}(o.route,r,t,e)),lt(()=>s++),Qy(1),Xe(o=>s===i.length?U(n):br))})}(this.paramsInheritanceStrategy,this.ngModule.injector),lt({next:()=>c=!0,complete:()=>{c||(this.restoreHistory(u),this.cancelNavigationTransition(u,"",2))}}))}),lt(u=>{const c=new sK(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);this.triggerEvent(c)}))}),__(a=>{const u=c=>{const l=[];c.routeConfig?.loadComponent&&!c.routeConfig._loadedComponent&&l.push(this.configLoader.loadComponent(c.routeConfig).pipe(lt(d=>{c.component=d}),X(()=>{})));for(const d of c.children)l.push(...u(d));return l};return tR(u(a.targetSnapshot.root)).pipe(nh(),Dn(1))}),__(()=>this.afterPreactivation()),X(a=>{const u=function gK(t,e,n){const r=Ku(t,e._root,n?n._root:void 0);return new AR(r,e)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return i={...a,targetRouterState:u}}),lt(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((t,e,n)=>X(r=>(new TK(e,r.targetRouterState,r.currentRouterState,n).activate(t),r)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),lt({next(){s=!0},complete(){s=!0}}),Yy(()=>{s||o||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),vi(a=>{if(o=!0,FR(a)){OR(a)||(this.navigated=!0,this.restoreHistory(i,!0));const u=new ch(i.id,this.serializeUrl(i.extractedUrl),a.message,a.cancellationCode);if(r.next(u),OR(a)){const c=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),l={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||rN(i.source)};this.scheduleNavigation(c,"imperative",null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{this.restoreHistory(i,!0);const u=new TR(i.id,this.serializeUrl(i.extractedUrl),a,i.targetSnapshot??void 0);r.next(u);try{i.resolve(this.errorHandler(a))}catch(c){i.reject(c)}}return br}))}))}resetRootComponentType(n){this.rootComponentType=n,this.routerState.root.component=this.rootComponentType}setTransition(n){this.transitions.next({...this.transitions.value,...n})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{const i={replaceUrl:!0},s=n.state?.navigationId?n.state:null;if(s){const a={...s};delete a.navigationId,delete a.\u0275routerPageId,0!==Object.keys(a).length&&(i.state=a)}const o=this.parseUrl(n.url);this.scheduleNavigation(o,r,s,i)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(n){this.events.next(n)}resetConfig(n){this.config=n.map(p_),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(n,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=r,c=i||this.routerState.root,l=u?this.currentUrlTree.fragment:o;let d=null;switch(a){case"merge":d={...this.currentUrlTree.queryParams,...s};break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}return null!==d&&(d=this.removeEmptyProps(d)),Q8(c,this.currentUrlTree,n,d,l??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=cs(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,r)}navigate(n,r={skipLocationChange:!1}){return function S6(t){for(let e=0;e<t.length;e++){if(null==t[e])throw new N(4008,false)}}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?{...b6}:!1===r?{...T6}:r,cs(n))return dR(this.currentUrlTree,n,i);const s=this.parseUrl(n);return dR(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const s=n[i];return null!=s&&(r[i]=s),r},{})}processNavigations(){this.navigations.subscribe(n=>{this.navigated=!0,this.lastSuccessfulId=n.id,this.currentPageId=n.targetPageId,this.events.next(new ls(n.id,this.serializeUrl(n.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),n.resolve(!0)},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)})}scheduleNavigation(n,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,u,c;o?(a=o.resolve,u=o.reject,c=o.promise):c=new Promise((h,f)=>{a=h,u=f});const l=++this.navigationId;let d;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),d=i&&i.\u0275routerPageId?i.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):d=0,this.setTransition({id:l,targetPageId:d,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:n,extras:s,resolve:a,reject:u,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(h=>Promise.reject(h))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n),s={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",s):this.location.go(i,"",s)}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-n.targetPageId;"popstate"!==n.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===i?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===i&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(n,r,i){const s=new ch(n.id,this.serializeUrl(n.extractedUrl),r,i);this.triggerEvent(s),n.resolve(!1)}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}}return t.\u0275fac=function(n){sm()},t.\u0275prov=J({token:t,factory:function(){return nN()},providedIn:"root"}),t})();function rN(t){return"imperative"!==t}let Ih=(()=>{class t{constructor(n,r,i){this.router=n,this.route=r,this.locationStrategy=i,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new pn,this.subscription=n.events.subscribe(s=>{s instanceof ls&&this.updateTargetUrlAndHref()})}set preserveFragment(n){this._preserveFragment=$o(n)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(n){this._skipLocationChange=$o(n)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(n){this._replaceUrl=$o(n)}get replaceUrl(){return this._replaceUrl}set routerLink(n){this.commands=null!=n?Array.isArray(n)?n:[n]:null}ngOnChanges(n){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(n,r,i,s,o){return!!(0!==n||r||i||s||o||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return t.\u0275fac=function(n){return new(n||t)(L(dt),L(Ii),L(ss))},t.\u0275dir=At({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(n,r){1&n&&Po("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&n&&Mm("target",r.target)("href",r.href,Cg)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[Yi]}),t})();class iN{}let M6=(()=>{class t{constructor(n,r,i,s,o){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(on(n=>n instanceof ls),os(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=xd(s.providers,n,`Route: ${s.path}`));const o=s._injector??n,a=s._loadedInjector??o;s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent?i.push(this.preloadConfig(o,s)):(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return et(i).pipe(Ys())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):U(null);const s=i.pipe(Xe(o=>null===o?U(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??n,o.routes))));return r.loadComponent&&!r._loadedComponent?et([s,this.loader.loadComponent(r)]).pipe(Ys()):s})}}return t.\u0275fac=function(n){return new(n||t)(V(dt),V(uy),V(di),V(iN),V(w_))},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const E_=new j("");let sN=(()=>{class t{constructor(n,r,i={}){this.router=n,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(n=>{n instanceof i_?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof ls&&(this.lastId=n.id,this.scheduleScrollEvent(n,this.router.parseUrl(n.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(n=>{n instanceof CR&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.router.triggerEvent(new CR(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(n){sm()},t.\u0275prov=J({token:t,factory:t.\u0275fac}),t})();function Qo(t,e){return{\u0275kind:t,\u0275providers:e}}function D_(t){return[{provide:v_,multi:!0,useValue:t}]}function aN(){const t=Ue(Gt);return e=>{const n=t.get(Pu);if(e!==n.components[0])return;const r=t.get(dt),i=t.get(uN);1===t.get(b_)&&r.initialNavigation(),t.get(cN,null,$.Optional)?.setUpPreloading(),t.get(E_,null,$.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.next(),i.complete()}}const uN=new j("",{factory:()=>new pn}),b_=new j("",{providedIn:"root",factory:()=>1});const cN=new j("");function P6(t){return Qo(0,[{provide:cN,useExisting:M6},{provide:iN,useExisting:t}])}const lN=new j("ROUTER_FORROOT_GUARD"),O6=[by,{provide:gR,useClass:Jy},{provide:dt,useFactory:nN},Qu,{provide:Ii,useFactory:function oN(t){return t.routerState.root},deps:[dt]},w_];function F6(){return new jM("Router",dt)}let dN=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[O6,[],D_(n),{provide:lN,useFactory:B6,deps:[[dt,new kt,new au]]},{provide:vh,useValue:r||{}},r?.useHash?{provide:ss,useClass:qW}:{provide:ss,useClass:fk},{provide:E_,useFactory:()=>{const t=Ue(dt),e=Ue(f4),n=Ue(vh);return n.scrollOffset&&e.setOffset(n.scrollOffset),new sN(t,e,n)}},r?.preloadingStrategy?P6(r.preloadingStrategy).\u0275providers:[],{provide:jM,multi:!0,useFactory:F6},r?.initialNavigation?$6(r):[],[{provide:hN,useFactory:aN},{provide:OM,multi:!0,useExisting:hN}]]}}static forChild(n){return{ngModule:t,providers:[D_(n)]}}}return t.\u0275fac=function(n){return new(n||t)(V(lN,8))},t.\u0275mod=Gn({type:t}),t.\u0275inj=xn({imports:[h_]}),t})();function B6(t){return"guarded"}function $6(t){return["disabled"===t.initialNavigation?Qo(3,[{provide:Ru,multi:!0,useFactory:()=>{const e=Ue(dt);return()=>{e.setUpLocationChangeListener()}}},{provide:b_,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?Qo(2,[{provide:b_,useValue:0},{provide:Ru,multi:!0,deps:[Gt],useFactory:e=>{const n=e.get(HW,Promise.resolve());let r=!1;return()=>n.then(()=>new Promise(s=>{const o=e.get(dt),a=e.get(uN);(function i(s){e.get(dt).events.pipe(on(a=>a instanceof ls||a instanceof ch||a instanceof TR),X(a=>a instanceof ls||a instanceof ch&&(0===a.code||1===a.code)&&null),on(a=>null!==a),Dn(1)).subscribe(()=>{s()})})(()=>{s(!0),r=!0}),o.afterPreactivation=()=>(s(!0),r||a.closed?U(void 0):a),o.initialNavigation()}))}}]).\u0275providers:[]]}const hN=new j("");class fN{canActivate(e){const n=e.params.workout;return["rug","benen","borst"].some(i=>i===n)}}function pN(t,e,n,r,i,s,o){try{var a=t[s](o),u=a.value}catch(c){return void n(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function g(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(u){pN(s,r,i,o,a,"next",u)}function a(u){pN(s,r,i,o,a,"throw",u)}o(void 0)})}}const gN=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},C_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;u||(f=64,o||(h=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(gN(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const u=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==a||null==c||null==d)throw Error();r.push(s<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},bh=function(t){return function(t){const e=gN(t);return C_.encodeByteArray(e,!0)}(t).replace(/\./g,"")},Th=function(t){try{return C_.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function ht(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function S_(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function ds(){return"object"==typeof indexedDB}function tc(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(n){e(n)}})}function A_(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const x_=()=>function J6(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u")return;const t=process.env.__FIREBASE_DEFAULTS__,e=process.env.__FIREBASE_DEFAULTS_PATH__;if(t)return e&&console.warn("Values were provided for both __FIREBASE_DEFAULTS__ and __FIREBASE_DEFAULTS_PATH__. __FIREBASE_DEFAULTS_PATH__ will be ignored."),JSON.parse(t);if(e)try{return wl(163)(e)}catch{console.warn(`Unable to read defaults from file provided to __FIREBASE_DEFAULTS_PATH__: ${e}`)}})()||(()=>{if(typeof document>"u")return;const t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/),e=t&&Th(t[1]);return e&&JSON.parse(e)})(),yN=t=>{var e,n;return null===(n=null===(e=x_())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]},_N=t=>{var e;return null===(e=x_())||void 0===e?void 0:e[`_${t}`]};class Ch{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}class Bn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,Bn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,fr.prototype.create)}}class fr{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function s5(t,e){return t.replace(o5,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new Bn(i,`${this.serviceName}: ${o} (${i}).`,r)}}const o5=/\{\$([^}]+)}/g;function Ah(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(wN(s)&&wN(o)){if(!Ah(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function wN(t){return null!==t&&"object"==typeof t}function xh(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class c5{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function l5(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=M_),void 0===i.error&&(i.error=M_),void 0===i.complete&&(i.complete=M_);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function M_(){}function R_(t,e=1e3,n=2){const r=e*Math.pow(n,t),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}function pr(t){return t&&t._delegate?t._delegate:t}class Ot{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const hs="[DEFAULT]";class m5{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Ch;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function _5(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:hs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=hs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return g(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=hs){return this.instances.has(e)}getOptions(e=hs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===hs?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=hs){return this.component?this.component.multipleInstances?e:hs:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class v5{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new m5(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const N_=[];var le=(()=>{return(t=le||(le={}))[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",le;var t})();const IN={debug:le.DEBUG,verbose:le.VERBOSE,info:le.INFO,warn:le.WARN,error:le.ERROR,silent:le.SILENT},w5=le.INFO,I5={[le.DEBUG]:"log",[le.VERBOSE]:"log",[le.INFO]:"info",[le.WARN]:"warn",[le.ERROR]:"error"},E5=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=I5[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class Yo{constructor(e){this.name=e,this._logLevel=w5,this._logHandler=E5,this._userLogHandler=null,N_.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?IN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,le.DEBUG,...e),this._logHandler(this,le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,le.VERBOSE,...e),this._logHandler(this,le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,le.INFO,...e),this._logHandler(this,le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,le.WARN,...e),this._logHandler(this,le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,le.ERROR,...e),this._logHandler(this,le.ERROR,...e)}}let EN,DN;const bN=new WeakMap,P_=new WeakMap,TN=new WeakMap,O_=new WeakMap,F_=new WeakMap;let L_={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return P_.get(t);if("objectStoreNames"===e)return t.objectStoreNames||TN.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return $r(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function M5(t){return"function"==typeof t?function x5(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function T5(){return DN||(DN=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(V_(this),e),$r(bN.get(this))}:function(...e){return $r(t.apply(V_(this),e))}:function(e,...n){const r=t.call(V_(this),e,...n);return TN.set(r,e.sort?e.sort():[e]),$r(r)}}(t):(t instanceof IDBTransaction&&function S5(t){if(P_.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});P_.set(t,e)}(t),((t,e)=>e.some(n=>t instanceof n))(t,function b5(){return EN||(EN=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,L_):t)}function $r(t){if(t instanceof IDBRequest)return function C5(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n($r(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&bN.set(n,t)}).catch(()=>{}),F_.set(e,t),e}(t);if(O_.has(t))return O_.get(t);const e=M5(t);return e!==t&&(O_.set(t,e),F_.set(e,t)),e}const V_=t=>F_.get(t);function Mh(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=$r(o);return r&&o.addEventListener("upgradeneeded",u=>{r($r(o.result),u.oldVersion,u.newVersion,$r(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function U_(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",()=>e()),$r(n).then(()=>{})}const k5=["get","getKey","getAll","getAllKeys","count"],R5=["put","add","delete","clear"],B_=new Map;function CN(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(B_.get(e))return B_.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=R5.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!k5.includes(n))return;const s=function(){var o=g(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return B_.set(e,s),s}!function A5(t){L_=t(L_)}(t=>({...t,get:(e,n,r)=>CN(e,n)||t.get(e,n,r),has:(e,n)=>!!CN(e,n)||t.has(e,n)}));class N5{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function P5(t){return"VERSION"===t.getComponent()?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const $_="@firebase/app",fs=new Yo("@firebase/app"),kh="[DEFAULT]",o7={[$_]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ps=new Map,Rh=new Map;function a7(t,e){try{t.container.addComponent(e)}catch(n){fs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Kt(t){const e=t.name;if(Rh.has(e))return fs.debug(`There were multiple attempts to register component ${e}.`),!1;Rh.set(e,t);for(const n of ps.values())a7(n,t);return!0}function Zo(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const jr=new fr("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class c7{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ot("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw jr.create("app-deleted",{appName:this._name})}}const Jo="9.11.0";function AN(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:kh,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw jr.create("bad-app-name",{appName:String(i)});if(n||(n=(()=>{var t;return null===(t=x_())||void 0===t?void 0:t.config})()),!n)throw jr.create("no-options");const s=ps.get(i);if(s){if(Ah(n,s.options)&&Ah(r,s.config))return s;throw jr.create("duplicate-app",{appName:i})}const o=new v5(i);for(const u of Rh.values())o.addComponent(u);const a=new c7(n,r,o);return ps.set(i,a),a}function j_(t=kh){const e=ps.get(t);if(!e&&t===kh)return AN();if(!e)throw jr.create("no-app",{appName:t});return e}function xN(){return Array.from(ps.values())}function Fe(t,e,n){var r;let i=null!==(r=o7[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void fs.warn(a.join(" "))}Kt(new Ot(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const nc="firebase-heartbeat-store";let G_=null;function MN(){return G_||(G_=Mh("firebase-heartbeat-database",1,{upgrade:(t,e)=>{0===e&&t.createObjectStore(nc)}}).catch(t=>{throw jr.create("idb-open",{originalErrorMessage:t.message})})),G_}function q_(){return(q_=g(function*(t){var e;try{return(yield MN()).transaction(nc).objectStore(nc).get(RN(t))}catch(n){if(n instanceof Bn)fs.warn(n.message);else{const r=jr.create("idb-get",{originalErrorMessage:null===(e=n)||void 0===e?void 0:e.message});fs.warn(r.message)}}})).apply(this,arguments)}function kN(t,e){return z_.apply(this,arguments)}function z_(){return(z_=g(function*(t,e){var n;try{const i=(yield MN()).transaction(nc,"readwrite");return yield i.objectStore(nc).put(e,RN(t)),i.done}catch(r){if(r instanceof Bn)fs.warn(r.message);else{const i=jr.create("idb-set",{originalErrorMessage:null===(n=r)||void 0===n?void 0:n.message});fs.warn(i.message)}}})).apply(this,arguments)}function RN(t){return`${t.name}!${t.options.appId}`}class g7{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new y7(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return g(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=NN();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return g(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=NN(),{heartbeatsToSend:r,unsentEntries:i}=function m7(t,e=1024){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),PN(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),PN(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=bh(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function NN(){return(new Date).toISOString().substring(0,10)}class y7{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return g(function*(){return!!ds()&&tc().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return g(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function h7(t){return q_.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return g(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return kN(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return g(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return kN(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function PN(t){return bh(JSON.stringify({version:2,heartbeats:t})).length}!function _7(t){Kt(new Ot("platform-logger",e=>new N5(e),"PRIVATE")),Kt(new Ot("heartbeat",e=>new g7(e),"PRIVATE")),Fe($_,"0.8.0",t),Fe($_,"0.8.0","esm2017"),Fe("fire-js","")}(""),Fe("firebase","9.11.0","app");const ON="@firebase/installations",W_="0.5.13",LN=`w:${W_}`,VN="FIS_v2",Hr=new fr("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function UN(t){return t instanceof Bn&&t.code.includes("request-failed")}function K_({projectId:t}){return`https://firebaseinstallations.googleapis.com/v1/projects/${t}/installations`}function BN(t){return{token:t.token,requestStatus:2,expiresIn:C7(t.expiresIn),creationTime:Date.now()}}function Q_(t,e){return Y_.apply(this,arguments)}function Y_(){return(Y_=g(function*(t,e){const r=(yield e.json()).error;return Hr.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function $N({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function jN(t,{refreshToken:e}){const n=$N(t);return n.append("Authorization",function S7(t){return`${VN} ${t}`}(e)),n}function Z_(t){return J_.apply(this,arguments)}function J_(){return(J_=g(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e})).apply(this,arguments)}function C7(t){return Number(t.replace("s","000"))}function A7(t,e){return X_.apply(this,arguments)}function X_(){return(X_=g(function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=K_(t),i=$N(t),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:VN,appId:t.appId,sdkVersion:LN})},u=yield Z_(()=>fetch(r,a));if(u.ok){const c=yield u.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:BN(c.authToken)}}throw yield Q_("Create Installation",u)})).apply(this,arguments)}function HN(t){return new Promise(e=>{setTimeout(e,t)})}const M7=/^[cdef][\w-]{21}$/;function k7(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function R7(t){return function x7(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return M7.test(n)?n:""}catch{return""}}function Xo(t){return`${t.appName}!${t.appId}`}const ea=new Map;function GN(t,e){const n=Xo(t);qN(n,e),function O7(t,e){const n=function zN(){return!gs&&"BroadcastChannel"in self&&(gs=new BroadcastChannel("[Firebase] FID Change"),gs.onmessage=t=>{qN(t.data.key,t.data.fid)}),gs}();n&&n.postMessage({key:t,fid:e}),function WN(){0===ea.size&&gs&&(gs.close(),gs=null)}()}(n,e)}function qN(t,e){const n=ea.get(t);if(n)for(const r of n)r(e)}let gs=null;const ms="firebase-installations-store";let tv=null;function nv(){return tv||(tv=Mh("firebase-installations-database",1,{upgrade:(t,e)=>{0===e&&t.createObjectStore(ms)}})),tv}function Nh(t,e){return rv.apply(this,arguments)}function rv(){return(rv=g(function*(t,e){const n=Xo(t),i=(yield nv()).transaction(ms,"readwrite"),s=i.objectStore(ms),o=yield s.get(n);return yield s.put(e,n),yield i.done,(!o||o.fid!==e.fid)&&GN(t,e.fid),e})).apply(this,arguments)}function iv(t){return sv.apply(this,arguments)}function sv(){return(sv=g(function*(t){const e=Xo(t),r=(yield nv()).transaction(ms,"readwrite");yield r.objectStore(ms).delete(e),yield r.done})).apply(this,arguments)}function rc(t,e){return ov.apply(this,arguments)}function ov(){return(ov=g(function*(t,e){const n=Xo(t),i=(yield nv()).transaction(ms,"readwrite"),s=i.objectStore(ms),o=yield s.get(n),a=e(o);return void 0===a?yield s.delete(n):yield s.put(a,n),yield i.done,a&&(!o||o.fid!==a.fid)&&GN(t,a.fid),a})).apply(this,arguments)}function av(t){return uv.apply(this,arguments)}function uv(){return(uv=g(function*(t){let e;const n=yield rc(t.appConfig,r=>{const i=V7(r),s=U7(t,i);return e=s.registrationPromise,s.installationEntry});return""===n.fid?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}})).apply(this,arguments)}function V7(t){return QN(t||{fid:k7(),registrationStatus:0})}function U7(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Hr.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function B7(t,e){return cv.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:$7(t)}:{installationEntry:e}}function cv(){return(cv=g(function*(t,e){try{const n=yield A7(t,e);return Nh(t.appConfig,n)}catch(n){throw UN(n)&&409===n.customData.serverCode?yield iv(t.appConfig):yield Nh(t.appConfig,{fid:e.fid,registrationStatus:0}),n}})).apply(this,arguments)}function $7(t){return lv.apply(this,arguments)}function lv(){return(lv=g(function*(t){let e=yield KN(t.appConfig);for(;1===e.registrationStatus;)yield HN(100),e=yield KN(t.appConfig);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield av(t);return r||n}return e})).apply(this,arguments)}function KN(t){return rc(t,e=>{if(!e)throw Hr.create("installation-not-found");return QN(e)})}function QN(t){return function j7(t){return 1===t.registrationStatus&&t.registrationTime+1e4<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function H7(t,e){return dv.apply(this,arguments)}function dv(){return(dv=g(function*({appConfig:t,heartbeatServiceProvider:e},n){const r=G7(t,n),i=jN(t,n),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:LN,appId:t.appId}})},u=yield Z_(()=>fetch(r,a));if(u.ok)return BN(yield u.json());throw yield Q_("Generate Auth Token",u)})).apply(this,arguments)}function G7(t,{fid:e}){return`${K_(t)}/${e}/authTokens:generate`}function hv(t){return fv.apply(this,arguments)}function fv(){return(fv=g(function*(t,e=!1){let n;const r=yield rc(t.appConfig,s=>{if(!ZN(s))throw Hr.create("not-registered");const o=s.authToken;if(!e&&W7(o))return s;if(1===o.requestStatus)return n=q7(t,e),s;{if(!navigator.onLine)throw Hr.create("app-offline");const a=Q7(s);return n=z7(t,a),a}});return n?yield n:r.authToken})).apply(this,arguments)}function q7(t,e){return pv.apply(this,arguments)}function pv(){return(pv=g(function*(t,e){let n=yield YN(t.appConfig);for(;1===n.authToken.requestStatus;)yield HN(100),n=yield YN(t.appConfig);const r=n.authToken;return 0===r.requestStatus?hv(t,e):r})).apply(this,arguments)}function YN(t){return rc(t,e=>{if(!ZN(e))throw Hr.create("not-registered");return function Y7(t){return 1===t.requestStatus&&t.requestTime+1e4<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function z7(t,e){return gv.apply(this,arguments)}function gv(){return(gv=g(function*(t,e){try{const n=yield H7(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield Nh(t.appConfig,r),n}catch(n){if(!UN(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield Nh(t.appConfig,r)}else yield iv(t.appConfig);throw n}})).apply(this,arguments)}function ZN(t){return void 0!==t&&2===t.registrationStatus}function W7(t){return 2===t.requestStatus&&!function K7(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+36e5}(t)}function Q7(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function mv(){return(mv=g(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield av(e);return r?r.catch(console.error):hv(e).catch(console.error),n.fid})).apply(this,arguments)}function yv(){return(yv=g(function*(t,e=!1){const n=t;return yield X7(n),(yield hv(n,e)).token})).apply(this,arguments)}function X7(t){return _v.apply(this,arguments)}function _v(){return(_v=g(function*(t){const{registrationPromise:e}=yield av(t);e&&(yield e)})).apply(this,arguments)}function Iv(t){return Hr.create("missing-app-config-values",{valueName:t})}const JN="installations",i9=t=>{const e=t.getProvider("app").getImmediate(),n=function n9(t){if(!t||!t.options)throw Iv("App Configuration");if(!t.name)throw Iv("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Iv(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:Zo(e,"heartbeat"),_delete:()=>Promise.resolve()}},s9=t=>{const n=Zo(t.getProvider("app").getImmediate(),JN).getImmediate();return{getId:()=>function Z7(t){return mv.apply(this,arguments)}(n),getToken:i=>function J7(t){return yv.apply(this,arguments)}(n,i)}};(function o9(){Kt(new Ot(JN,i9,"PUBLIC")),Kt(new Ot("installations-internal",s9,"PRIVATE"))})(),Fe(ON,W_),Fe(ON,W_,"esm2017");const Ev="@firebase/remote-config",an=new fr("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class y9{constructor(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-n,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var n=this;return g(function*(){const[r,i]=yield Promise.all([n.storage.getLastSuccessfulFetchTimestampMillis(),n.storage.getLastSuccessfulFetchResponse()]);if(i&&n.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield n.client.fetch(e),o=[n.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(n.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function _9(t=navigator){return t.languages&&t.languages[0]||t.language}class v9{constructor(e,n,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var n=this;return g(function*(){var r,i,s;const[o,a]=yield Promise.all([n.firebaseInstallations.getId(),n.firebaseInstallations.getToken()]),c=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${n.projectId}/namespaces/${n.namespace}:fetch?key=${n.apiKey}`,l={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},d={sdk_version:n.sdkVersion,app_instance_id:o,app_instance_id_token:a,app_id:n.appId,language_code:_9()},h={method:"POST",headers:l,body:JSON.stringify(d)},f=fetch(c,h),p=new Promise((C,R)=>{e.signal.addEventListener(()=>{const O=new Error("The operation was aborted.");O.name="AbortError",R(O)})});let m;try{yield Promise.race([f,p]),m=yield f}catch(C){let R="fetch-client-network";throw"AbortError"===(null===(r=C)||void 0===r?void 0:r.name)&&(R="fetch-timeout"),an.create(R,{originalErrorMessage:null===(i=C)||void 0===i?void 0:i.message})}let y=m.status;const I=m.headers.get("ETag")||void 0;let E,_;if(200===m.status){let C;try{C=yield m.json()}catch(R){throw an.create("fetch-client-parse",{originalErrorMessage:null===(s=R)||void 0===s?void 0:s.message})}E=C.entries,_=C.state}if("INSTANCE_STATE_UNSPECIFIED"===_?y=500:"NO_CHANGE"===_?y=304:("NO_TEMPLATE"===_||"EMPTY_CONFIG"===_)&&(E={}),304!==y&&200!==y)throw an.create("fetch-status",{httpStatus:y});return{status:y,eTag:I,config:E}})()}}class E9{constructor(e,n){this.client=e,this.storage=n}fetch(e){var n=this;return g(function*(){const r=(yield n.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return n.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:n,backoffCount:r}){var i=this;return g(function*(){yield function w9(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(an.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,n);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function I9(t){if(!(t instanceof Bn&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+R_(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(e,o)}})()}}class T9{constructor(e,n,r,i,s){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Oh(t,e){var n;const r=t.target.error||void 0;return an.create(e,{originalErrorMessage:r&&(null===(n=r)||void 0===n?void 0:n.message)})}const ys="app_namespace_store";class x9{constructor(e,n,r,i=function A9(){return new Promise((t,e)=>{var n;try{const r=indexedDB.open("firebase_remote_config",1);r.onerror=i=>{e(Oh(i,"storage-open"))},r.onsuccess=i=>{t(i.target.result)},r.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(ys,{keyPath:"compositeKey"})}}catch(r){e(an.create("storage-open",{originalErrorMessage:null===(n=r)||void 0===n?void 0:n.message}))}})}()){this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var n=this;return g(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{var o;const u=r.transaction([ys],"readonly").objectStore(ys),c=n.createCompositeKey(e);try{const l=u.get(c);l.onerror=d=>{s(Oh(d,"storage-get"))},l.onsuccess=d=>{const h=d.target.result;i(h?h.value:void 0)}}catch(l){s(an.create("storage-get",{originalErrorMessage:null===(o=l)||void 0===o?void 0:o.message}))}})})()}set(e,n){var r=this;return g(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{var a;const c=i.transaction([ys],"readwrite").objectStore(ys),l=r.createCompositeKey(e);try{const d=c.put({compositeKey:l,value:n});d.onerror=h=>{o(Oh(h,"storage-set"))},d.onsuccess=()=>{s()}}catch(d){o(an.create("storage-set",{originalErrorMessage:null===(a=d)||void 0===a?void 0:a.message}))}})})()}delete(e){var n=this;return g(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{var o;const u=r.transaction([ys],"readwrite").objectStore(ys),c=n.createCompositeKey(e);try{const l=u.delete(c);l.onerror=d=>{s(Oh(d,"storage-delete"))},l.onsuccess=()=>{i()}}catch(l){s(an.create("storage-delete",{originalErrorMessage:null===(o=l)||void 0===o?void 0:o.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class M9{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return g(function*(){const n=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield n;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function R9(){return Sv.apply(this,arguments)}function Sv(){return(Sv=g(function*(){if(!ds())return!1;try{return yield tc()}catch{return!1}})).apply(this,arguments)}!function k9(){Kt(new Ot("remote-config",function t(e,{instanceIdentifier:n}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw an.create("registration-window");if(!ds())throw an.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw an.create("registration-project-id");if(!o)throw an.create("registration-api-key");if(!a)throw an.create("registration-app-id");const u=new x9(a,r.name,n=n||"firebase"),c=new M9(u),l=new Yo(Ev);l.logLevel=le.ERROR;const d=new v9(i,Jo,n,s,o,a),h=new E9(d,u),f=new y9(h,u,c,l),p=new T9(r,f,c,u,l);return function p9(t){const e=pr(t);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),Fe(Ev,"0.3.12"),Fe(Ev,"0.3.12","esm2017")}();const N9="/firebase-messaging-sw.js",P9="/firebase-cloud-messaging-push-scope",n1="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",r1="google.c.a.c_id",F9="google.c.a.c_l",L9="google.c.a.ts",V9="google.c.a.e";var ta=(()=>{return(t=ta||(ta={})).PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked",ta;var t})();function Gr(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function U9(t){const n=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const Av="fcm_token_details_db",i1="fcm_token_object_Store";function $9(t){return xv.apply(this,arguments)}function xv(){return xv=g(function*(t){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(Av))return null;let e=null;return(yield Mh(Av,5,{upgrade:(r=g(function*(i,s,o,a){var u;if(s<2||!i.objectStoreNames.contains(i1))return;const c=a.objectStore(i1),l=yield c.index("fcmSenderId").get(t);if(yield c.clear(),l)if(2===s){const d=l;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(u=d.createTime)&&void 0!==u?u:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:Gr(d.vapidKey)}}}else if(3===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Gr(d.auth),p256dh:Gr(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Gr(d.vapidKey)}}}else if(4===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Gr(d.auth),p256dh:Gr(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Gr(d.vapidKey)}}}}),function(s,o,a,u){return r.apply(this,arguments)})})).close(),yield U_(Av),yield U_("fcm_vapid_details_db"),yield U_("undefined"),j9(e)?e:null;var r}),xv.apply(this,arguments)}function j9(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}const _s="firebase-messaging-store";let Mv=null;function kv(){return Mv||(Mv=Mh("firebase-messaging-database",1,{upgrade:(t,e)=>{0===e&&t.createObjectStore(_s)}})),Mv}function s1(t){return Rv.apply(this,arguments)}function Rv(){return(Rv=g(function*(t){const e=Fv(t),r=yield(yield kv()).transaction(_s).objectStore(_s).get(e);if(r)return r;{const i=yield $9(t.appConfig.senderId);if(i)return yield Nv(t,i),i}})).apply(this,arguments)}function Nv(t,e){return Pv.apply(this,arguments)}function Pv(){return(Pv=g(function*(t,e){const n=Fv(t),i=(yield kv()).transaction(_s,"readwrite");return yield i.objectStore(_s).put(e,n),yield i.done,e})).apply(this,arguments)}function q9(t){return Ov.apply(this,arguments)}function Ov(){return(Ov=g(function*(t){const e=Fv(t),r=(yield kv()).transaction(_s,"readwrite");yield r.objectStore(_s).delete(e),yield r.done})).apply(this,arguments)}function Fv({appConfig:t}){return t.appId}const It=new fr("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function W9(t,e){return Lv.apply(this,arguments)}function Lv(){return(Lv=g(function*(t,e){var n;const r=yield $v(t),i=a1(e),s={method:"POST",headers:r,body:JSON.stringify(i)};let o;try{o=yield(yield fetch(Bv(t.appConfig),s)).json()}catch(a){throw It.create("token-subscribe-failed",{errorInfo:null===(n=a)||void 0===n?void 0:n.toString()})}if(o.error)throw It.create("token-subscribe-failed",{errorInfo:o.error.message});if(!o.token)throw It.create("token-subscribe-no-token");return o.token})).apply(this,arguments)}function K9(t,e){return Vv.apply(this,arguments)}function Vv(){return(Vv=g(function*(t,e){var n;const r=yield $v(t),i=a1(e.subscriptionOptions),s={method:"PATCH",headers:r,body:JSON.stringify(i)};let o;try{o=yield(yield fetch(`${Bv(t.appConfig)}/${e.token}`,s)).json()}catch(a){throw It.create("token-update-failed",{errorInfo:null===(n=a)||void 0===n?void 0:n.toString()})}if(o.error)throw It.create("token-update-failed",{errorInfo:o.error.message});if(!o.token)throw It.create("token-update-no-token");return o.token})).apply(this,arguments)}function o1(t,e){return Uv.apply(this,arguments)}function Uv(){return(Uv=g(function*(t,e){var n;const i={method:"DELETE",headers:yield $v(t)};try{const o=yield(yield fetch(`${Bv(t.appConfig)}/${e}`,i)).json();if(o.error)throw It.create("token-unsubscribe-failed",{errorInfo:o.error.message})}catch(s){throw It.create("token-unsubscribe-failed",{errorInfo:null===(n=s)||void 0===n?void 0:n.toString()})}})).apply(this,arguments)}function Bv({projectId:t}){return`https://fcmregistrations.googleapis.com/v1/projects/${t}/registrations`}function $v(t){return jv.apply(this,arguments)}function jv(){return(jv=g(function*({appConfig:t,installations:e}){const n=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})).apply(this,arguments)}function a1({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==n1&&(i.web.applicationPubKey=r),i}const Q9=6048e5;function Y9(t){return Hv.apply(this,arguments)}function Hv(){return(Hv=g(function*(t){const e=yield J9(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:Gr(e.getKey("auth")),p256dh:Gr(e.getKey("p256dh"))},r=yield s1(t.firebaseDependencies);if(r){if(X9(r.subscriptionOptions,n))return Date.now()>=r.createTime+Q9?Z9(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield o1(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return c1(t.firebaseDependencies,n)}return c1(t.firebaseDependencies,n)})).apply(this,arguments)}function u1(t){return Gv.apply(this,arguments)}function Gv(){return(Gv=g(function*(t){const e=yield s1(t.firebaseDependencies);e&&(yield o1(t.firebaseDependencies,e.token),yield q9(t.firebaseDependencies));const n=yield t.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()})).apply(this,arguments)}function Z9(t,e){return qv.apply(this,arguments)}function qv(){return(qv=g(function*(t,e){try{const n=yield K9(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return yield Nv(t.firebaseDependencies,r),n}catch(n){throw yield u1(t),n}})).apply(this,arguments)}function c1(t,e){return zv.apply(this,arguments)}function zv(){return(zv=g(function*(t,e){const r={token:yield W9(t,e),createTime:Date.now(),subscriptionOptions:e};return yield Nv(t,r),r.token})).apply(this,arguments)}function J9(t,e){return Wv.apply(this,arguments)}function Wv(){return(Wv=g(function*(t,e){return(yield t.pushManager.getSubscription())||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:U9(e)})})).apply(this,arguments)}function X9(t,e){return e.vapidKey===t.vapidKey&&e.endpoint===t.endpoint&&e.auth===t.auth&&e.p256dh===t.p256dh}function l1(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return function eQ(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i)}(e,t),function tQ(t,e){!e.data||(t.data=e.data)}(e,t),function nQ(t,e){var n,r,i,s,o;if(!(e.fcmOptions||null!==(n=e.notification)&&void 0!==n&&n.click_action))return;t.fcmOptions={};const a=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(s=e.notification)||void 0===s?void 0:s.click_action;a&&(t.fcmOptions.link=a);const u=null===(o=e.fcmOptions)||void 0===o?void 0:o.analytics_label;u&&(t.fcmOptions.analyticsLabel=u)}(e,t),e}function rQ(t){return"object"==typeof t&&!!t&&r1 in t}function d1(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}function Kv(t){return It.create("missing-app-config-values",{valueName:t})}d1("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),d1("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class sQ{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function iQ(t){if(!t||!t.options)throw Kv("App Configuration Object");if(!t.name)throw Kv("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw Kv(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}function h1(t){return Qv.apply(this,arguments)}function Qv(){return(Qv=g(function*(t){var e;try{t.swRegistration=yield navigator.serviceWorker.register(N9,{scope:P9}),t.swRegistration.update().catch(()=>{})}catch(n){throw It.create("failed-service-worker-registration",{browserErrorMessage:null===(e=n)||void 0===e?void 0:e.message})}})).apply(this,arguments)}function oQ(t,e){return Yv.apply(this,arguments)}function Yv(){return(Yv=g(function*(t,e){if(!e&&!t.swRegistration&&(yield h1(t)),e||!t.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw It.create("invalid-sw-registration");t.swRegistration=e}})).apply(this,arguments)}function aQ(t,e){return Zv.apply(this,arguments)}function Zv(){return(Zv=g(function*(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=n1)})).apply(this,arguments)}function Jv(){return(Jv=g(function*(t,e){if(!navigator)throw It.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw It.create("permission-blocked");return yield aQ(t,e?.vapidKey),yield oQ(t,e?.serviceWorkerRegistration),Y9(t)})).apply(this,arguments)}function uQ(t,e,n){return Xv.apply(this,arguments)}function Xv(){return(Xv=g(function*(t,e,n){const r=cQ(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[r1],message_name:n[F9],message_time:n[L9],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function cQ(t){switch(t){case ta.NOTIFICATION_CLICKED:return"notification_open";case ta.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function ew(){return(ew=g(function*(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===ta.PUSH_RECEIVED&&("function"==typeof t.onMessageHandler?t.onMessageHandler(l1(n)):t.onMessageHandler.next(l1(n)));const r=n.data;rQ(r)&&"1"===r[V9]&&(yield uQ(t,n.messageType,r))})).apply(this,arguments)}const p1="@firebase/messaging",dQ=t=>{const e=new sQ(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>function lQ(t,e){return ew.apply(this,arguments)}(e,n)),e},hQ=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>function f1(t,e){return Jv.apply(this,arguments)}(e,r)}};function m1(){return tw.apply(this,arguments)}function tw(){return(tw=g(function*(){try{yield tc()}catch{return!1}return typeof window<"u"&&ds()&&A_()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function fQ(){Kt(new Ot("messaging",dQ,"PUBLIC")),Kt(new Ot("messaging-internal",hQ,"PRIVATE")),Fe(p1,"0.9.17"),Fe(p1,"0.9.17","esm2017")}();const Fh="analytics",mQ="firebase_id",vQ="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",y1="https://www.googletagmanager.com/gtag/js",Et=new Yo("@firebase/analytics");function _1(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function wQ(t,e){const n=document.createElement("script");n.src=`${y1}?l=${t}&id=${e}`,n.async=!0,document.head.appendChild(n)}function EQ(t,e,n,r,i,s){return iw.apply(this,arguments)}function iw(){return(iw=g(function*(t,e,n,r,i,s){const o=r[i];try{if(o)yield e[o];else{const u=(yield _1(n)).find(c=>c.measurementId===i);u&&(yield e[u.appId])}}catch(a){Et.error(a)}t("config",i,s)})).apply(this,arguments)}function DQ(t,e,n,r,i){return sw.apply(this,arguments)}function sw(){return(sw=g(function*(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield _1(n);for(const u of o){const c=a.find(d=>d.measurementId===u),l=c&&e[c.appId];if(!l){s=[];break}s.push(l)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),t("event",r,i||{})}catch(s){Et.error(s)}})).apply(this,arguments)}function CQ(){const t=window.document.getElementsByTagName("script");for(const e of Object.values(t))if(e.src&&e.src.includes(y1))return e;return null}const bn=new fr("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),v1=new class MQ{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function kQ(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function RQ(t){return ow.apply(this,arguments)}function ow(){return(ow=g(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:kQ(r)},s=vQ.replace("{app-id}",n),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const u=yield o.json();null!==(e=u.error)&&void 0!==e&&e.message&&(a=u.error.message)}catch{}throw bn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})).apply(this,arguments)}function NQ(t){return aw.apply(this,arguments)}function aw(){return(aw=g(function*(t,e=v1,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw bn.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw bn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new FQ;return setTimeout(g(function*(){a.abort()}),void 0!==n?n:6e4),w1({appId:r,apiKey:i,measurementId:s},o,a,e)})).apply(this,arguments)}function w1(t,e,n){return uw.apply(this,arguments)}function uw(){return(uw=g(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=v1){var s,o;const{appId:a,measurementId:u}=t;try{yield PQ(r,e)}catch(c){if(u)return Et.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${null===(s=c)||void 0===s?void 0:s.message}]`),{appId:a,measurementId:u};throw c}try{const c=yield RQ(t);return i.deleteThrottleMetadata(a),c}catch(c){const l=c;if(!OQ(l)){if(i.deleteThrottleMetadata(a),u)return Et.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${l?.message}]`),{appId:a,measurementId:u};throw c}const d=503===Number(null===(o=l?.customData)||void 0===o?void 0:o.httpStatus)?R_(n,i.intervalMillis,30):R_(n,i.intervalMillis),h={throttleEndTimeMillis:Date.now()+d,backoffCount:n+1};return i.setThrottleMetadata(a,h),Et.debug(`Calling attemptFetch again in ${d} millis`),w1(t,h,r,i)}})).apply(this,arguments)}function PQ(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(bn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function OQ(t){if(!(t instanceof Bn&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}class FQ{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let cw,gw;function lw(){return(lw=g(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const s=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function I1(t){gw=t}function E1(t){cw=t}function jQ(){return mw.apply(this,arguments)}function mw(){return(mw=g(function*(){var t;if(!ds())return Et.warn(bn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield tc()}catch(e){return Et.warn(bn.create("indexeddb-unavailable",{errorInfo:null===(t=e)||void 0===t?void 0:t.toString()}).message),!1}return!0})).apply(this,arguments)}function yw(){return(yw=g(function*(t,e,n,r,i,s,o){var a;const u=NQ(t);u.then(f=>{n[f.measurementId]=f.appId,t.options.measurementId&&f.measurementId!==t.options.measurementId&&Et.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>Et.error(f)),e.push(u);const c=jQ().then(f=>{if(f)return r.getId()}),[l,d]=yield Promise.all([u,c]);CQ()||wQ(s,l.measurementId),gw&&(i("consent","default",gw),I1(void 0)),i("js",new Date);const h=null!==(a=o?.config)&&void 0!==a?a:{};return h.origin="firebase",h.update=!0,null!=d&&(h[mQ]=d),i("config",l.measurementId,h),cw&&(i("set",cw),E1(void 0)),l.measurementId})).apply(this,arguments)}class GQ{constructor(e){this.app=e}_delete(){return delete qr[this.app.options.appId],Promise.resolve()}}let qr={},D1=[];const b1={};let C1,zr,Lh="dataLayer",_w=!1;function zQ(t,e,n){!function qQ(){const t=[];if(S_()&&t.push("This is a browser extension environment."),A_()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=bn.create("invalid-analytics-context",{errorInfo:e});Et.warn(n.message)}}();const r=t.options.appId;if(!r)throw bn.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw bn.create("no-api-key");Et.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=qr[r])throw bn.create("already-exists",{id:r});if(!_w){!function IQ(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(Lh);const{wrappedGtag:s,gtagCore:o}=function TQ(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function bQ(t,e,n,r){function s(){return(s=g(function*(o,a,u){try{"event"===o?yield DQ(t,e,n,a,u):"config"===o?yield EQ(t,e,n,r,a,u):"consent"===o?t("consent","update",u):t("set",a)}catch(c){Et.error(c)}})).apply(this,arguments)}return function i(o,a,u){return s.apply(this,arguments)}}(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}(qr,D1,b1,Lh,"gtag");zr=s,C1=o,_w=!0}return qr[r]=function HQ(t,e,n,r,i,s,o){return yw.apply(this,arguments)}(t,D1,b1,e,C1,Lh,n),new GQ(t)}function KQ(){return vw.apply(this,arguments)}function vw(){return(vw=g(function*(){if(S_()||!A_()||!ds())return!1;try{return yield tc()}catch{return!1}})).apply(this,arguments)}const S1="@firebase/analytics";!function YQ(){Kt(new Ot(Fh,(e,{options:n})=>zQ(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),Kt(new Ot("analytics-internal",function t(e){try{const n=e.getProvider(Fh).getImmediate();return{logEvent:(r,i,s)=>function QQ(t,e,n,r){t=pr(t),function LQ(t,e,n,r,i){return lw.apply(this,arguments)}(zr,qr[t.app.options.appId],e,n,r).catch(i=>Et.error(i))}(n,r,i,s)}}catch(n){throw bn.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),Fe(S1,"0.8.1"),Fe(S1,"0.8.1","esm2017")}();class ZQ extends fn{constructor(e,n){super()}schedule(e,n=0){return this}}const Vh={setInterval(t,e,...n){const{delegate:r}=Vh;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=Vh;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};class x1 extends ZQ{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return Vh.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&Vh.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Il(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const M1={now:()=>(M1.delegate||Date).now(),delegate:void 0};class ic{constructor(e,n=ic.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}ic.now=M1.now;class k1 extends ic{constructor(e,n=ic.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const eY=new class XQ extends k1{}(class JQ extends x1{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),ww=new k1(x1),tY=ww,Uh=new pu("7.4.1"),Iw="__angularfire_symbol__analyticsIsSupportedValue",Ew="__angularfire_symbol__analyticsIsSupported",Dw="__angularfire_symbol__remoteConfigIsSupportedValue",bw="__angularfire_symbol__remoteConfigIsSupported",Tw="__angularfire_symbol__messagingIsSupportedValue",Cw="__angularfire_symbol__messagingIsSupported";function Aw(t,e,n){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===n);if(1===s.length)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}globalThis[Ew]||(globalThis[Ew]=KQ().then(t=>globalThis[Iw]=t).catch(()=>globalThis[Iw]=!1)),globalThis[Cw]||(globalThis[Cw]=m1().then(t=>globalThis[Tw]=t).catch(()=>globalThis[Tw]=!1)),globalThis[bw]||(globalThis[bw]=R9().then(t=>globalThis[Dw]=t).catch(()=>globalThis[Dw]=!1));const xw=(t,e)=>{const n=e?[e]:xN(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function na(){}class R1{constructor(e,n=eY){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},n,r)}}class nY{constructor(e){this.zone=e,this.task=null}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",na,{},na,na)),n.pipe(lt({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Mw=(()=>{class t{constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new R1(Zone.current)),this.insideAngular=n.run(()=>new R1(Zone.current,ww)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return t.\u0275fac=function(n){return new(n||t)(V(Ae))},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function vs(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function rY(t){return vs().ngZone.runOutsideAngular(()=>t())}function ws(t){return vs().ngZone.run(()=>t())}function iY(t){return vs(),function sY(t){return function(n){return(n=n.lift(new nY(t.ngZone))).pipe(Sl(t.outsideAngular),Cl(t.insideAngular))}}(vs())(t)}const oY=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),ws(()=>t.apply(void 0,r))},sc=(t,e)=>function(){let n;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(n||(n=ws(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",na,{},na,na)))),r[s]=oY(r[s],n));const i=rY(()=>t.apply(this,r));if(!e){if(i instanceof Ie){const s=vs();return i.pipe(Sl(s.outsideAngular),Cl(s.insideAngular))}return ws(()=>i)}return i instanceof Ie?i.pipe(iY):i instanceof Promise?ws(()=>new Promise((s,o)=>i.then(a=>ws(()=>s(a)),a=>ws(()=>o(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:ws(()=>i)};class ra{constructor(e){return e}}class kw{constructor(){return xN()}}const Rw=new j("angularfire2._apps"),uY={provide:ra,useFactory:function aY(t){return t&&1===t.length?t[0]:new ra(j_())},deps:[[new kt,Rw]]},cY={provide:kw,deps:[[new kt,Rw]]};function lY(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new ra(r)}}let dY=(()=>{class t{constructor(n){Fe("angularfire",Uh.full,"core"),Fe("angularfire",Uh.full,"app"),Fe("angular",HC.full,n.toString())}}return t.\u0275fac=function(n){return new(n||t)(V(Bo))},t.\u0275mod=Gn({type:t}),t.\u0275inj=xn({providers:[uY,cY]}),t})();function hY(t,...e){return{ngModule:dY,providers:[{provide:Rw,useFactory:lY(t),multi:!0,deps:[Ae,Gt,Mw,...e]}]}}const fY=sc(AN,!0),N1=new Map,pY={activated:!1,tokenObservers:[]},gY={initialized:!1,enabled:!1};function ft(t){return N1.get(t)||pY}function $n(t,e){N1.set(t,e)}function Bh(){return gY}class wY{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return g(function*(){n.stop();try{n.pending=new Ch,yield function IY(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new Ch,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const Qt=new fr("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function O1(t){if(!ft(t).activated)throw Qt.create("use-before-activation",{appName:t.name})}function Ow(t,e){return Fw.apply(this,arguments)}function Fw(){return(Fw=g(function*({url:t,body:e},n){var r,i;const s={"Content-Type":"application/json"},o=n.getImmediate({optional:!0});if(o){const f=yield o.getHeartbeatsHeader();f&&(s["X-Firebase-Client"]=f)}const a={method:"POST",body:JSON.stringify(e),headers:s};let u,c;try{u=yield fetch(t,a)}catch(f){throw Qt.create("fetch-network-error",{originalErrorMessage:null===(r=f)||void 0===r?void 0:r.message})}if(200!==u.status)throw Qt.create("fetch-status-error",{httpStatus:u.status});try{c=yield u.json()}catch(f){throw Qt.create("fetch-parse-error",{originalErrorMessage:null===(i=f)||void 0===i?void 0:i.message})}const l=c.ttl.match(/^([\d.]+)(s)$/);if(!l||!l[2]||isNaN(Number(l[1])))throw Qt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${c.ttl}`});const d=1e3*Number(l[1]),h=Date.now();return{token:c.token,expireTimeMillis:h+d,issuedAtTimeMillis:h}})).apply(this,arguments)}function TY(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${n}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const oc="firebase-app-check-store";let Hh=null;function L1(){return Hh||(Hh=new Promise((t,e)=>{var n;try{const r=indexedDB.open("firebase-app-check-database",1);r.onsuccess=i=>{t(i.target.result)},r.onerror=i=>{var s;e(Qt.create("storage-open",{originalErrorMessage:null===(s=i.target.error)||void 0===s?void 0:s.message}))},r.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(oc,{keyPath:"compositeKey"})}}catch(r){e(Qt.create("storage-open",{originalErrorMessage:null===(n=r)||void 0===n?void 0:n.message}))}}),Hh)}function Lw(){return(Lw=g(function*(t,e){const r=(yield L1()).transaction(oc,"readwrite"),s=r.objectStore(oc).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=u=>{o()},r.onerror=u=>{var c;a(Qt.create("storage-set",{originalErrorMessage:null===(c=u.target.error)||void 0===c?void 0:c.message}))}})})).apply(this,arguments)}const ac=new Yo("@firebase/app-check");function Bw(t,e){return ds()?function xY(t,e){return function V1(t,e){return Lw.apply(this,arguments)}(function B1(t){return`${t.options.appId}-${t.name}`}(t),e)}(t,e).catch(n=>{ac.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function $1(){return Bh().enabled}function j1(){return jw.apply(this,arguments)}function jw(){return(jw=g(function*(){const t=Bh();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const OY={error:"UNKNOWN_ERROR"};function FY(t){return C_.encodeString(JSON.stringify(t),!1)}function Gh(t){return Hw.apply(this,arguments)}function Hw(){return(Hw=g(function*(t,e=!1){const n=t.app;O1(n);const r=ft(n);let s,i=r.token;if(i&&!ia(i)&&($n(n,Object.assign(Object.assign({},r),{token:void 0})),i=void 0),!i){const u=yield r.cachedTokenPromise;u&&(ia(u)?i=u:yield Bw(n,void 0))}if(!e&&i&&ia(i))return{token:i.token};let a,o=!1;if($1()){r.exchangeTokenPromise||(r.exchangeTokenPromise=Ow(TY(n,yield j1()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const u=yield r.exchangeTokenPromise;return yield Bw(n,u),$n(n,Object.assign(Object.assign({},r),{token:u})),{token:u.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=yield r.exchangeTokenPromise}catch(u){"appCheck/throttled"===u.code?ac.warn(u.message):ac.error(u),s=u}return i?s?a=ia(i)?{token:i.token,internalError:s}:q1(s):(a={token:i.token},$n(n,Object.assign(Object.assign({},r),{token:i})),yield Bw(n,i)):a=q1(s),o&&G1(n,a),a})).apply(this,arguments)}function qw(t,e){const n=ft(t),r=n.tokenObservers.filter(i=>i.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),$n(t,Object.assign(Object.assign({},n),{tokenObservers:r}))}function H1(t){const{app:e}=t,n=ft(e);let r=n.tokenRefresher;r||(r=function LY(t){const{app:e}=t;return new wY(g(function*(){let r;if(r=ft(e).token?yield Gh(t,!0):yield Gh(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const n=ft(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(t),$n(e,Object.assign(Object.assign({},n),{tokenRefresher:r}))),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function G1(t,e){const n=ft(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function ia(t){return t.expireTimeMillis-Date.now()>0}function q1(t){return{token:FY(OY),error:t}}class VY{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=ft(this.app);for(const n of e)qw(this.app,n.next);return Promise.resolve()}}const X1="app-check-internal";!function JY(){Kt(new Ot("app-check",t=>function UY(t,e){return new VY(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(X1).initialize()})),Kt(new Ot(X1,t=>function BY(t){return{getToken:e=>Gh(t,e),addTokenListener:e=>function Gw(t,e,n,r){const{app:i}=t,s=ft(i),o={next:n,error:r,type:e};if($n(i,Object.assign(Object.assign({},s),{tokenObservers:[...s.tokenObservers,o]})),s.token&&ia(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),H1(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>H1(t))}(t,"INTERNAL",e),removeTokenListener:e=>qw(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),Fe("@firebase/app-check","0.5.13")}();class Qw{constructor(){return xw("app-check")}}typeof window<"u"&&window;const rZ=function tP(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},nP=new fr("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),rP=new Yo("@firebase/auth");function zh(t,...e){rP.logLevel<=le.ERROR&&rP.error(`Auth (${Jo}): ${t}`,...e)}function un(t,...e){throw Zw(t,...e)}function gr(t,...e){return Zw(t,...e)}function iP(t,e,n){const r=Object.assign(Object.assign({},rZ()),{[e]:n});return new fr("auth","Firebase",r).create(e,{appName:t.name})}function Zw(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return nP.create(t,...e)}function S(t,e,...n){if(!t)throw Zw(e,...n)}function mr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw zh(e),new Error(e)}function Ei(t,e){t||mr(e)}const sP=new Map;function Wr(t){Ei(t instanceof Function,"Expected a class definition");let e=sP.get(t);return e?(Ei(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,sP.set(t,e),e)}function uc(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function oP(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class cc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ei(n>e,"Short delay should be less than long delay!"),this.isMobile=function K6(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ht())}()||function Y6(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return function oZ(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function Jw(){return"http:"===oP()||"https:"===oP()}()||S_()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Xw(t,e){Ei(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class aP{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void mr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void mr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void mr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const uZ={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},cZ=new cc(3e4,6e4);function st(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function pt(t,e,n,r){return eI.apply(this,arguments)}function eI(){return(eI=g(function*(t,e,n,r,i={}){return uP(t,i,g(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=xh(Object.assign({key:t.config.apiKey},o)).slice(1),u=yield t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),aP.fetch()(cP(t,t.config.apiHost,n,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function uP(t,e,n){return tI.apply(this,arguments)}function tI(){return(tI=g(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},uZ),e);try{const i=new lZ(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw lc(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===u)throw lc(t,"credential-already-in-use",o);if("EMAIL_EXISTS"===u)throw lc(t,"email-already-in-use",o);if("USER_DISABLED"===u)throw lc(t,"user-disabled",o);const l=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw iP(t,l,c);un(t,l)}}catch(i){if(i instanceof Bn)throw i;un(t,"network-request-failed")}})).apply(this,arguments)}function Kr(t,e,n,r){return nI.apply(this,arguments)}function nI(){return(nI=g(function*(t,e,n,r,i={}){const s=yield pt(t,e,n,r,i);return"mfaPendingCredential"in s&&un(t,"multi-factor-auth-required",{_serverResponse:s}),s})).apply(this,arguments)}function cP(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Xw(t.config,i):`${t.config.apiScheme}://${i}`}class lZ{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(gr(this.auth,"network-request-failed")),cZ.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function lc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=gr(t,e,r);return i.customData._tokenResponse=n,i}function rI(){return(rI=g(function*(t,e){return pt(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function fZ(t,e){return sI.apply(this,arguments)}function sI(){return(sI=g(function*(t,e){return pt(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function dc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function oI(){return(oI=g(function*(t,e=!1){const n=pr(t),r=yield n.getIdToken(e),i=Wh(r);S(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:dc(aI(i.auth_time)),issuedAtTime:dc(aI(i.iat)),expirationTime:dc(aI(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function aI(t){return 1e3*Number(t)}function Wh(t){var e;const[n,r,i]=t.split(".");if(void 0===n||void 0===r||void 0===i)return zh("JWT malformed, contained fewer than 3 sections"),null;try{const s=Th(r);return s?JSON.parse(s):(zh("Failed to decode base64 JWT payload"),null)}catch(s){return zh("Caught error parsing JWT payload as JSON",null===(e=s)||void 0===e?void 0:e.toString()),null}}function Qr(t,e){return uI.apply(this,arguments)}function uI(){return(uI=g(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof Bn&&mZ(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}function mZ({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}class yZ{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(g(function*(){yield n.iteration()}),r)}iteration(){var e=this;return g(function*(){var n;try{yield e.user.getIdToken(!0)}catch(r){return void("auth/network-request-failed"===(null===(n=r)||void 0===n?void 0:n.code)&&e.schedule(!0))}e.schedule()})()}}class lP{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=dc(this.lastLoginAt),this.creationTime=dc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function hc(t){return cI.apply(this,arguments)}function cI(){return(cI=g(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield Qr(t,fZ(n,{idToken:r}));S(i?.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?wZ(s.providerUserInfo):[],a=vZ(t.providerData,o),l=!!t.isAnonymous&&!(t.email&&s.passwordHash||a?.length),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new lP(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(t,d)})).apply(this,arguments)}function lI(){return(lI=g(function*(t){const e=pr(t);yield hc(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function vZ(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function wZ(t){return t.map(e=>{var{providerId:n}=e,r=s0(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function dI(){return(dI=g(function*(t,e){const n=yield uP(t,{},g(function*(){const r=xh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=cP(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",aP.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class fc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){S(e.idToken,"internal-error"),S(typeof e.idToken<"u","internal-error"),S(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function gZ(t){const e=Wh(t);return S(e,"internal-error"),S(typeof e.exp<"u","internal-error"),S(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return g(function*(){return S(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return g(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function IZ(t,e){return dI.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new fc;return r&&(S("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(S("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(S("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new fc,this.toJSON())}_performRefresh(){return mr("not implemented")}}function Di(t,e){S("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class Is{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=s0(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new yZ(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new lP(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var n=this;return g(function*(){const r=yield Qr(n,n.stsTokenManager.getToken(n.auth,e));return S(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function pZ(t){return oI.apply(this,arguments)}(this,e)}reload(){return function _Z(t){return lI.apply(this,arguments)}(this)}_assign(e){this!==e&&(S(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new Is(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){S(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return g(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield hc(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return g(function*(){const n=yield e.getIdToken();return yield Qr(e,function dZ(t,e){return rI.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,c,l;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,f=null!==(s=n.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,m=null!==(a=n.tenantId)&&void 0!==a?a:void 0,y=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,I=null!==(c=n.createdAt)&&void 0!==c?c:void 0,E=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,{uid:_,emailVerified:C,isAnonymous:R,providerData:O,stsTokenManager:_e}=n;S(_&&_e,e,"internal-error");const ir=fc.fromJSON(this.name,_e);S("string"==typeof _,e,"internal-error"),Di(d,e.name),Di(h,e.name),S("boolean"==typeof C,e,"internal-error"),S("boolean"==typeof R,e,"internal-error"),Di(f,e.name),Di(p,e.name),Di(m,e.name),Di(y,e.name),Di(I,e.name),Di(E,e.name);const Qs=new Is({uid:_,auth:e,email:h,emailVerified:C,displayName:d,isAnonymous:R,photoURL:p,phoneNumber:f,tenantId:m,stsTokenManager:ir,createdAt:I,lastLoginAt:E});return O&&Array.isArray(O)&&(Qs.providerData=O.map(vl=>Object.assign({},vl))),y&&(Qs._redirectEventId=y),Qs}static _fromIdTokenResponse(e,n,r=!1){return g(function*(){const i=new fc;i.updateFromServerResponse(n);const s=new Is({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield hc(s),s})()}}const dP=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return g(function*(){return!0})()}_set(n,r){var i=this;return g(function*(){i.storage[n]=r})()}_get(n){var r=this;return g(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return g(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function Kh(t,e,n){return`firebase:${t}:${e}:${n}`}class oa{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Kh(this.userKey,i.apiKey,s),this.fullPersistenceKey=Kh("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return g(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?Is._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return g(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return g(function*(){if(!n.length)return new oa(Wr(dP),e,r);const i=(yield Promise.all(n.map(function(){var c=g(function*(l){if(yield l._isAvailable())return l});return function(l){return c.apply(this,arguments)}}()))).filter(c=>c);let s=i[0]||Wr(dP);const o=Kh(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const l=yield c._get(o);if(l){const d=Is._fromJSON(e,l);c!==s&&(a=d),s=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return s._shouldAllowMigration&&u.length?(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(function(){var c=g(function*(l){if(l!==s)try{yield l._remove(o)}catch{}});return function(l){return c.apply(this,arguments)}}())),new oa(s,e,r)):new oa(s,e,r)})()}}function hP(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(gP(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(fP(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(yP(e))return"Blackberry";if(_P(e))return"Webos";if(hI(e))return"Safari";if((e.includes("chrome/")||pP(e))&&!e.includes("edge/"))return"Chrome";if(mP(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function fP(t=ht()){return/firefox\//i.test(t)}function hI(t=ht()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function pP(t=ht()){return/crios\//i.test(t)}function gP(t=ht()){return/iemobile/i.test(t)}function mP(t=ht()){return/android/i.test(t)}function yP(t=ht()){return/blackberry/i.test(t)}function _P(t=ht()){return/webos/i.test(t)}function Qh(t=ht()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function vP(t=ht()){return Qh(t)||mP(t)||_P(t)||yP(t)||/windows phone/i.test(t)||gP(t)}function wP(t,e=[]){let n;switch(t){case"Browser":n=hP(ht());break;case"Worker":n=`${hP(ht())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Jo}/${r}`}class TZ{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return g(function*(){var r;if(n.auth.currentUser===e)return;const i=[];try{for(const s of n.queue)yield s(e),s.onAbort&&i.push(s.onAbort)}catch(s){i.reverse();for(const o of i)try{o()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:null===(r=s)||void 0===r?void 0:r.message})}})()}}class CZ{constructor(e,n,r){this.app=e,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new IP(this),this.idTokenSubscription=new IP(this),this.beforeStateQueue=new TZ(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=nP,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=Wr(n)),this._initializationPromise=this.queue(g(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield oa.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return g(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return g(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,u=s?._redirectEventId,c=yield n.tryRedirectSignIn(e);(!a||a===u)&&c?.user&&(s=c.user,o=!0)}if(!s)return n.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield n.beforeStateQueue.runMiddleware(s)}catch(a){s=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return s?n.reloadAndSetCurrentUserOrClear(s):n.directlySetCurrentUser(null)}return S(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===s._redirectEventId?n.directlySetCurrentUser(s):n.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var n=this;return g(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return g(function*(){var r;try{yield hc(e)}catch(i){if("auth/network-request-failed"!==(null===(r=i)||void 0===r?void 0:r.code))return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function aZ(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return g(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return g(function*(){const r=e?pr(e):null;return r&&S(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return g(function*(){if(!r._deleted)return e&&S(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(g(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return g(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue(g(function*(){yield n.assertedPersistence.setPersistence(Wr(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new fr("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return g(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return g(function*(){if(!n.redirectPersistenceManager){const r=e&&Wr(e)||n._popupRedirectResolver;S(r,n,"argument-error"),n.redirectPersistenceManager=yield oa.create(n,[Wr(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return g(function*(){var r,i;return n._isInitialized&&(yield n.queue(g(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return g(function*(){if(e===n.currentUser)return n.queue(g(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s="function"==typeof n?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return S(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof n?e.addObserver(n,r,i):e.addObserver(n)}directlySetCurrentUser(e){var n=this;return g(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return S(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=wP(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return g(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();return i&&(r["X-Firebase-Client"]=i),r})()}}function cn(t){return pr(t)}class IP{constructor(e){this.auth=e,this.observer=null,this.addObserver=function u5(t,e){const n=new c5(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return S(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function EP(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function DP(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Yr(t,e){return TI.apply(this,arguments)}function TI(){return(TI=g(function*(t,e){return Kr(t,"POST","/v1/accounts:signInWithIdp",st(t,e))})).apply(this,arguments)}class bi{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class WZ extends bi{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class jn{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return g(function*(){const s=yield Is._fromIdTokenResponse(e,r,i),o=AP(r);return new jn({user:s,providerId:o,_tokenResponse:r,operationType:n})})()}static _forOperation(e,n,r){return g(function*(){yield e._updateTokensIfNecessary(r,!0);const i=AP(r);return new jn({user:e,providerId:i,_tokenResponse:r,operationType:n})})()}}function AP(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class Xh extends Bn{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Xh.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Xh(e,n,r,i)}}function xP(t,e,n,r){return("reauthenticate"===e?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?Xh._fromErrorAndOperation(t,s,e,r):s})}function PI(t,e){return OI.apply(this,arguments)}function OI(){return(OI=g(function*(t,e,n=!1){const r=yield Qr(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return jn._forOperation(t,"link",r)})).apply(this,arguments)}function LI(){return(LI=g(function*(t,e,n=!1){var r;const{auth:i}=t,s="reauthenticate";try{const o=yield Qr(t,xP(i,s,e,t),n);S(o.idToken,i,"internal-error");const a=Wh(o.idToken);S(a,i,"internal-error");const{sub:u}=a;return S(t.uid===u,i,"user-mismatch"),jn._forOperation(t,s,o)}catch(o){throw"auth/user-not-found"===(null===(r=o)||void 0===r?void 0:r.code)&&un(i,"user-mismatch"),o}})).apply(this,arguments)}function VI(){return(VI=g(function*(t,e,n=!1){const r="signIn",i=yield xP(t,r,e),s=yield jn._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})).apply(this,arguments)}const nf="__sak";class PP{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(nf,"1"),this.storage.removeItem(nf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const gJ=(()=>{class t extends PP{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function hJ(){const t=ht();return hI(t)||Qh(t)}()&&function bZ(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=vP(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key)return void this.forAllChangedKeys((a,u,c)=>{this.notifyListeners(a,c)});const i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(n.newValue!==a)null!==n.newValue?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}const s=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);!function DZ(){return function Z6(){const t=ht();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()&&10===document.documentMode}()||o===n.newValue||n.newValue===n.oldValue?s():setTimeout(s,10)}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(n,r){var i=()=>super._set,s=this;return g(function*(){yield i().call(s,n,r),s.localCache[n]=JSON.stringify(r)})()}_get(n){var r=()=>super._get,i=this;return g(function*(){const s=yield r().call(i,n);return i.localCache[n]=JSON.stringify(s),s})()}_remove(n){var r=()=>super._remove,i=this;return g(function*(){yield r().call(i,n),delete i.localCache[n]})()}}return t.type="LOCAL",t})(),OP=(()=>{class t extends PP{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})();let yJ=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){const r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;const i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){var r=this;return g(function*(){const i=n,{eventId:s,eventType:o,data:a}=i.data,u=r.handlersMap[o];if(!u?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const c=Array.from(u).map(function(){var d=g(function*(h){return h(i.origin,a)});return function(h){return d.apply(this,arguments)}}()),l=yield function mJ(t){return Promise.all(t.map(function(){var e=g(function*(n){try{return{fulfilled:!0,value:yield n}}catch(r){return{fulfilled:!1,reason:r}}});return function(n){return e.apply(this,arguments)}}()))}(c);i.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:l})})()}_subscribe(n,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||0===this.handlersMap[n].size)&&delete this.handlersMap[n],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return t.receivers=[],t})();function fE(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(10*Math.random());return t+n}class _J{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){var i=this;return g(function*(){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((u,c)=>{const l=fE("",20);s.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===l)switch(f.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(f.data.response);break;default:clearTimeout(d),clearTimeout(o),c(new Error("invalid_response"))}}},i.handlers.add(a),s.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:l,data:n},[s.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function ot(){return window}function pE(){return typeof ot().WorkerGlobalScope<"u"&&"function"==typeof ot().importScripts}function gE(){return(gE=g(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const FP="firebaseLocalStorageDb",rf="firebaseLocalStorage",LP="fbase_key";class yc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function sf(t,e){return t.transaction([rf],e?"readwrite":"readonly").objectStore(rf)}function mE(){const t=indexedDB.open(FP,1);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(rf,{keyPath:LP})}catch(i){n(i)}}),t.addEventListener("success",g(function*(){const r=t.result;r.objectStoreNames.contains(rf)?e(r):(r.close(),yield function bJ(){const t=indexedDB.deleteDatabase(FP);return new yc(t).toPromise()}(),e(yield mE()))}))})}function VP(t,e,n){return yE.apply(this,arguments)}function yE(){return(yE=g(function*(t,e,n){const r=sf(t,!0).put({[LP]:e,value:n});return new yc(r).toPromise()})).apply(this,arguments)}function _E(){return(_E=g(function*(t,e){const n=sf(t,!1).get(e),r=yield new yc(n).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function UP(t,e){const n=sf(t,!0).delete(e);return new yc(n).toPromise()}const AJ=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var n=this;return g(function*(){return n.db||(n.db=yield mE()),n.db})()}_withRetries(n){var r=this;return g(function*(){let i=0;for(;;)try{const s=yield r._openDb();return yield n(s)}catch(s){if(i++>3)throw s;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var n=this;return g(function*(){return pE()?n.initializeReceiver():n.initializeSender()})()}initializeReceiver(){var n=this;return g(function*(){n.receiver=yJ._getInstance(function EJ(){return pE()?self:null}()),n.receiver._subscribe("keyChanged",function(){var r=g(function*(i,s){return{keyProcessed:(yield n._poll()).includes(s.key)}});return function(i,s){return r.apply(this,arguments)}}()),n.receiver._subscribe("ping",function(){var r=g(function*(i,s){return["keyChanged"]});return function(i,s){return r.apply(this,arguments)}}())})()}initializeSender(){var n=this;return g(function*(){var r,i;if(n.activeServiceWorker=yield function wJ(){return gE.apply(this,arguments)}(),!n.activeServiceWorker)return;n.sender=new _J(n.activeServiceWorker);const s=yield n.sender._send("ping",{},800);!s||(null===(r=s[0])||void 0===r?void 0:r.fulfilled)&&(null===(i=s[0])||void 0===i?void 0:i.value.includes("keyChanged"))&&(n.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(n){var r=this;return g(function*(){if(r.sender&&r.activeServiceWorker&&function IJ(){var t;return(null===(t=navigator?.serviceWorker)||void 0===t?void 0:t.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:n},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return g(function*(){try{if(!indexedDB)return!1;const n=yield mE();return yield VP(n,nf,"1"),yield UP(n,nf),!0}catch{}return!1})()}_withPendingWrite(n){var r=this;return g(function*(){r.pendingWrites++;try{yield n()}finally{r.pendingWrites--}})()}_set(n,r){var i=this;return g(function*(){return i._withPendingWrite(g(function*(){return yield i._withRetries(s=>VP(s,n,r)),i.localCache[n]=r,i.notifyServiceWorker(n)}))})()}_get(n){var r=this;return g(function*(){const i=yield r._withRetries(s=>function TJ(t,e){return _E.apply(this,arguments)}(s,n));return r.localCache[n]=i,i})()}_remove(n){var r=this;return g(function*(){return r._withPendingWrite(g(function*(){return yield r._withRetries(i=>UP(i,n)),delete r.localCache[n],r.notifyServiceWorker(n)}))})()}_poll(){var n=this;return g(function*(){const r=yield n._withRetries(o=>{const a=sf(o,!1).getAll();return new yc(a).toPromise()});if(!r)return[];if(0!==n.pendingWrites)return[];const i=[],s=new Set;for(const{fbase_key:o,value:a}of r)s.add(o),JSON.stringify(n.localCache[o])!==JSON.stringify(a)&&(n.notifyListeners(o,a),i.push(o));for(const o of Object.keys(n.localCache))n.localCache[o]&&!s.has(o)&&(n.notifyListeners(o,null),i.push(o));return i})()}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r)}startPolling(){var n=this;this.stopPolling(),this.pollTimer=setInterval(g(function*(){return n._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return t.type="LOCAL",t})();function $P(t){return`__${t}${Math.floor(1e6*Math.random())}`}function Ds(t,e){return e?Wr(e):(S(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}$P("rcb"),new cc(3e4,6e4);class AE extends class MZ{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return mr("not implemented")}_getIdTokenResponse(e){return mr("not implemented")}_linkToIdToken(e,n){return mr("not implemented")}_getReauthenticationResolver(e){return mr("not implemented")}}{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Yr(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Yr(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Yr(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function qJ(t){return function RP(t,e){return VI.apply(this,arguments)}(t.auth,new AE(t),t.bypassAuthState)}function zJ(t){const{auth:e,user:n}=t;return S(n,e,"internal-error"),function kP(t,e){return LI.apply(this,arguments)}(n,new AE(t),t.bypassAuthState)}function WJ(t){return xE.apply(this,arguments)}function xE(){return(xE=g(function*(t){const{auth:e,user:n}=t;return S(n,e,"internal-error"),PI(n,new AE(t),t.bypassAuthState)})).apply(this,arguments)}new cc(2e3,1e4);const _c=new Map;class YJ extends class KJ{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){var e=this;return new Promise(function(){var n=g(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(r,i){return n.apply(this,arguments)}}())}onAuthEvent(e){var n=this;return g(function*(){const{urlResponse:r,sessionId:i,postBody:s,tenantId:o,error:a,type:u}=e;if(a)return void n.reject(a);const c={auth:n.auth,requestUri:r,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:n.user,bypassAuthState:n.bypassAuthState};try{n.resolve(yield n.getIdpTask(u)(c))}catch(l){n.reject(l)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return qJ;case"linkViaPopup":case"linkViaRedirect":return WJ;case"reauthViaPopup":case"reauthViaRedirect":return zJ;default:un(this.auth,"internal-error")}}resolve(e){Ei(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ei(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,n=this;return g(function*(){let r=_c.get(n.auth._key());if(!r){try{const s=(yield function ZJ(t,e){return PE.apply(this,arguments)}(n.resolver,n.auth))?yield e().call(n):null;r=()=>Promise.resolve(s)}catch(i){r=()=>Promise.reject(i)}_c.set(n.auth._key(),r)}return n.bypassAuthState||_c.set(n.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var n=()=>super.onAuthEvent,r=this;return g(function*(){if("signInViaRedirect"===e.type)return n().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,n().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return g(function*(){})()}cleanUp(){}}function PE(){return(PE=g(function*(t,e){const n=GP(e),r=HP(t);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(n));return yield r._remove(n),i})).apply(this,arguments)}function JJ(t,e){_c.set(t._key(),e)}function HP(t){return Wr(t._redirectPersistence)}function GP(t){return Kh("pendingRedirect",t.config.apiKey,t.name)}function qP(t,e){return $E.apply(this,arguments)}function $E(){return($E=g(function*(t,e,n=!1){const r=cn(t),i=Ds(r,e),o=yield new YJ(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})).apply(this,arguments)}class rX{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function iX(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return KP(t);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!KP(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";n.onError(gr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=null===n.eventId||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(WP(e))}saveEventToCache(e){this.cachedEventUids.add(WP(e)),this.lastProcessedEventTime=Date.now()}}function WP(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function KP({type:t,error:e}){return"unknown"===t&&"auth/no-auth-event"===e?.code}function sX(t){return HE.apply(this,arguments)}function HE(){return(HE=g(function*(t,e={}){return pt(t,"GET","/v1/projects",e)})).apply(this,arguments)}const oX=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,aX=/^https?/;function GE(){return(GE=g(function*(t){if(t.config.emulator)return;const{authorizedDomains:e}=yield sX(t);for(const n of e)try{if(cX(n))return}catch{}un(t,"unauthorized-domain")})).apply(this,arguments)}function cX(t){const e=uc(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return""===o.hostname&&""===r?"chrome-extension:"===n&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===n&&o.hostname===r}if(!aX.test(n))return!1;if(oX.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const lX=new cc(3e4,6e4);function QP(){const t=ot().___jsl;if(t?.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}let uf=null;function hX(t){return uf=uf||function dX(t){return new Promise((e,n)=>{var r,i,s;function o(){QP(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{QP(),n(gr(t,"network-request-failed"))},timeout:lX.get()})}if(null!==(i=null===(r=ot().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(s=ot().gapi)||void 0===s||!s.load){const a=$P("iframefcb");return ot()[a]=()=>{gapi.load?o():n(gr(t,"network-request-failed"))},function BP(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=gr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",function RJ(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)})}(`https://apis.google.com/js/api.js?onload=${a}`).catch(u=>n(u))}o()}}).catch(e=>{throw uf=null,e})}(t),uf}const fX=new cc(5e3,15e3),mX={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},yX=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _X(t){const e=t.config;S(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Xw(e,"emulator/auth/iframe"):`https://${t.config.authDomain}/__/auth/iframe`,r={apiKey:e.apiKey,appName:t.name,v:Jo},i=yX.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${xh(r).slice(1)}`}function qE(){return qE=g(function*(t){const e=yield hX(t),n=ot().gapi;return S(n,t,"internal-error"),e.open({where:document.body,url:_X(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:mX,dontclear:!0},r=>new Promise(function(){var i=g(function*(s,o){yield r.restyle({setHideOnLeave:!1});const a=gr(t,"network-request-failed"),u=ot().setTimeout(()=>{o(a)},fX.get());function c(){ot().clearTimeout(u),s(r)}r.ping(c).then(c,()=>{o(a)})});return function(s,o){return i.apply(this,arguments)}}()))}),qE.apply(this,arguments)}const wX={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class YP{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ZP(t,e,n,r,i,s){S(t.config.authDomain,t,"auth-domain-config-required"),S(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Jo,eventId:i};if(e instanceof bi){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",function a5(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,c]of Object.entries(s||{}))o[u]=c}if(e instanceof WZ){const u=e.getScopes().filter(c=>""!==c);u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];return`${function xX({config:t}){return t.emulator?Xw(t,"emulator/auth/handler"):`https://${t.authDomain}/__/auth/handler`}(t)}?${xh(a).slice(1)}`}const zE="webStorageSupport",kX=class MX{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=OP,this._completeRedirectFn=qP,this._overrideRedirectResult=JJ}_openPopup(e,n,r,i){var s=this;return g(function*(){var o;Ei(null===(o=s.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");const a=ZP(e,n,r,uc(),i);return function TX(t,e,n,r=500,i=600){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},wX),{width:r.toString(),height:i.toString(),top:s,left:o}),c=ht().toLowerCase();n&&(a=pP(c)?"_blank":n),fP(c)&&(e=e||"http://localhost",u.scrollbars="yes");const l=Object.entries(u).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(function EZ(t=ht()){var e;return Qh(t)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(c)&&"_self"!==a)return function CX(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(e||"",a),new YP(null);const d=window.open(e||"",a,l);S(d,t,"popup-blocked");try{d.focus()}catch{}return new YP(d)}(e,a,fE())})()}_openRedirect(e,n,r,i){var s=this;return g(function*(){return yield s._originValidation(e),function vJ(t){ot().location.href=t}(ZP(e,n,r,uc(),i)),new Promise(()=>{})})()}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Ei(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){var n=this;return g(function*(){const r=yield function vX(t){return qE.apply(this,arguments)}(e),i=new rX(e);return r.register("authEvent",s=>(S(s?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),n.eventManagers[e._key()]={manager:i},n.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(zE,{type:zE},i=>{var s;const o=null===(s=i?.[0])||void 0===s?void 0:s[zE];void 0!==o&&n(!!o),un(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=function uX(t){return GE.apply(this,arguments)}(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return vP()||hI()||Qh()}};var XP="@firebase/auth";class RX{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return g(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{var i;e((null===(i=r)||void 0===i?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);!n||(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){S(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const FX=_N("authIdTokenMaxAge")||300;let tO=null;const LX=t=>function(){var e=g(function*(n){const r=n&&(yield n.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>FX)return;const s=r?.token;tO!==s&&(tO=s,yield fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))});return function(n){return e.apply(this,arguments)}}();function VX(t=j_()){const e=Zo(t,"auth");if(e.isInitialized())return e.getImmediate();const n=function iZ(t,e){const n=Zo(t,"auth");if(n.isInitialized()){const i=n.getImmediate();if(Ah(n.getOptions(),e??{}))return i;un(i,"already-initialized")}return n.initialize({options:e})}(t,{popupRedirectResolver:kX,persistence:[AJ,gJ,OP]}),r=_N("authTokenSyncURL");if(r){const s=LX(r);(function uJ(t,e,n){pr(t).beforeAuthStateChanged(e,n)})(n,s,()=>s(n.currentUser)),function aJ(t,e,n,r){pr(t).onIdTokenChanged(e,n,r)}(n,o=>s(o))}const i=yN("auth");return i&&function SZ(t,e,n){const r=cn(t);S(r._canInitEmulator,r,"emulator-config-failed"),S(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!n?.disableWarnings,s=EP(e),{host:o,port:a}=function AZ(t){const e=EP(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:DP(r.substr(s.length+1))}}{const[s,o]=r.split(":");return{host:s,port:DP(o)}}}(e);r.config.emulator={url:`${s}//${o}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function xZ(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",t):t())}()}(n,`http://${i}`),n}!function PX(t){Kt(new Ot("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),{apiKey:s,authDomain:o}=r.options;return((a,u)=>{S(s&&!s.includes(":"),"invalid-api-key",{appName:a.name}),S(!o?.includes(":"),"argument-error",{appName:a.name});const c={apiKey:s,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:wP(t)},l=new CZ(a,u,c);return function sZ(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Wr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(l,n),l})(r,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Kt(new Ot("auth-internal",e=>{const n=cn(e.getProvider("auth").getImmediate());return new RX(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Fe(XP,"0.20.8",function NX(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),Fe(XP,"0.20.8","esm2017")}("Browser");class WE{constructor(e){return e}}class rO{constructor(){return xw("auth")}}const KE=new j("angularfire2.auth-instances");function BX(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new WE(r)}}const $X={provide:rO,deps:[[new kt,KE]]},jX={provide:WE,useFactory:function UX(t,e){const n=Aw("auth",t,e);return n&&new WE(n)},deps:[[new kt,KE],ra]};let HX=(()=>{class t{constructor(){Fe("angularfire",Uh.full,"auth")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Gn({type:t}),t.\u0275inj=xn({providers:[jX,$X]}),t})();function GX(t,...e){return{ngModule:HX,providers:[{provide:KE,useFactory:BX(t),multi:!0,deps:[Ae,Gt,Mw,kw,[new kt,Qw],...e]}]}}const qX=sc(VX,!0);var F,zX=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Zr={},QE=QE||{},K=zX||self;function cf(){}function lf(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function vc(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var YE="closure_uid_"+(1e9*Math.random()>>>0),KX=0;function QX(t,e,n){return t.call.apply(t.bind,arguments)}function YX(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Ft(t,e,n){return(Ft=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?QX:YX).apply(null,arguments)}function df(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Dt(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Ti(){this.s=this.s,this.o=this.o}var JX={};Ti.prototype.s=!1,Ti.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var t=function WX(t){return Object.prototype.hasOwnProperty.call(t,YE)&&t[YE]||(t[YE]=++KX)}(this);delete JX[t]}},Ti.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const iO=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function ZE(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function sO(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(lf(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function Lt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Lt.prototype.h=function(){this.defaultPrevented=!0};var XX=function(){if(!K.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{K.addEventListener("test",cf,e),K.removeEventListener("test",cf,e)}catch{}return t}();function hf(t){return/^[\s\xa0]*$/.test(t)}var oO=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function JE(t,e){return t<e?-1:t>e?1:0}function ff(){var t=K.navigator;return t&&(t=t.userAgent)?t:""}function yr(t){return-1!=ff().indexOf(t)}function XE(t){return XE[" "](t),t}XE[" "]=cf;var pf,t,tee=yr("Opera"),aa=yr("Trident")||yr("MSIE"),aO=yr("Edge"),eD=aO||aa,uO=yr("Gecko")&&!(-1!=ff().toLowerCase().indexOf("webkit")&&!yr("Edge"))&&!(yr("Trident")||yr("MSIE"))&&!yr("Edge"),nee=-1!=ff().toLowerCase().indexOf("webkit")&&!yr("Edge");function cO(){var t=K.document;return t?t.documentMode:void 0}e:{var tD="",nD=(t=ff(),uO?/rv:([^\);]+)(\)|;)/.exec(t):aO?/Edge\/([\d\.]+)/.exec(t):aa?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):nee?/WebKit\/(\S+)/.exec(t):tee?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if(nD&&(tD=nD?nD[1]:""),aa){var rD=cO();if(null!=rD&&rD>parseFloat(tD)){pf=String(rD);break e}}pf=tD}var ree={};var see=K.document&&aa&&(cO()||parseInt(pf,10))||void 0;function wc(t,e){if(Lt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(uO){e:{try{XE(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:oee[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&wc.X.h.call(this)}}Dt(wc,Lt);var oee={2:"touch",3:"pen",4:"mouse"};wc.prototype.h=function(){wc.X.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Ic="closure_listenable_"+(1e6*Math.random()|0),aee=0;function uee(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ha=i,this.key=++aee,this.ba=this.ea=!1}function gf(t){t.ba=!0,t.listener=null,t.proxy=null,t.src=null,t.ha=null}function sD(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function dO(t){const e={};for(const n in t)e[n]=t[n];return e}const hO="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function fO(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let s=0;s<hO.length;s++)n=hO[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function mf(t){this.src=t,this.g={},this.h=0}function oD(t,e){var n=e.type;if(n in t.g){var s,r=t.g[n],i=iO(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(gf(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function aD(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.ba&&s.listener==e&&s.capture==!!n&&s.ha==r)return i}return-1}mf.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=aD(t,e,r,i);return-1<o?(e=t[o],n||(e.ea=!1)):((e=new uee(e,this.src,s,!!r,i)).ea=n,t.push(e)),e};var uD="closure_lm_"+(1e6*Math.random()|0),cD={};function pO(t,e,n,r,i){if(r&&r.once)return mO(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)pO(t,e[s],n,r,i);return null}return n=fD(n),t&&t[Ic]?t.N(e,n,vc(r)?!!r.capture:!!r,i):gO(t,e,n,!1,r,i)}function gO(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=vc(i)?!!i.capture:!!i,a=dD(t);if(a||(t[uD]=a=new mf(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function cee(){const e=lee;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)XX||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(_O(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function mO(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)mO(t,e[s],n,r,i);return null}return n=fD(n),t&&t[Ic]?t.O(e,n,vc(r)?!!r.capture:!!r,i):gO(t,e,n,!0,r,i)}function yO(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)yO(t,e[s],n,r,i);else r=vc(r)?!!r.capture:!!r,n=fD(n),t&&t[Ic]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=aD(s=t.g[e],n,r,i))&&(gf(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=dD(t))&&(e=t.g[e.toString()],t=-1,e&&(t=aD(e,n,r,i)),(n=-1<t?e[t]:null)&&lD(n))}function lD(t){if("number"!=typeof t&&t&&!t.ba){var e=t.src;if(e&&e[Ic])oD(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(_O(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=dD(e))?(oD(n,t),0==n.h&&(n.src=null,e[uD]=null)):gf(t)}}}function _O(t){return t in cD?cD[t]:cD[t]="on"+t}function lee(t,e){if(t.ba)t=!0;else{e=new wc(e,this);var n=t.listener,r=t.ha||t.src;t.ea&&lD(t),t=n.call(r,e)}return t}function dD(t){return(t=t[uD])instanceof mf?t:null}var hD="__closure_events_fn_"+(1e9*Math.random()>>>0);function fD(t){return"function"==typeof t?t:(t[hD]||(t[hD]=function(e){return t.handleEvent(e)}),t[hD])}function gt(){Ti.call(this),this.i=new mf(this),this.P=this,this.I=null}function bt(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,"string"==typeof e)e=new Lt(e,t);else if(e instanceof Lt)e.target=e.target||t;else{var i=e;fO(e=new Lt(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=yf(o,r,!0,e)&&i}if(i=yf(o=e.g=t,r,!0,e)&&i,i=yf(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=yf(o=e.g=n[s],r,!1,e)&&i}function yf(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ba&&o.capture==n){var a=o.listener,u=o.ha||o.src;o.ea&&oD(t.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}Dt(gt,Ti),gt.prototype[Ic]=!0,gt.prototype.removeEventListener=function(t,e,n,r){yO(this,t,e,n,r)},gt.prototype.M=function(){if(gt.X.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)gf(n[r]);delete t.g[e],t.h--}}this.I=null},gt.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},gt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var pD=K.JSON.stringify;function dee(){var t=IO;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var gD,vO=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new fee,t=>t.reset());class fee{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function pee(t){K.setTimeout(()=>{throw t},0)}function wO(t,e){gD||function gee(){var t=K.Promise.resolve(void 0);gD=function(){t.then(mee)}}(),mD||(gD(),mD=!0),IO.add(t,e)}var mD=!1,IO=new class hee{constructor(){this.h=this.g=null}add(e,n){const r=vO.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}};function mee(){for(var t;t=dee();){try{t.h.call(t.g)}catch(n){pee(n)}var e=vO;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}mD=!1}function _f(t,e){gt.call(this),this.h=t||1,this.g=e||K,this.j=Ft(this.kb,this),this.l=Date.now()}function yD(t){t.ca=!1,t.R&&(t.g.clearTimeout(t.R),t.R=null)}function _D(t,e,n){if("function"==typeof t)n&&(t=Ft(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Ft(t.handleEvent,t)}return 2147483647<Number(e)?-1:K.setTimeout(t,e||0)}function EO(t){t.g=_D(()=>{t.g=null,t.i&&(t.i=!1,EO(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}Dt(_f,gt),(F=_f.prototype).ca=!1,F.R=null,F.kb=function(){if(this.ca){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-t):(this.R&&(this.g.clearTimeout(this.R),this.R=null),bt(this,"tick"),this.ca&&(yD(this),this.start()))}},F.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},F.M=function(){_f.X.M.call(this),yD(this),delete this.g};class yee extends Ti{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:EO(this)}M(){super.M(),this.g&&(K.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ec(t){Ti.call(this),this.h=t,this.g={}}Dt(Ec,Ti);var DO=[];function bO(t,e,n,r){Array.isArray(n)||(n&&(DO[0]=n.toString()),n=DO);for(var i=0;i<n.length;i++){var s=pO(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function TO(t){sD(t.g,function(e,n){this.g.hasOwnProperty(n)&&lD(e)},t),t.g={}}function vf(){this.g=!0}function ua(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Iee(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return pD(n)}catch{return e}}(t,n)+(r?" "+r:"")})}Ec.prototype.M=function(){Ec.X.M.call(this),TO(this)},Ec.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},vf.prototype.Aa=function(){this.g=!1},vf.prototype.info=function(){};var bs={},CO=null;function wf(){return CO=CO||new gt}function SO(t){Lt.call(this,bs.Oa,t)}function Dc(t){const e=wf();bt(e,new SO(e,t))}function AO(t,e){Lt.call(this,bs.STAT_EVENT,t),this.stat=e}function Yt(t){const e=wf();bt(e,new AO(e,t))}function xO(t,e){Lt.call(this,bs.Pa,t),this.size=e}function bc(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return K.setTimeout(function(){t()},e)}bs.Oa="serverreachability",Dt(SO,Lt),bs.STAT_EVENT="statevent",Dt(AO,Lt),bs.Pa="timingevent",Dt(xO,Lt);var If={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,La:7,TIMEOUT:8,Cb:9},MO={qb:"complete",Mb:"success",Ma:"error",La:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function vD(){}function RO(){}vD.prototype.h=null;var ED,Tc={OPEN:"a",pb:"b",Ma:"c",Bb:"d"};function wD(){Lt.call(this,"d")}function ID(){Lt.call(this,"c")}function Ef(){}function Cc(t,e,n,r){this.l=t,this.j=e,this.m=n,this.U=r||1,this.S=new Ec(this),this.O=Eee,this.T=new _f(t=eD?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new NO}function NO(){this.i=null,this.g="",this.h=!1}Dt(wD,Lt),Dt(ID,Lt),Dt(Ef,vD),Ef.prototype.g=function(){return new XMLHttpRequest},Ef.prototype.i=function(){return{}},ED=new Ef;var Eee=45e3,DD={},Df={};function bD(t,e,n){t.K=1,t.v=Sf(Jr(e)),t.s=n,t.P=!0,PO(t,null)}function PO(t,e){t.F=Date.now(),Sc(t),t.A=Jr(t.v);var n=t.A,r=t.U;Array.isArray(r)||(r=[String(r)]),GO(n.i,"t",r),t.C=0,n=t.l.H,t.h=new NO,t.g=pF(t.l,n?e:null,!t.s),0<t.N&&(t.L=new yee(Ft(t.Ka,t,t.g),t.N)),bO(t.S,t.g,"readystatechange",t.hb),e=t.H?dO(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.da(t.A,t.u,t.s,e)):(t.u="GET",t.g.da(t.A,t.u,null,e)),Dc(1),function _ee(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var d=l.split("_");o=2<=d.length&&"type"==d[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.j,t.u,t.A,t.m,t.U,t.s)}function OO(t){return!!t.g&&"GET"==t.u&&2!=t.K&&t.l.Da}function FO(t,e,n){let i,r=!0;for(;!t.I&&t.C<n.length;){if(i=Dee(t,n),i==Df){4==e&&(t.o=4,Yt(14),r=!1),ua(t.j,t.m,null,"[Incomplete Response]");break}if(i==DD){t.o=4,Yt(15),ua(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}ua(t.j,t.m,i,null),TD(t,i)}OO(t)&&i!=Df&&i!=DD&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,Yt(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.$&&(t.$=!0,(e=t.l).g==t&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),ND(e),e.K=!0,Yt(11))):(ua(t.j,t.m,n,"[Invalid Chunked Response]"),Ts(t),Ac(t))}function Dee(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?Df:(n=Number(e.substring(n,r)),isNaN(n)?DD:(r+=1)+n>e.length?Df:(e=e.substr(r,n),t.C=r+n,e))}function Sc(t){t.V=Date.now()+t.O,LO(t,t.O)}function LO(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=bc(Ft(t.fb,t),e)}function bf(t){t.B&&(K.clearTimeout(t.B),t.B=null)}function Ac(t){0==t.l.G||t.I||lF(t.l,t)}function Ts(t){bf(t);var e=t.L;e&&"function"==typeof e.na&&e.na(),t.L=null,yD(t.T),TO(t.S),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function TD(t,e){try{var n=t.l;if(0!=n.G&&(n.g==t||CD(n.h,t)))if(!t.J&&CD(n.h,t)&&3==n.G){try{var r=n.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<t.F))break e;Nf(n),kf(n)}RD(n),Yt(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&0==n.A&&!n.v&&(n.v=bc(Ft(n.bb,n),6e3));if(1>=WO(n.h)&&n.ja){try{n.ja()}catch{}n.ja=void 0}}else Ss(n,11)}else if((t.J||n.g==t)&&Nf(n),!hf(e))for(i=n.Fa.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.I=c[1],n.ka=c[2];const l=c[3];null!=l&&(n.ma=l,n.j.info("VER="+n.ma));const d=c[4];null!=d&&(n.Ca=d,n.j.info("SVER="+n.Ca));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(n.J=r=1.5*h,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.h;s.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(SD(s,s.h),s.h=null))}if(r.D){const m=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(r.za=m,xe(r.F,r.D,m))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-t.F,n.j.info("Handshake RTT: "+n.P+"ms"));var o=t;if((r=n).sa=fF(r,r.H?r.ka:null,r.V),o.J){KO(r.h,o);var a=o,u=r.J;u&&a.setTimeout(u),a.B&&(bf(a),Sc(a)),r.g=o}else uF(r);0<n.i.length&&Rf(n)}else"stop"!=c[0]&&"close"!=c[0]||Ss(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Ss(n,7):kD(n):"noop"!=c[0]&&n.l&&n.l.wa(c),n.A=0)}Dc(4)}catch{}}function VO(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(lf(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function Tee(t){if(t.oa&&"function"==typeof t.oa)return t.oa();if(!t.W||"function"!=typeof t.W){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(lf(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function bee(t){if(t.W&&"function"==typeof t.W)return t.W();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(lf(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}(F=Cc.prototype).setTimeout=function(t){this.O=t},F.hb=function(t){t=t.target;const e=this.L;e&&3==Xr(t)?e.l():this.Ka(t)},F.Ka=function(t){try{if(t==this.g)e:{const l=Xr(this.g);var e=this.g.Ea();const d=this.g.aa();if(!(3>l)&&(3!=l||eD||this.g&&(this.h.h||this.g.fa()||nF(this.g)))){this.I||4!=l||7==e||Dc(8==e||0>=d?3:2),bf(this);var n=this.g.aa();this.Y=n;t:if(OO(this)){var r=nF(this.g);t="";var i=r.length,s=4==Xr(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Ts(this),Ac(this);var o="";break t}this.h.i=new K.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.fa();if(this.i=200==n,function vee(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.U,l,n),this.i){if(this.Z&&!this.J){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!hf(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,Yt(12),Ts(this),Ac(this);break e}ua(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,TD(this,n)}this.P?(FO(this,l,o),eD&&this.i&&3==l&&(bO(this.S,this.T,"tick",this.gb),this.T.start())):(ua(this.j,this.m,o,null),TD(this,o)),4==l&&Ts(this),this.i&&!this.I&&(4==l?lF(this.l,this):(this.i=!1,Sc(this)))}else 400==n&&0<o.indexOf("Unknown SID")?(this.o=3,Yt(12)):(this.o=0,Yt(13)),Ts(this),Ac(this)}}}catch{}},F.gb=function(){if(this.g){var t=Xr(this.g),e=this.g.fa();this.C<e.length&&(bf(this),FO(this,t,e),this.i&&4!=t&&Sc(this))}},F.cancel=function(){this.I=!0,Ts(this)},F.fb=function(){this.B=null;const t=Date.now();0<=t-this.V?(function wee(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Dc(3),Yt(17)),Ts(this),this.o=2,Ac(this)):LO(this,this.V-t)};var UO=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Cs(t,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Cs){this.h=void 0!==e?e:t.h,Tf(this,t.j),this.s=t.s,this.g=t.g,Cf(this,t.m),this.l=t.l,e=t.i;var n=new kc;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),BO(this,n),this.o=t.o}else t&&(n=String(t).match(UO))?(this.h=!!e,Tf(this,n[1]||"",!0),this.s=xc(n[2]||""),this.g=xc(n[3]||"",!0),Cf(this,n[4]),this.l=xc(n[5]||"",!0),BO(this,n[6]||"",!0),this.o=xc(n[7]||"")):(this.h=!!e,this.i=new kc(null,this.h))}function Jr(t){return new Cs(t)}function Tf(t,e,n){t.j=n?xc(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Cf(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function BO(t,e,n){e instanceof kc?(t.i=e,function Ree(t,e){e&&!t.j&&(Ci(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(jO(this,r),GO(this,i,n))},t)),t.j=e}(t.i,t.h)):(n||(e=Mc(e,Mee)),t.i=new kc(e,t.h))}function xe(t,e,n){t.i.set(e,n)}function Sf(t){return xe(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function xc(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Mc(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,See),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function See(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Cs.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Mc(e,$O,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(Mc(e,$O,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(Mc(n,"/"==n.charAt(0)?xee:Aee,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Mc(n,kee)),t.join("")};var $O=/[#\/\?@]/g,Aee=/[#\?:]/g,xee=/[#\?]/g,Mee=/[#\?@]/g,kee=/#/g;function kc(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Ci(t){t.g||(t.g=new Map,t.h=0,t.i&&function Cee(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function jO(t,e){Ci(t),e=ca(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function HO(t,e){return Ci(t),e=ca(t,e),t.g.has(e)}function GO(t,e,n){jO(t,e),0<n.length&&(t.i=null,t.g.set(ca(t,e),ZE(n)),t.h+=n.length)}function ca(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function qO(t){this.l=t||Pee,t=K.PerformanceNavigationTiming?0<(t=K.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(K.g&&K.g.Ga&&K.g.Ga()&&K.g.Ga().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(F=kc.prototype).add=function(t,e){Ci(this),this.i=null,t=ca(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},F.forEach=function(t,e){Ci(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)},F.oa=function(){Ci(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n},F.W=function(t){Ci(this);let e=[];if("string"==typeof t)HO(this,t)&&(e=e.concat(this.g.get(ca(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},F.set=function(t,e){return Ci(this),this.i=null,HO(this,t=ca(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},F.get=function(t,e){return t&&0<(t=this.W(t)).length?String(t[0]):e},F.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.W(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};var Pee=10;function zO(t){return!!t.h||!!t.g&&t.g.size>=t.j}function WO(t){return t.h?1:t.g?t.g.size:0}function CD(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function SD(t,e){t.g?t.g.add(e):t.h=e}function KO(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function QO(t){if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return ZE(t.i)}function AD(){}function Oee(){this.g=new AD}function Fee(t,e,n){const r=n||"";try{VO(t,function(i,s){let o=i;vc(i)&&(o=pD(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Af(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Rc(t){this.l=t.$b||null,this.j=t.ib||!1}function xf(t,e){gt.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=xD,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}qO.prototype.cancel=function(){if(this.i=QO(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}},AD.prototype.stringify=function(t){return K.JSON.stringify(t,void 0)},AD.prototype.parse=function(t){return K.JSON.parse(t,void 0)},Dt(Rc,vD),Rc.prototype.g=function(){return new xf(this.l,this.j)},Rc.prototype.i=function(t){return function(){return t}}({}),Dt(xf,gt);var xD=0;function YO(t){t.j.read().then(t.Sa.bind(t)).catch(t.ga.bind(t))}function Nc(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Pc(t)}function Pc(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(F=xf.prototype).open=function(t,e){if(this.readyState!=xD)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Pc(this)},F.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||K).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ga.bind(this))},F.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Nc(this)),this.readyState=xD},F.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Pc(this)),this.g&&(this.readyState=3,Pc(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ta.bind(this),this.ga.bind(this));else if(typeof K.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;YO(this)}else t.text().then(this.Ua.bind(this),this.ga.bind(this))},F.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Nc(this):Pc(this),3==this.readyState&&YO(this)}},F.Ua=function(t){this.g&&(this.response=this.responseText=t,Nc(this))},F.Ta=function(t){this.g&&(this.response=t,Nc(this))},F.ga=function(){this.g&&Nc(this)},F.setRequestHeader=function(t,e){this.v.append(t,e)},F.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},F.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(xf.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var Vee=K.JSON.parse;function Qe(t){gt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=ZO,this.K=this.L=!1}Dt(Qe,gt);var ZO="",Uee=/^https?$/i,Bee=["POST","PUT"];function JO(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,XO(t),Mf(t)}function XO(t){t.D||(t.D=!0,bt(t,"complete"),bt(t,"error"))}function eF(t){if(t.h&&typeof QE<"u"&&(!t.C[1]||4!=Xr(t)||2!=t.aa()))if(t.v&&4==Xr(t))_D(t.Ha,0,t);else if(bt(t,"readystatechange"),4==Xr(t)){t.h=!1;try{const a=t.aa();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===a){var i=String(t.H).match(UO)[1]||null;if(!i&&K.self&&K.self.location){var s=K.self.location.protocol;i=s.substr(0,s.length-1)}r=!Uee.test(i?i.toLowerCase():"")}n=r}if(n)bt(t,"complete"),bt(t,"success");else{t.m=6;try{var o=2<Xr(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.aa()+"]",XO(t)}}finally{Mf(t)}}}function Mf(t,e){if(t.g){tF(t);const n=t.g,r=t.C[0]?cf:null;t.g=null,t.C=null,e||bt(t,"ready");try{n.onreadystatechange=r}catch{}}}function tF(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(K.clearTimeout(t.A),t.A=null)}function Xr(t){return t.g?t.g.readyState:0}function nF(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case ZO:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function rF(t){let e="";return sD(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function MD(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=rF(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):xe(t,e,n))}function Oc(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function iF(t){this.Ca=0,this.i=[],this.j=new vf,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.$a=this.U=0,this.Ya=Oc("failFast",!1,t),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Wa=Oc("baseRetryDelayMs",5e3,t),this.ab=Oc("retryDelaySeedMs",1e4,t),this.Za=Oc("forwardChannelMaxRetries",2,t),this.ta=Oc("forwardChannelRequestTimeoutMs",2e4,t),this.ra=t&&t.xmlHttpFactory||void 0,this.Da=t&&t.Yb||!1,this.J=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.I="",this.h=new qO(t&&t.concurrentRequestLimit),this.Fa=new Oee,this.O=t&&t.fastHandshake||!1,this.N=t&&t.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Xa=t&&t.Wb||!1,t&&t.Aa&&this.j.Aa(),t&&t.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&t&&t.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function kD(t){if(sF(t),3==t.G){var e=t.U++,n=Jr(t.F);xe(n,"SID",t.I),xe(n,"RID",e),xe(n,"TYPE","terminate"),Fc(t,n),(e=new Cc(t,t.j,e,void 0)).K=2,e.v=Sf(Jr(n)),n=!1,K.navigator&&K.navigator.sendBeacon&&(n=K.navigator.sendBeacon(e.v.toString(),"")),!n&&K.Image&&((new Image).src=e.v,n=!0),n||(e.g=pF(e.l,null),e.g.da(e.v)),e.F=Date.now(),Sc(e)}hF(t)}function kf(t){t.g&&(ND(t),t.g.cancel(),t.g=null)}function sF(t){kf(t),t.u&&(K.clearTimeout(t.u),t.u=null),Nf(t),t.h.cancel(),t.m&&("number"==typeof t.m&&K.clearTimeout(t.m),t.m=null)}function Rf(t){zO(t.h)||t.m||(t.m=!0,wO(t.Ja,t),t.C=0)}function oF(t,e){var n;n=e?e.m:t.U++;const r=Jr(t.F);xe(r,"SID",t.I),xe(r,"RID",n),xe(r,"AID",t.T),Fc(t,r),t.o&&t.s&&MD(r,t.o,t.s),n=new Cc(t,t.j,n,t.C+1),null===t.o&&(n.H=t.s),e&&(t.i=e.D.concat(t.i)),e=aF(t,n,1e3),n.setTimeout(Math.round(.5*t.ta)+Math.round(.5*t.ta*Math.random())),SD(t.h,n),bD(n,r,e)}function Fc(t,e){t.ia&&sD(t.ia,function(n,r){xe(e,r,n)}),t.l&&VO({},function(n,r){xe(e,r,n)})}function aF(t,e,n){n=Math.min(t.i.length,n);var r=t.l?Ft(t.l.Qa,t.l,t):null;e:{var i=t.i;let s=-1;for(;;){const o=["count="+n];-1==s?0<n?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<n;u++){let c=i[u].h;const l=i[u].g;if(c-=s,0>c)s=Math.max(0,i[u].h-100),a=!1;else try{Fee(l,o,"req"+c+"_")}catch{r&&r(l)}}if(a){r=o.join("&");break e}}}return t=t.i.splice(0,n),e.D=t,r}function uF(t){t.g||t.u||(t.Z=1,wO(t.Ia,t),t.A=0)}function RD(t){return!(t.g||t.u||3<=t.A||(t.Z++,t.u=bc(Ft(t.Ia,t),dF(t,t.A)),t.A++,0))}function ND(t){null!=t.B&&(K.clearTimeout(t.B),t.B=null)}function cF(t){t.g=new Cc(t,t.j,"rpc",t.Z),null===t.o&&(t.g.H=t.s),t.g.N=0;var e=Jr(t.sa);xe(e,"RID","rpc"),xe(e,"SID",t.I),xe(e,"CI",t.L?"0":"1"),xe(e,"AID",t.T),xe(e,"TYPE","xmlhttp"),Fc(t,e),t.o&&t.s&&MD(e,t.o,t.s),t.J&&t.g.setTimeout(t.J);var n=t.g;t=t.ka,n.K=1,n.v=Sf(Jr(e)),n.s=null,n.P=!0,PO(n,t)}function Nf(t){null!=t.v&&(K.clearTimeout(t.v),t.v=null)}function lF(t,e){var n=null;if(t.g==e){Nf(t),ND(t),t.g=null;var r=2}else{if(!CD(t.h,e))return;n=e.D,KO(t.h,e),r=1}if(0!=t.G)if(t.pa=e.Y,e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;bt(r=wf(),new xO(r,n,e,i)),Rf(t)}else uF(t);else if(3==(i=e.o)||0==i&&0<t.pa||!(1==r&&function jee(t,e){return!(WO(t.h)>=t.h.j-(t.m?1:0)||(t.m?(t.i=e.D.concat(t.i),0):1==t.G||2==t.G||t.C>=(t.Ya?0:t.Za)||(t.m=bc(Ft(t.Ja,t,e),dF(t,t.C)),t.C++,0)))}(t,e)||2==r&&RD(t)))switch(n&&0<n.length&&(e=t.h,e.i=e.i.concat(n)),i){case 1:Ss(t,5);break;case 4:Ss(t,10);break;case 3:Ss(t,6);break;default:Ss(t,2)}}function dF(t,e){let n=t.Wa+Math.floor(Math.random()*t.ab);return t.l||(n*=2),n*e}function Ss(t,e){if(t.j.info("Error code "+e),2==e){var n=null;t.l&&(n=null);var r=Ft(t.jb,t);n||(n=new Cs("//www.google.com/images/cleardot.gif"),K.location&&"http"==K.location.protocol||Tf(n,"https"),Sf(n)),function Lee(t,e){const n=new vf;if(K.Image){const r=new Image;r.onload=df(Af,n,r,"TestLoadImage: loaded",!0,e),r.onerror=df(Af,n,r,"TestLoadImage: error",!1,e),r.onabort=df(Af,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=df(Af,n,r,"TestLoadImage: timeout",!1,e),K.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else Yt(2);t.G=0,t.l&&t.l.va(e),hF(t),sF(t)}function hF(t){if(t.G=0,t.la=[],t.l){const e=QO(t.h);(0!=e.length||0!=t.i.length)&&(sO(t.la,e),sO(t.la,t.i),t.h.i.length=0,ZE(t.i),t.i.length=0),t.l.ua()}}function fF(t,e,n){var r=n instanceof Cs?Jr(n):new Cs(n,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),Cf(r,r.m);else{var i=K.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Cs(null,void 0);r&&Tf(s,r),e&&(s.g=e),i&&Cf(s,i),n&&(s.l=n),r=s}return e=t.za,(n=t.D)&&e&&xe(r,n,e),xe(r,"VER",t.ma),Fc(t,r),r}function pF(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Qe(n&&t.Da&&!t.ra?new Rc({ib:!0}):t.ra)).L=t.H,e}function gF(){}function Pf(){if(aa&&!(10<=Number(see)))throw Error("Environmental error: no available transport.")}function Tn(t,e){gt.call(this),this.g=new iF(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.S=t,(t=e&&e.Xb)&&!hf(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!hf(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new la(this)}function mF(t){wD.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function yF(){ID.call(this),this.status=1}function la(t){this.g=t}(F=Qe.prototype).da=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():ED.g(),this.C=function kO(t){return t.h||(t.h=t.i())}(this.u?this.u:ED),this.g.onreadystatechange=Ft(this.Ha,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(s){return void JO(this,s)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())n.set(s,r.get(s))}r=Array.from(n.keys()).find(s=>"content-type"==s.toLowerCase()),i=K.FormData&&t instanceof K.FormData,!(0<=iO(Bee,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{tF(this),0<this.B&&((this.K=function $ee(t){return aa&&function iee(){return function eee(t){var e=ree;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}(function(){let t=0;const e=oO(String(pf)).split("."),n=oO("9").split("."),r=Math.max(e.length,n.length);for(let o=0;0==t&&o<r;o++){var i=e[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==i[0].length&&0==s[0].length)break;t=JE(0==i[1].length?0:parseInt(i[1],10),0==s[1].length?0:parseInt(s[1],10))||JE(0==i[2].length,0==s[2].length)||JE(i[2],s[2]),i=i[3],s=s[3]}while(0==t)}return 0<=t})}()&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ft(this.qa,this)):this.A=_D(this.qa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){JO(this,s)}},F.qa=function(){typeof QE<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,bt(this,"timeout"),this.abort(8))},F.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,bt(this,"complete"),bt(this,"abort"),Mf(this))},F.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Mf(this,!0)),Qe.X.M.call(this)},F.Ha=function(){this.s||(this.F||this.v||this.l?eF(this):this.eb())},F.eb=function(){eF(this)},F.aa=function(){try{return 2<Xr(this)?this.g.status:-1}catch{return-1}},F.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},F.Ra=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Vee(e)}},F.Ea=function(){return this.m},F.Na=function(){return"string"==typeof this.j?this.j:String(this.j)},(F=iF.prototype).ma=8,F.G=1,F.Ja=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.U=Math.floor(1e5*Math.random()),t=this.U++;const i=new Cc(this,this.j,t,void 0);let s=this.s;if(this.S&&(s?(s=dO(s),fO(s,this.S)):s=this.S),null!==this.o||this.N||(i.H=s,s=null),this.O)e:{for(var e=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.i.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=aF(this,i,e),xe(n=Jr(this.F),"RID",t),xe(n,"CVER",22),this.D&&xe(n,"X-HTTP-Session-Id",this.D),Fc(this,n),s&&(this.N?e="headers="+encodeURIComponent(String(rF(s)))+"&"+e:this.o&&MD(n,this.o,s)),SD(this.h,i),this.Xa&&xe(n,"TYPE","init"),this.O?(xe(n,"$req",e),xe(n,"SID","null"),i.Z=!0,bD(i,n,null)):bD(i,n,e),this.G=2}}else 3==this.G&&(t?oF(this,t):0==this.i.length||zO(this.h)||oF(this))},F.Ia=function(){if(this.u=null,cF(this),this.$&&!(this.K||null==this.g||0>=this.P)){var t=2*this.P;this.j.info("BP detection timer enabled: "+t),this.B=bc(Ft(this.cb,this),t)}},F.cb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Yt(10),kf(this),cF(this))},F.bb=function(){null!=this.v&&(this.v=null,kf(this),RD(this),Yt(19))},F.jb=function(t){t?(this.j.info("Successfully pinged google.com"),Yt(2)):(this.j.info("Failed to ping google.com"),Yt(1))},(F=gF.prototype).xa=function(){},F.wa=function(){},F.va=function(){},F.ua=function(){},F.Qa=function(){},Pf.prototype.g=function(t,e){return new Tn(t,e)},Dt(Tn,gt),Tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;Yt(0),t.V=e,t.ia=n||{},t.L=t.Y,t.F=fF(t,null,t.V),Rf(t)},Tn.prototype.close=function(){kD(this.g)},Tn.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=pD(t),t=n);e.i.push(new class{constructor(t,e){this.h=t,this.g=e}}(e.$a++,t)),3==e.G&&Rf(e)},Tn.prototype.M=function(){this.g.l=null,delete this.j,kD(this.g),delete this.g,Tn.X.M.call(this)},Dt(mF,wD),Dt(yF,ID),Dt(la,gF),la.prototype.xa=function(){bt(this.g,"a")},la.prototype.wa=function(t){bt(this.g,new mF(t))},la.prototype.va=function(t){bt(this.g,new yF(t))},la.prototype.ua=function(){bt(this.g,"b")},Pf.prototype.createWebChannel=Pf.prototype.g,Tn.prototype.send=Tn.prototype.u,Tn.prototype.open=Tn.prototype.m,Tn.prototype.close=Tn.prototype.close,If.NO_ERROR=0,If.TIMEOUT=8,If.HTTP_ERROR=6,MO.COMPLETE="complete",RO.EventType=Tc,Tc.OPEN="a",Tc.CLOSE="b",Tc.ERROR="c",Tc.MESSAGE="d",gt.prototype.listen=gt.prototype.N,Qe.prototype.listenOnce=Qe.prototype.O,Qe.prototype.getLastError=Qe.prototype.Na,Qe.prototype.getLastErrorCode=Qe.prototype.Ea,Qe.prototype.getStatus=Qe.prototype.aa,Qe.prototype.getResponseJson=Qe.prototype.Ra,Qe.prototype.getResponseText=Qe.prototype.fa,Qe.prototype.send=Qe.prototype.da;var Hee=Zr.createWebChannelTransport=function(){return new Pf},Gee=Zr.getStatEventTarget=function(){return wf()},PD=Zr.ErrorCode=If,qee=Zr.EventType=MO,zee=Zr.Event=bs,_F=Zr.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Wee=Zr.FetchXmlHttpFactory=Rc,Of=Zr.WebChannel=RO,Kee=Zr.XhrIo=Qe;const vF="@firebase/firestore";class mt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}mt.UNAUTHENTICATED=new mt(null),mt.GOOGLE_CREDENTIALS=new mt("google-credentials-uid"),mt.FIRST_PARTY=new mt("first-party-uid"),mt.MOCK_USER=new mt("mock-user");let da="9.11.0";const Si=new Yo("@firebase/firestore");function OD(){return Si.logLevel}function T(t,...e){if(Si.logLevel<=le.DEBUG){const n=e.map(FD);Si.debug(`Firestore (${da}): ${t}`,...n)}}function $e(t,...e){if(Si.logLevel<=le.ERROR){const n=e.map(FD);Si.error(`Firestore (${da}): ${t}`,...n)}}function ha(t,...e){if(Si.logLevel<=le.WARN){const n=e.map(FD);Si.warn(`Firestore (${da}): ${t}`,...n)}}function FD(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function P(t="Unexpected state"){const e=`FIRESTORE (${da}) INTERNAL ASSERTION FAILED: `+t;throw $e(e),new Error(e)}function H(t,e){t||P()}function x(t,e){return t}const w={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class b extends Bn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class at{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class wF{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Qee{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(mt.UNAUTHENTICATED))}shutdown(){}}class Yee{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Zee{constructor(e){this.t=e,this.currentUser=mt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const s=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve();let o=new at;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new at,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable(g(function*(){yield c.promise,yield s(r.currentUser)}))},u=c=>{T("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(T("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new at)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(T("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(H("string"==typeof r.accessToken),new wF(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return H(null===e||"string"==typeof e),new mt(e)}}class Jee{constructor(e,n,r,i){this.h=e,this.l=n,this.m=r,this.g=i,this.type="FirstParty",this.user=mt.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(H(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class Xee{constructor(e,n,r,i){this.h=e,this.l=n,this.m=r,this.g=i}getToken(){return Promise.resolve(new Jee(this.h,this.l,this.m,this.g))}start(e,n){e.enqueueRetryable(()=>n(mt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class IF{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ete{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,n){const r=s=>{null!=s.error&&T("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.A;return this.A=s.token,T("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{T("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.T.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.T.getImmediate({optional:!0});s?i(s):T("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(H("string"==typeof n.token),this.A=n.token,new IF(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function tte(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}function Q(t,e){return t<e?-1:t>e?1:0}function fa(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class Re{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new b(w.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new b(w.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new b(w.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new b(w.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Re.fromMillis(Date.now())}static fromDate(e){return Re.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Re(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Q(this.nanoseconds,e.nanoseconds):Q(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class G{constructor(e){this.timestamp=e}static fromTimestamp(e){return new G(e)}static min(){return new G(new Re(0,0))}static max(){return new G(new Re(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Lc{constructor(e,n,r){void 0===n?n=0:n>e.length&&P(),void 0===r?r=e.length-n:r>e.length-n&&P(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===Lc.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Lc?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class de extends Lc{construct(e,n,r){return new de(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new b(w.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new de(n)}static emptyPath(){return new de([])}}const nte=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class je extends Lc{construct(e,n,r){return new je(e,n,r)}static isValidIdentifier(e){return nte.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),je.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new je(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(0===r.length)throw new b(w.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new b(w.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new b(w.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new b(w.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new je(n)}static emptyPath(){return new je([])}}class A{constructor(e){this.path=e}static fromPath(e){return new A(de.fromString(e))}static fromName(e){return new A(de.fromString(e).popFirst(5))}static empty(){return new A(de.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===de.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return de.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new A(new de(e.slice()))}}function TF(t){return new Cn(t.readTime,t.key,-1)}class Cn{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Cn(G.min(),A.empty(),-1)}static max(){return new Cn(G.max(),A.empty(),-1)}}function VD(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=A.comparator(t.documentKey,e.documentKey),0!==n?n:Q(t.largestBatchId,e.largestBatchId))}const CF="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";function Ai(t){return UD.apply(this,arguments)}function UD(){return UD=g(function*(t){if(t.code!==w.FAILED_PRECONDITION||t.message!==CF)throw t;T("LocalStore","Unexpectedly lost primary lease")}),UD.apply(this,arguments)}class v{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&P(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new v((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof v?n:v.resolve(n)}catch(n){return v.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):v.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):v.reject(n)}static resolve(e){return new v((n,r)=>{n(e)})}static reject(e){return new v((n,r)=>{r(e)})}static waitFor(e){return new v((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=v.resolve(!1);for(const r of e)n=n.next(i=>i?v.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new v((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const c=u;n(e[c]).next(l=>{o[c]=l,++a,a===s&&r(o)},l=>i(l))}})}static doWhile(e,n){return new v((r,i)=>{const s=()=>{!0===e()?n().next(()=>{s()},i):r()};s()})}}function xi(t){return"IndexedDbTransactionError"===t.name}class ln{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ut(r),this.ct=r=>n.writeSequenceNumber(r))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}function AF(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ms(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}ln.at=-1;class Le{constructor(e,n){this.comparator=e,this.root=n||Tt.EMPTY}insert(e,n){return new Le(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Tt.BLACK,null,null))}remove(e){return new Le(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Tt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Uf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Uf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Uf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Uf(this.root,e,this.comparator,!0)}}class Uf{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Tt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Tt.RED,this.left=i??Tt.EMPTY,this.right=s??Tt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Tt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===s?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Tt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return Tt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Tt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Tt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw P();const e=this.left.check();if(e!==this.right.check())throw P();return e+(this.isRed()?0:1)}}Tt.EMPTY=null,Tt.RED=!0,Tt.BLACK=!1,Tt.EMPTY=new class{constructor(){this.size=0}get key(){throw P()}get value(){throw P()}get color(){throw P()}get left(){throw P()}get right(){throw P()}copy(t,e,n,r,i){return this}insert(t,e,n){return new Tt(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ye{constructor(e){this.comparator=e,this.data=new Le(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new MF(this.data.getIterator())}getIteratorFrom(e){return new MF(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof ye)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new ye(this.comparator);return n.data=e,n}}class MF{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Sn{constructor(e){this.fields=e,e.sort(je.comparator)}static empty(){return new Sn([])}unionWith(e){let n=new ye(je.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Sn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return fa(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class ut{constructor(e){this.binaryString=e}static fromBase64String(e){const n=atob(e);return new ut(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new ut(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Q(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ut.EMPTY_BYTE_STRING=new ut("");const lte=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Mi(t){if(H(!!t),"string"==typeof t){let e=0;const n=lte.exec(t);if(H(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ve(t.seconds),nanos:Ve(t.nanos)}}function Ve(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function ks(t){return"string"==typeof t?ut.fromBase64String(t):ut.fromUint8Array(t)}function $D(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function kF(t){const e=t.mapValue.fields.__previous_value__;return $D(e)?kF(e):e}function Bc(t){const e=Mi(t.mapValue.fields.__local_write_time__.timestampValue);return new Re(e.seconds,e.nanos)}class dte{constructor(e,n,r,i,s,o,a,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=u}}class Rs{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Rs("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Rs&&e.projectId===this.projectId&&e.database===this.database}}function $c(t){return null==t}function jc(t){return 0===t&&1/t==-1/0}const ki_mapValue={fields:{__type__:{stringValue:"__max__"}}};function Ns(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?$D(t)?4:FF(t)?9007199254740991:10:P()}function _r(t,e){if(t===e)return!0;const n=Ns(t);if(n!==Ns(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Bc(t).isEqual(Bc(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=Mi(r.timestampValue),o=Mi(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return i=e,ks(t.bytesValue).isEqual(ks(i.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return Ve(r.geoPointValue.latitude)===Ve(i.geoPointValue.latitude)&&Ve(r.geoPointValue.longitude)===Ve(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Ve(r.integerValue)===Ve(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=Ve(r.doubleValue),o=Ve(i.doubleValue);return s===o?jc(s)===jc(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return fa(t.arrayValue.values||[],e.arrayValue.values||[],_r);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(AF(s)!==AF(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!_r(s[a],o[a])))return!1;return!0}(t,e);default:return P()}var i}function Hc(t,e){return void 0!==(t.values||[]).find(n=>_r(n,e))}function Ri(t,e){if(t===e)return 0;const n=Ns(t),r=Ns(e);if(n!==r)return Q(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Q(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=Ve(i.integerValue||i.doubleValue),a=Ve(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return NF(t.timestampValue,e.timestampValue);case 4:return NF(Bc(t),Bc(e));case 5:return Q(t.stringValue,e.stringValue);case 6:return function(i,s){const o=ks(i),a=ks(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let u=0;u<o.length&&u<a.length;u++){const c=Q(o[u],a[u]);if(0!==c)return c}return Q(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=Q(Ve(i.latitude),Ve(s.latitude));return 0!==o?o:Q(Ve(i.longitude),Ve(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let u=0;u<o.length&&u<a.length;++u){const c=Ri(o[u],a[u]);if(c)return c}return Q(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===ki_mapValue&&s===ki_mapValue)return 0;if(i===ki_mapValue)return 1;if(s===ki_mapValue)return-1;const o=i.fields||{},a=Object.keys(o),u=s.fields||{},c=Object.keys(u);a.sort(),c.sort();for(let l=0;l<a.length&&l<c.length;++l){const d=Q(a[l],c[l]);if(0!==d)return d;const h=Ri(o[a[l]],u[c[l]]);if(0!==h)return h}return Q(a.length,c.length)}(t.mapValue,e.mapValue);default:throw P()}}function NF(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Q(t,e);const n=Mi(t),r=Mi(e),i=Q(n.seconds,r.seconds);return 0!==i?i:Q(n.nanos,r.nanos)}function ga(t){return jD(t)}function jD(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=Mi(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?ks(t.bytesValue).toBase64():"referenceValue"in t?A.fromName(t.referenceValue).toString():"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=jD(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${jD(r.fields[a])}`;return s+"}"}(t.mapValue):P();var e}function HD(t){return!!t&&"integerValue"in t}function Gc(t){return!!t&&"arrayValue"in t}function PF(t){return!!t&&"nullValue"in t}function OF(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function $f(t){return!!t&&"mapValue"in t}function qc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ms(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=qc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=qc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function FF(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class Ct{constructor(e){this.value=e}static empty(){return new Ct({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!$f(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=qc(n)}setAll(e){let n=je.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=qc(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());$f(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return _r(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];$f(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ms(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Ct(qc(this.value))}}class Te{constructor(e,n,r,i,s,o){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new Te(e,0,G.min(),G.min(),Ct.empty(),0)}static newFoundDocument(e,n,r){return new Te(e,1,n,G.min(),r,0)}static newNoDocument(e,n){return new Te(e,2,n,G.min(),Ct.empty(),0)}static newUnknownDocument(e,n){return new Te(e,3,n,G.min(),Ct.empty(),2)}convertToFoundDocument(e,n){return this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ct.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ct.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=G.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Te&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Te(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class pte{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ht=null}}function BF(t,e=null,n=[],r=[],i=null,s=null,o=null){return new pte(t,e,n,r,i,s,o)}function Os(t){const e=x(t);if(null===e.ht){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+ga(i.value);var i}).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),$c(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ga(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ga(r)).join(",")),e.ht=n}return e.ht}function zc(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<t.orderBy.length;i++)if(!Dte(t.orderBy[i],e.orderBy[i]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let i=0;i<t.filters.length;i++)if((n=t.filters[i]).op!==(r=e.filters[i]).op||!n.field.isEqual(r.field)||!_r(n.value,r.value))return!1;var n,r;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!qF(t.startAt,e.startAt)&&qF(t.endAt,e.endAt)}function jf(t){return A.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class St extends class{}{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.lt(e,n,r):new mte(e,n,r):"array-contains"===n?new vte(e,r):"in"===n?new wte(e,r):"not-in"===n?new Ite(e,r):"array-contains-any"===n?new Ete(e,r):new St(e,n,r)}static lt(e,n,r){return"in"===n?new yte(e,r):new _te(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.ft(Ri(n,this.value)):null!==n&&Ns(this.value)===Ns(n)&&this.ft(Ri(n,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return P()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class mte extends St{constructor(e,n,r){super(e,n,r),this.key=A.fromName(r.referenceValue)}matches(e){const n=A.comparator(e.key,this.key);return this.ft(n)}}class yte extends St{constructor(e,n){super(e,"in",n),this.keys=HF(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class _te extends St{constructor(e,n){super(e,"not-in",n),this.keys=HF(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function HF(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>A.fromName(r.referenceValue))}class vte extends St{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Gc(n)&&Hc(n.arrayValue,this.value)}}class wte extends St{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&Hc(this.value.arrayValue,n)}}class Ite extends St{constructor(e,n){super(e,"not-in",n)}matches(e){if(Hc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!Hc(this.value.arrayValue,n)}}class Ete extends St{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Gc(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Hc(this.value.arrayValue,r))}}class Ni{constructor(e,n){this.position=e,this.inclusive=n}}class ma{constructor(e,n="asc"){this.field=e,this.dir=n}}function Dte(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function GF(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(r=s.field.isKeyField()?A.comparator(A.fromName(o.referenceValue),n.key):Ri(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function qF(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!_r(t.position[n],e.position[n]))return!1;return!0}class ei{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this._t=null,this.wt=null}}function ya(t){return new ei(t)}function WF(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function _a(t){const e=x(t);if(null===e._t){e._t=[];const n=function qD(t){for(const e of t.filters)if(e.dt())return e.field;return null}(e),r=function GD(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}(e);if(null!==n&&null===r)n.isKeyField()||e._t.push(new ma(n)),e._t.push(new ma(je.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e._t.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new ma(je.keyField(),s))}}}return e._t}function Zt(t){const e=x(t);if(!e.wt)if("F"===e.limitType)e.wt=BF(e.path,e.collectionGroup,_a(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of _a(e))n.push(new ma(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new Ni(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Ni(e.startAt.position,e.startAt.inclusive):null;e.wt=BF(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e.wt}function Gf(t,e,n){return new ei(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Wc(t,e){return zc(Zt(t),Zt(e))&&t.limitType===e.limitType}function KF(t){return`${Os(Zt(t))}|lt:${t.limitType}`}function WD(t){return`Query(target=${function gte(t){let e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map(n=>{return`${(r=n).field.canonicalString()} ${r.op} ${ga(r.value)}`;var r}).join(", ")}]`),$c(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map(n=>{return`${(r=n).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(n=>ga(n)).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(n=>ga(n)).join(",")),`Target(${e})`}(Zt(t))}; limitType=${t.limitType})`}function KD(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):A.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of n.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&(r=e,!((n=t).startAt&&!function(i,s,o){const a=GF(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,_a(n),r)||n.endAt&&!function(i,s,o){const a=GF(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,_a(n),r)));var n,r}function YF(t){return(e,n)=>{let r=!1;for(const i of _a(t)){const s=bte(i,e,n);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function bte(t,e,n){const r=t.field.isKeyField()?A.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),u=o.data.field(i);return null!==a&&null!==u?Ri(a,u):P()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return P()}}class qf{constructor(){this._=void 0}}function Tte(t,e,n){return t instanceof va?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof Fs?tL(t,e):t instanceof Ls?nL(t,e):function(r,i){const s=function eL(t,e){return t instanceof wa?HD(n=e)||(r=n)&&"doubleValue"in r?e:{integerValue:0}:null;var r,n}(r,i),o=rL(s)+rL(r.yt);return HD(s)&&HD(r.yt)?function JF(t){return{integerValue:""+t}}(o):function ZF(t,e){if(t.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:jc(e)?"-0":e}}(r.It,o)}(t,e)}function Cte(t,e,n){return t instanceof Fs?tL(t,e):t instanceof Ls?nL(t,e):n}class va extends qf{}class Fs extends qf{constructor(e){super(),this.elements=e}}function tL(t,e){const n=iL(e);for(const r of t.elements)n.some(i=>_r(i,r))||n.push(r);return{arrayValue:{values:n}}}class Ls extends qf{constructor(e){super(),this.elements=e}}function nL(t,e){let n=iL(e);for(const r of t.elements)n=n.filter(i=>!_r(i,r));return{arrayValue:{values:n}}}class wa extends qf{constructor(e,n){super(),this.It=e,this.yt=n}}function rL(t){return Ve(t.integerValue||t.doubleValue)}function iL(t){return Gc(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class Me{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Me}static exists(e){return new Me(void 0,e)}static updateTime(e){return new Me(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function zf(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class QD{}function sL(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new Ea(t.key,Me.none()):new Ia(t.key,t.data,Me.none());{const n=t.data,r=Ct.empty();let i=new ye(je.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);null===o&&s.length>1&&(s=s.popLast(),o=n.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new ti(t.key,r,new Sn(i.toArray()),Me.none())}}function xte(t,e,n){t instanceof Ia?function(r,i,s){const o=r.value.clone(),a=uL(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof ti?function(r,i,s){if(!zf(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=uL(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(aL(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function Qc(t,e,n,r){return t instanceof Ia?function(i,s,o,a){if(!zf(i.precondition,s))return o;const u=i.value.clone(),c=cL(i.fieldTransforms,a,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof ti?function(i,s,o,a){if(!zf(i.precondition,s))return o;const u=cL(i.fieldTransforms,a,s),c=s.data;return c.setAll(aL(i)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null===o?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(l=>l.field))}(t,e,n,r):(o=n,zf(t.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o);var s,o}function oL(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(n=t.fieldTransforms)&&void 0===r||n&&r&&fa(n,r,(i,s)=>function Ste(t,e){return t.field.isEqual(e.field)&&(r=e.transform,(n=t.transform)instanceof Fs&&r instanceof Fs||n instanceof Ls&&r instanceof Ls?fa(n.elements,r.elements,_r):n instanceof wa&&r instanceof wa?_r(n.yt,r.yt):n instanceof va&&r instanceof va);var n,r}(i,s))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}class Ia extends QD{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ti extends QD{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function aL(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function uL(t,e,n){const r=new Map;H(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Cte(o,a,n[i]))}return r}function cL(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,Tte(s,o,e))}return r}class Ea extends QD{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class kte{constructor(e){this.count=e}}var Ye,he;function dL(t){if(void 0===t)return $e("GRPC error has no .code"),w.UNKNOWN;switch(t){case Ye.OK:return w.OK;case Ye.CANCELLED:return w.CANCELLED;case Ye.UNKNOWN:return w.UNKNOWN;case Ye.DEADLINE_EXCEEDED:return w.DEADLINE_EXCEEDED;case Ye.RESOURCE_EXHAUSTED:return w.RESOURCE_EXHAUSTED;case Ye.INTERNAL:return w.INTERNAL;case Ye.UNAVAILABLE:return w.UNAVAILABLE;case Ye.UNAUTHENTICATED:return w.UNAUTHENTICATED;case Ye.INVALID_ARGUMENT:return w.INVALID_ARGUMENT;case Ye.NOT_FOUND:return w.NOT_FOUND;case Ye.ALREADY_EXISTS:return w.ALREADY_EXISTS;case Ye.PERMISSION_DENIED:return w.PERMISSION_DENIED;case Ye.FAILED_PRECONDITION:return w.FAILED_PRECONDITION;case Ye.ABORTED:return w.ABORTED;case Ye.OUT_OF_RANGE:return w.OUT_OF_RANGE;case Ye.UNIMPLEMENTED:return w.UNIMPLEMENTED;case Ye.DATA_LOSS:return w.DATA_LOSS;default:return P()}}(he=Ye||(Ye={}))[he.OK=0]="OK",he[he.CANCELLED=1]="CANCELLED",he[he.UNKNOWN=2]="UNKNOWN",he[he.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",he[he.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",he[he.NOT_FOUND=5]="NOT_FOUND",he[he.ALREADY_EXISTS=6]="ALREADY_EXISTS",he[he.PERMISSION_DENIED=7]="PERMISSION_DENIED",he[he.UNAUTHENTICATED=16]="UNAUTHENTICATED",he[he.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",he[he.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",he[he.ABORTED=10]="ABORTED",he[he.OUT_OF_RANGE=11]="OUT_OF_RANGE",he[he.UNIMPLEMENTED=12]="UNIMPLEMENTED",he[he.INTERNAL=13]="INTERNAL",he[he.UNAVAILABLE=14]="UNAVAILABLE",he[he.DATA_LOSS=15]="DATA_LOSS";class Pi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ms(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return function xF(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}(this.inner)}size(){return this.innerSize}}const Rte=new Le(A.comparator);function dn(){return Rte}const hL=new Le(A.comparator);function Yc(...t){let e=hL;for(const n of t)e=e.insert(n.key,n);return e}function fL(t){let e=hL;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function vr(){return Zc()}function pL(){return Zc()}function Zc(){return new Pi(t=>t.toString(),(t,e)=>t.isEqual(e))}new Le(A.comparator);const Pte=new ye(A.comparator);function te(...t){let e=Pte;for(const n of t)e=e.add(n);return e}const Ote=new ye(Q);function Wf(){return Ote}class Jc{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n){const r=new Map;return r.set(e,Xc.createSynthesizedTargetChangeForCurrentChange(e,n)),new Jc(G.min(),r,Wf(),dn(),te())}}class Xc{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n){return new Xc(ut.EMPTY_BYTE_STRING,n,te(),te(),te())}}class Kf{constructor(e,n,r,i){this.Tt=e,this.removedTargetIds=n,this.key=r,this.Et=i}}class gL{constructor(e,n){this.targetId=e,this.At=n}}class mL{constructor(e,n,r=ut.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class yL{constructor(){this.Rt=0,this.bt=vL(),this.Pt=ut.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=te(),n=te(),r=te();return this.bt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:P()}}),new Xc(this.Pt,this.vt,e,n,r)}Nt(){this.Vt=!1,this.bt=vL()}kt(e,n){this.Vt=!0,this.bt=this.bt.insert(e,n)}Ot(e){this.Vt=!0,this.bt=this.bt.remove(e)}Mt(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class Fte{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=dn(),this.qt=_L(),this.Kt=new ye(Q)}Gt(e){for(const n of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(n,e.Et):this.jt(n,e.key,e.Et);for(const n of e.removedTargetIds)this.jt(n,e.key,e.Et)}Wt(e){this.forEachTarget(e,n=>{const r=this.zt(n);switch(e.state){case 0:this.Ht(n)&&r.Ct(e.resumeToken);break;case 1:r.Ft(),r.St||r.Nt(),r.Ct(e.resumeToken);break;case 2:r.Ft(),r.St||this.removeTarget(n);break;case 3:this.Ht(n)&&(r.$t(),r.Ct(e.resumeToken));break;case 4:this.Ht(n)&&(this.Jt(n),r.Ct(e.resumeToken));break;default:P()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Lt.forEach((r,i)=>{this.Ht(i)&&n(i)})}Yt(e){const n=e.targetId,r=e.At.count,i=this.Xt(n);if(i){const s=i.target;if(jf(s))if(0===r){const o=new A(s.path);this.jt(n,o,Te.newNoDocument(o,G.min()))}else H(1===r);else this.Zt(n)!==r&&(this.Jt(n),this.Kt=this.Kt.add(n))}}te(e){const n=new Map;this.Lt.forEach((s,o)=>{const a=this.Xt(o);if(a){if(s.current&&jf(a.target)){const u=new A(a.target.path);null!==this.Ut.get(u)||this.ee(o,u)||this.jt(o,u,Te.newNoDocument(u,e))}s.Dt&&(n.set(o,s.xt()),s.Nt())}});let r=te();this.qt.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.Xt(u);return!c||2===c.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.Ut.forEach((s,o)=>o.setReadTime(e));const i=new Jc(e,n,this.Kt,this.Ut,r);return this.Ut=dn(),this.qt=_L(),this.Kt=new ye(Q),i}Qt(e,n){if(!this.Ht(e))return;const r=this.ee(e,n.key)?2:0;this.zt(e).kt(n.key,r),this.Ut=this.Ut.insert(n.key,n),this.qt=this.qt.insert(n.key,this.ne(n.key).add(e))}jt(e,n,r){if(!this.Ht(e))return;const i=this.zt(e);this.ee(e,n)?i.kt(n,1):i.Ot(n),this.qt=this.qt.insert(n,this.ne(n).delete(e)),r&&(this.Ut=this.Ut.insert(n,r))}removeTarget(e){this.Lt.delete(e)}Zt(e){const n=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Mt(e){this.zt(e).Mt()}zt(e){let n=this.Lt.get(e);return n||(n=new yL,this.Lt.set(e,n)),n}ne(e){let n=this.qt.get(e);return n||(n=new ye(Q),this.qt=this.qt.insert(e,n)),n}Ht(e){const n=null!==this.Xt(e);return n||T("WatchChangeAggregator","Detected inactive target",e),n}Xt(e){const n=this.Lt.get(e);return n&&n.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new yL),this.Bt.getRemoteKeysForTarget(e).forEach(n=>{this.jt(e,n,null)})}ee(e,n){return this.Bt.getRemoteKeysForTarget(e).has(n)}}function _L(){return new Le(A.comparator)}function vL(){return new Le(A.comparator)}const Lte={asc:"ASCENDING",desc:"DESCENDING"},Vte={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Ute{constructor(e,n){this.databaseId=e,this.gt=n}}function yt(t){return H(!!t),G.fromTimestamp(function(e){const n=Mi(e);return new Re(n.seconds,n.nanos)}(t))}function IL(t){const e=de.fromString(t);return H(xL(e)),e}function wr(t,e){const n=IL(e);if(n.get(1)!==t.databaseId.projectId)throw new b(w.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new b(w.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new A(DL(n))}function JD(t,e){return function ZD(t,e){return(n=t,new de(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}(t.databaseId,e)}function nl(t){return new de(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function DL(t){return H(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function CL(t,e){return{documents:[JD(t,e.path)]}}function eb(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=JD(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=JD(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(0===u.length)return;const c=u.map(l=>function(d){if("=="===d.op){if(OF(d.value))return{unaryFilter:{field:Da(d.field),op:"IS_NAN"}};if(PF(d.value))return{unaryFilter:{field:Da(d.field),op:"IS_NULL"}}}else if("!="===d.op){if(OF(d.value))return{unaryFilter:{field:Da(d.field),op:"IS_NOT_NAN"}};if(PF(d.value))return{unaryFilter:{field:Da(d.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Da(d.field),op:zte(d.op),value:d.value}}}(l));return 1===c.length?c[0]:{compositeFilter:{op:"AND",filters:c}}}(e.filters);i&&(n.structuredQuery.where=i);const s=function(u){if(0!==u.length)return u.map(c=>{return{field:Da((l=c).field),direction:qte(l.dir)};var l})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=(c=e.limit,t.gt||$c(c)?c:{value:c});var c,a,u;return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt={before:!(u=e.endAt).inclusive,values:u.position}),n}function SL(t){let e=function EL(t){const e=IL(t);return 4===e.length?de.emptyPath():DL(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){H(1===r);const l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];n.where&&(s=AL(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(l=>{return new ma(ba((d=l).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;n.limit&&(a=function(l){let d;return d="object"==typeof l?l.value:l,$c(d)?null:d}(n.limit));let u=null;var l;n.startAt&&(u=new Ni((l=n.startAt).values||[],!!l.before));let c=null;return n.endAt&&(c=function(l){return new Ni(l.values||[],!l.before)}(n.endAt)),function zF(t,e,n,r,i,s,o,a){return new ei(t,e,n,r,i,s,o,a)}(e,i,o,s,a,"F",u,c)}function AL(t){return t?void 0!==t.unaryFilter?[Kte(t)]:void 0!==t.fieldFilter?[Wte(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(e=>AL(e)).reduce((e,n)=>e.concat(n)):P():[]}function qte(t){return Lte[t]}function zte(t){return Vte[t]}function Da(t){return{fieldPath:t.canonicalString()}}function ba(t){return je.fromServerFormat(t.fieldPath)}function Wte(t){return St.create(ba(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return P()}}(t.fieldFilter.op),t.fieldFilter.value)}function Kte(t){switch(t.unaryFilter.op){case"IS_NAN":const e=ba(t.unaryFilter.field);return St.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=ba(t.unaryFilter.field);return St.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=ba(t.unaryFilter.field);return St.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=ba(t.unaryFilter.field);return St.create(i,"!=",{nullValue:"NULL_VALUE"});default:return P()}}function xL(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class nb{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&xte(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Qc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Qc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=pL();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const u=sL(o,a);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(G.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),te())}isEqual(e){return this.batchId===e.batchId&&fa(this.mutations,e.mutations,(n,r)=>oL(n,r))&&fa(this.baseMutations,e.baseMutations,(n,r)=>oL(n,r))}}class ib{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Oi{constructor(e,n,r,i,s=G.min(),o=G.min(),a=ut.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(e){return new Oi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new Oi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Oi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class FL{constructor(e){this.re=e}}function sb(t){const e=SL({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Gf(e,e.limit,"L"):e}class $s{constructor(){}ce(e,n){this.ae(e,n),n.he()}ae(e,n){if("nullValue"in e)this.le(n,5);else if("booleanValue"in e)this.le(n,10),n.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(n,15),n.fe(Ve(e.integerValue));else if("doubleValue"in e){const r=Ve(e.doubleValue);isNaN(r)?this.le(n,13):(this.le(n,15),jc(r)?n.fe(0):n.fe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.le(n,20),"string"==typeof r?n.de(r):(n.de(`${r.seconds||""}`),n.fe(r.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,n),this.we(n);else if("bytesValue"in e)this.le(n,30),n.me(ks(e.bytesValue)),this.we(n);else if("referenceValue"in e)this.ge(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.le(n,45),n.fe(r.latitude||0),n.fe(r.longitude||0)}else"mapValue"in e?FF(e)?this.le(n,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,n),this.we(n)):"arrayValue"in e?(this.pe(e.arrayValue,n),this.we(n)):P()}_e(e,n){this.le(n,25),this.Ie(e,n)}Ie(e,n){n.de(e)}ye(e,n){const r=e.fields||{};this.le(n,55);for(const i of Object.keys(r))this._e(i,n),this.ae(r[i],n)}pe(e,n){const r=e.values||[];this.le(n,50);for(const i of r)this.ae(i,n)}ge(e,n){this.le(n,37),A.fromName(e).path.forEach(r=>{this.le(n,60),this.Ie(r,n)})}le(e,n){e.fe(n)}we(e){e.fe(2)}}$s.Te=new $s;class Ine{constructor(){this.Ye=new ab}addToCollectionParentIndex(e,n){return this.Ye.add(n),v.resolve()}getCollectionParents(e,n){return v.resolve(this.Ye.getEntries(n))}addFieldIndex(e,n){return v.resolve()}deleteFieldIndex(e,n){return v.resolve()}getDocumentsMatchingTarget(e,n){return v.resolve(null)}getIndexType(e,n){return v.resolve(0)}getFieldIndexes(e,n){return v.resolve([])}getNextCollectionGroupToUpdate(e){return v.resolve(null)}getMinOffset(e,n){return v.resolve(Cn.min())}getMinOffsetFromCollectionGroup(e,n){return v.resolve(Cn.min())}updateCollectionGroup(e,n,r){return v.resolve()}updateIndexEntries(e,n){return v.resolve()}}class ab{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new ye(de.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ye(de.comparator)).toArray()}}new Uint8Array(0);class hn{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new hn(e,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}hn.DEFAULT_COLLECTION_PERCENTILE=10,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hn.DEFAULT=new hn(41943040,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hn.DISABLED=new hn(-1,0,0);class Gs{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new Gs(0)}static vn(){return new Gs(-1)}}class kne{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class rV{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.getBaseDocument(e,n,r))).next(i=>(null!==r&&Qc(r.mutation,i,Sn.empty(),Re.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,te()).next(()=>r))}getLocalViewOfDocuments(e,n,r=te()){const i=vr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Yc();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=vr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,te()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=dn();const o=Zc(),a=Zc();return n.forEach((u,c)=>{const l=r.get(c.key);i.has(c.key)&&(void 0===l||l.mutation instanceof ti)?s=s.insert(c.key,c):void 0!==l&&(o.set(c.key,l.mutation.getFieldMask()),Qc(l.mutation,c,l.mutation.getFieldMask(),Re.now()))}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,l)=>o.set(c,l)),n.forEach((c,l)=>{var d;return a.set(c,new kne(l,null!==(d=o.get(c))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Zc();let i=new Le((o,a)=>o-a),s=te();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=n.get(u);if(null===c)return;let l=r.get(u)||Sn.empty();l=a.applyToLocalView(c,l),r.set(u,l);const d=(i.get(a.batchId)||te()).add(u);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,l=u.value,d=pL();l.forEach(h=>{if(!s.has(h)){const f=sL(n.get(h),r.get(h));null!==f&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return v.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return A.isDocumentKey((i=n).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):function zD(t){return null!==t.collectionGroup}(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r);var i}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):v.resolve(vr());let a=-1,u=s;return o.next(c=>v.forEach(c,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(l)?v.resolve():this.getBaseDocument(e,l,d).next(h=>{u=u.insert(l,h)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,te())).next(l=>({batchId:a,changes:fL(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new A(n)).next(r=>{let i=Yc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=Yc();return this.indexManager.getCollectionParents(e,i).next(o=>v.forEach(o,a=>{const u=(c=n,l=a.child(i),new ei(l,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt));var c,l;return this.getDocumentsMatchingCollectionQuery(e,u,r).next(c=>{c.forEach((l,d)=>{s=s.insert(l,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.remoteDocumentCache.getAllFromCollection(e,n.path,r).next(s=>(i=s,this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId))).next(s=>{s.forEach((a,u)=>{const c=u.getKey();null===i.get(c)&&(i=i.insert(c,Te.newInvalidDocument(c)))});let o=Yc();return i.forEach((a,u)=>{const c=s.get(a);void 0!==c&&Qc(c.mutation,u,Sn.empty(),Re.now()),KD(n,u)&&(o=o.insert(a,u))}),o})}getBaseDocument(e,n,r){return null===r||1===r.mutation.type?this.remoteDocumentCache.getEntry(e,n):v.resolve(Te.newInvalidDocument(n))}}class Rne{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,n){return v.resolve(this.Zn.get(n))}saveBundleMetadata(e,n){var r;return this.Zn.set(n.id,{id:(r=n).id,version:r.version,createTime:yt(r.createTime)}),v.resolve()}getNamedQuery(e,n){return v.resolve(this.ts.get(n))}saveNamedQuery(e,n){return this.ts.set(n.name,{name:(r=n).name,query:sb(r.bundledQuery),readTime:yt(r.readTime)}),v.resolve();var r}}class Nne{constructor(){this.overlays=new Le(A.comparator),this.es=new Map}getOverlay(e,n){return v.resolve(this.overlays.get(n))}getOverlays(e,n){const r=vr();return v.forEach(n,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ue(e,n,s)}),v.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.es.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.es.delete(r)),v.resolve()}getOverlaysForCollection(e,n,r){const i=vr(),s=n.length+1,o=new A(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return v.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Le((c,l)=>c-l);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let l=s.get(c.largestBatchId);null===l&&(l=vr(),s=s.insert(c.largestBatchId,l)),l.set(c.getKey(),c)}}const a=vr(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,l)=>a.set(c,l)),!(a.size()>=i)););return v.resolve(a)}ue(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.es.get(i.largestBatchId).delete(r.key);this.es.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new ib(n,r));let s=this.es.get(n);void 0===s&&(s=te(),this.es.set(n,s)),this.es.set(n,s.add(r.key))}}class ub{constructor(){this.ns=new ye(vt.ss),this.rs=new ye(vt.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,n){const r=new vt(e,n);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.cs(new vt(e,n))}hs(e,n){e.forEach(r=>this.removeReference(r,n))}ls(e){const n=new A(new de([])),r=new vt(n,e),i=new vt(n,e+1),s=[];return this.rs.forEachInRange([r,i],o=>{this.cs(o),s.push(o.key)}),s}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const n=new A(new de([])),r=new vt(n,e),i=new vt(n,e+1);let s=te();return this.rs.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new vt(e,0),r=this.ns.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class vt{constructor(e,n){this.key=e,this._s=n}static ss(e,n){return A.comparator(e.key,n.key)||Q(e._s,n._s)}static os(e,n){return Q(e._s,n._s)||A.comparator(e.key,n.key)}}class Pne{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this.gs=new ye(vt.ss)}checkEmpty(e){return v.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const s=this.ws;this.ws++;const o=new nb(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.gs=this.gs.add(new vt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return v.resolve(o)}lookupMutationBatch(e,n){return v.resolve(this.ys(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.ps(n+1),s=i<0?0:i;return v.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return v.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return v.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new vt(n,0),i=new vt(n,Number.POSITIVE_INFINITY),s=[];return this.gs.forEachInRange([r,i],o=>{const a=this.ys(o._s);s.push(a)}),v.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ye(Q);return n.forEach(i=>{const s=new vt(i,0),o=new vt(i,Number.POSITIVE_INFINITY);this.gs.forEachInRange([s,o],a=>{r=r.add(a._s)})}),v.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;A.isDocumentKey(s)||(s=s.child(""));const o=new vt(new A(s),0);let a=new ye(Q);return this.gs.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u._s)),!0)},o),v.resolve(this.Is(a))}Is(e){const n=[];return e.forEach(r=>{const i=this.ys(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){H(0===this.Ts(n.batchId,"removed")),this.mutationQueue.shift();let r=this.gs;return v.forEach(n.mutations,i=>{const s=new vt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.gs=r})}An(e){}containsKey(e,n){const r=new vt(n,0),i=this.gs.firstAfterOrEqual(r);return v.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return v.resolve()}Ts(e,n){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const n=this.ps(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class One{constructor(e){this.Es=e,this.docs=new Le(A.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Es(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return v.resolve(r?r.document.mutableCopy():Te.newInvalidDocument(n))}getEntries(e,n){let r=dn();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Te.newInvalidDocument(i))}),v.resolve(r)}getAllFromCollection(e,n,r){let i=dn();const s=new A(n.child("")),o=this.docs.getIteratorFrom(s);for(;o.hasNext();){const{key:a,value:{document:u}}=o.getNext();if(!n.isPrefixOf(a.path))break;a.path.length>n.length+1||VD(TF(u),r)<=0||(i=i.insert(u.key,u.mutableCopy()))}return v.resolve(i)}getAllFromCollectionGroup(e,n,r,i){P()}As(e,n){return v.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Fne(this)}getSize(e){return v.resolve(this.size)}}class Fne extends class Ane{constructor(){this.changes=new Pi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Te.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?v.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}{constructor(e){super(),this.Yn=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Yn.addEntry(e,i)):this.Yn.removeEntry(r)}),v.waitFor(n)}getFromCache(e,n){return this.Yn.getEntry(e,n)}getAllFromCache(e,n){return this.Yn.getEntries(e,n)}}class Lne{constructor(e){this.persistence=e,this.Rs=new Pi(n=>Os(n),zc),this.lastRemoteSnapshotVersion=G.min(),this.highestTargetId=0,this.bs=0,this.Ps=new ub,this.targetCount=0,this.vs=Gs.Pn()}forEachTarget(e,n){return this.Rs.forEach((r,i)=>n(i)),v.resolve()}getLastRemoteSnapshotVersion(e){return v.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return v.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),v.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.bs&&(this.bs=n),v.resolve()}Dn(e){this.Rs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.vs=new Gs(n),this.highestTargetId=n),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,n){return this.Dn(n),this.targetCount+=1,v.resolve()}updateTargetData(e,n){return this.Dn(n),v.resolve()}removeTargetData(e,n){return this.Rs.delete(n.target),this.Ps.ls(n.targetId),this.targetCount-=1,v.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Rs.forEach((o,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.Rs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),v.waitFor(s).next(()=>i)}getTargetCount(e){return v.resolve(this.targetCount)}getTargetData(e,n){const r=this.Rs.get(n)||null;return v.resolve(r)}addMatchingKeys(e,n,r){return this.Ps.us(n,r),v.resolve()}removeMatchingKeys(e,n,r){this.Ps.hs(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),v.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Ps.ls(n),v.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Ps.ds(n);return v.resolve(r)}containsKey(e,n){return v.resolve(this.Ps.containsKey(n))}}class iV{constructor(e,n){this.Vs={},this.overlays={},this.Ss=new ln(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new Lne(this),this.indexManager=new Ine,this.remoteDocumentCache=new One(r=>this.referenceDelegate.xs(r)),this.It=new FL(n),this.Ns=new Rne(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Nne,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Vs[e.toKey()];return r||(r=new Pne(n,this.referenceDelegate),this.Vs[e.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,n,r){T("MemoryPersistence","Starting transaction:",e);const i=new Vne(this.Ss.next());return this.referenceDelegate.ks(),r(i).next(s=>this.referenceDelegate.Os(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ms(e,n){return v.or(Object.values(this.Vs).map(r=>()=>r.containsKey(e,n)))}}class Vne extends class ste{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}{constructor(e){super(),this.currentSequenceNumber=e}}class rp{constructor(e){this.persistence=e,this.Fs=new ub,this.$s=null}static Bs(e){return new rp(e)}get Ls(){if(this.$s)return this.$s;throw P()}addReference(e,n,r){return this.Fs.addReference(r,n),this.Ls.delete(r.toString()),v.resolve()}removeReference(e,n,r){return this.Fs.removeReference(r,n),this.Ls.add(r.toString()),v.resolve()}markPotentiallyOrphaned(e,n){return this.Ls.add(n.toString()),v.resolve()}removeTarget(e,n){this.Fs.ls(n.targetId).forEach(i=>this.Ls.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Ls.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}ks(){this.$s=new Set}Os(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return v.forEach(this.Ls,r=>{const i=A.fromPath(r);return this.Us(e,i).next(s=>{s||n.removeEntry(i,G.min())})}).next(()=>(this.$s=null,n.apply(e)))}updateLimboDocument(e,n){return this.Us(e,n).next(r=>{r?this.Ls.delete(n.toString()):this.Ls.add(n.toString())})}xs(e){return 0}Us(e,n){return v.or([()=>v.resolve(this.Fs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ms(e,n)])}}class hb{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Si=r,this.Di=i}static Ci(e,n){let r=te(),i=te();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new hb(e,n.fromCache,r,i)}}class oV{constructor(){this.xi=!1}initialize(e,n){this.Ni=e,this.indexManager=n,this.xi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.ki(e,n).next(s=>s||this.Oi(e,n,i,r)).next(s=>s||this.Mi(e,n))}ki(e,n){if(WF(n))return v.resolve(null);let r=Zt(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=Gf(n,null,"F"),r=Zt(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=te(...s);return this.Ni.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.Fi(n,a);return this.$i(n,c,o,u.readTime)?this.ki(e,Gf(n,null,"F")):this.Bi(e,c,n,u)}))})))}Oi(e,n,r,i){return WF(n)||i.isEqual(G.min())?this.Mi(e,n):this.Ni.getDocuments(e,r).next(s=>{const o=this.Fi(n,s);return this.$i(n,o,r,i)?this.Mi(e,n):(OD()<=le.DEBUG&&T("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),WD(n)),this.Bi(e,o,n,function bF(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=G.fromTimestamp(1e9===r?new Re(n+1,0):new Re(n,r));return new Cn(i,A.empty(),e)}(i,-1)))})}Fi(e,n){let r=new ye(YF(e));return n.forEach((i,s)=>{KD(e,s)&&(r=r.add(s))}),r}$i(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const s="F"===e.limitType?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Mi(e,n){return OD()<=le.DEBUG&&T("QueryEngine","Using full collection scan to execute query:",WD(n)),this.Ni.getDocumentsMatchingQuery(e,n,Cn.min())}Bi(e,n,r,i){return this.Ni.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}class Bne{constructor(e,n,r,i){this.persistence=e,this.Li=n,this.It=i,this.Ui=new Le(Q),this.qi=new Pi(s=>Os(s),zc),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(r)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new rV(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ui))}}function uV(t,e){return fb.apply(this,arguments)}function fb(){return fb=g(function*(t,e){const n=x(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Qi(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=te();for(const c of i){o.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}for(const c of s){a.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}return n.localDocuments.getDocuments(r,u).next(c=>({ji:c,removedBatchIds:o,addedBatchIds:a}))})})}),fb.apply(this,arguments)}function cV(t){const e=x(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Cs.getLastRemoteSnapshotVersion(n))}function jne(t,e){const n=x(t),r=e.snapshotVersion;let i=n.Ui;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Gi.newChangeBuffer({trackRemovals:!0});i=n.Ui;const a=[];e.targetChanges.forEach((l,d)=>{const h=i.get(d);if(!h)return;a.push(n.Cs.removeMatchingKeys(s,l.removedDocuments,d).next(()=>n.Cs.addMatchingKeys(s,l.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);var p,m,y;e.targetMismatches.has(d)?f=f.withResumeToken(ut.EMPTY_BYTE_STRING,G.min()).withLastLimboFreeSnapshotVersion(G.min()):l.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(l.resumeToken,r)),i=i.insert(d,f),m=f,y=l,(0===(p=h).resumeToken.approximateByteSize()||m.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8||y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0)&&a.push(n.Cs.updateTargetData(s,f))});let u=dn(),c=te();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,l))}),a.push(function lV(t,e,n){let r=te(),i=te();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=dn();return n.forEach((a,u)=>{const c=s.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(G.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||0===u.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):T("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{Wi:o,zi:i}})}(s,o,e.documentUpdates).next(l=>{u=l.Wi,c=l.zi})),!r.isEqual(G.min())){const l=n.Cs.getLastRemoteSnapshotVersion(s).next(d=>n.Cs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(l)}return v.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(n.Ui=i,s))}function Sa(t,e){const n=x(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Cs.getTargetData(r,e).next(s=>s?(i=s,v.resolve(i)):n.Cs.allocateTargetId(r).next(o=>(i=new Oi(e,o,0,r.currentSequenceNumber),n.Cs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ui.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ui=n.Ui.insert(r.targetId,r),n.qi.set(e,r.targetId)),r})}function Aa(t,e,n){return pb.apply(this,arguments)}function pb(){return pb=g(function*(t,e,n){const r=x(t),i=r.Ui.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!xi(o))throw o;T("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ui=r.Ui.remove(e),r.qi.delete(i.target)}),pb.apply(this,arguments)}function sp(t,e,n){const r=x(t);let i=G.min(),s=te();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,u,c){const l=x(a),d=l.qi.get(c);return void 0!==d?v.resolve(l.Ui.get(d)):l.Cs.getTargetData(u,c)}(r,o,Zt(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.Li.getDocumentsMatchingQuery(o,e,n?i:G.min(),n?s:te())).next(a=>(function fV(t,e,n){let r=t.Ki.get(e)||G.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Ki.set(e,r)}(r,function QF(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),a),{documents:a,Hi:s})))}class vb{constructor(){this.activeTargetIds=Wf()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class mV{constructor(){this.Lr=new vb,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,n,r){this.Ur[e]=n}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new vb,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class zne{qr(e){}shutdown(){}}class yV{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){T("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){T("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Wne={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Kne{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class Qne extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,n,r,i,s){const o=this.ho(e,n);T("RestConnection","Sending: ",o,r);const a={};return this.lo(a,i,s),this.fo(e,o,a,r).then(u=>(T("RestConnection","Received: ",u),u),u=>{throw ha("RestConnection",`${e} failed with error: `,u,"url: ",o,"request:",r),u})}_o(e,n,r,i,s,o){return this.ao(e,n,r,i,s)}lo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+da,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}ho(e,n){return`${this.oo}/v1/${n}:${Wne[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,n,r,i){return new Promise((s,o)=>{const a=new Kee;a.listenOnce(qee.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case PD.NO_ERROR:const c=a.getResponseJson();T("Connection","XHR received:",JSON.stringify(c)),s(c);break;case PD.TIMEOUT:T("Connection",'RPC "'+e+'" timed out'),o(new b(w.DEADLINE_EXCEEDED,"Request time out"));break;case PD.HTTP_ERROR:const l=a.getStatus();if(T("Connection",'RPC "'+e+'" failed with status:',l,"response text:",a.getResponseText()),l>0){const d=a.getResponseJson().error;if(d&&d.status&&d.message){const h=function(f){const p=f.toLowerCase().replace(/_/g,"-");return Object.values(w).indexOf(p)>=0?p:w.UNKNOWN}(d.status);o(new b(h,d.message))}else o(new b(w.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new b(w.UNAVAILABLE,"Connection failed."));break;default:P()}}finally{T("Connection",'RPC "'+e+'" completed.')}});const u=JSON.stringify(i);a.send(n,"POST",u,r,15)})}wo(e,n,r){const i=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Hee(),o=Gee(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new Wee({})),this.lo(a.initMessageHeaders,n,r),a.encodeInitMessageHeaders=!0;const u=i.join("");T("Connection","Creating WebChannel: "+u,a);const c=s.createWebChannel(u,a);let l=!1,d=!1;const h=new Kne({Hr:p=>{d?T("Connection","Not sending because WebChannel is closed:",p):(l||(T("Connection","Opening WebChannel transport."),c.open(),l=!0),T("Connection","WebChannel sending:",p),c.send(p))},Jr:()=>c.close()}),f=(p,m,y)=>{p.listen(m,I=>{try{y(I)}catch(E){setTimeout(()=>{throw E},0)}})};return f(c,Of.EventType.OPEN,()=>{d||T("Connection","WebChannel transport opened.")}),f(c,Of.EventType.CLOSE,()=>{d||(d=!0,T("Connection","WebChannel transport closed"),h.io())}),f(c,Of.EventType.ERROR,p=>{d||(d=!0,ha("Connection","WebChannel transport errored:",p),h.io(new b(w.UNAVAILABLE,"The operation could not be completed")))}),f(c,Of.EventType.MESSAGE,p=>{var m;if(!d){const y=p.data[0];H(!!y);const I=y,E=I.error||(null===(m=I[0])||void 0===m?void 0:m.error);if(E){T("Connection","WebChannel received error:",E);const _=E.status;let C=function(O){const _e=Ye[O];if(void 0!==_e)return dL(_e)}(_),R=E.message;void 0===C&&(C=w.INTERNAL,R="Unknown error status: "+_+" with message "+E.message),d=!0,h.io(new b(C,R)),c.close()}else T("Connection","WebChannel received:",y),h.ro(y)}}),f(o,zee.STAT_EVENT,p=>{p.stat===_F.PROXY?T("Connection","Detected buffering proxy"):p.stat===_F.NOPROXY&&T("Connection","Detected no buffering proxy")}),setTimeout(()=>{h.so()},0),h}}function up(){return typeof document<"u"?document:null}function hl(t){return new Ute(t,!0)}class Ib{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Hs=e,this.timerId=n,this.mo=r,this.yo=i,this.po=s,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const n=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,n-r);i>0&&T("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Io} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class Zne extends class Yne{constructor(e,n,r,i,s,o,a,u){this.Hs=e,this.vo=r,this.Vo=i,this.So=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Do=0,this.Co=null,this.xo=null,this.stream=null,this.No=new Ib(e,n)}ko(){return 1===this.state||5===this.state||this.Oo()}Oo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Mo()}stop(){var e=this;return g(function*(){e.ko()&&(yield e.close(0))})()}Fo(){this.state=0,this.No.reset()}$o(){this.Oo()&&null===this.Co&&(this.Co=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.Bo()))}Lo(e){this.Uo(),this.stream.send(e)}Bo(){var e=this;return g(function*(){if(e.Oo())return e.close(0)})()}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}qo(){this.xo&&(this.xo.cancel(),this.xo=null)}close(e,n){var r=this;return g(function*(){r.Uo(),r.qo(),r.No.cancel(),r.Do++,4!==e?r.No.reset():n&&n.code===w.RESOURCE_EXHAUSTED?($e(n.toString()),$e("Using maximum backoff delay to prevent overloading the backend."),r.No.Ao()):n&&n.code===w.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Ko(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Zr(n)})()}Ko(){}auth(){this.state=1;const e=this.Go(this.Do),n=this.Do;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Do===n&&this.Qo(r,i)},r=>{e(()=>{const i=new b(w.UNKNOWN,"Fetching auth token failed: "+r.message);return this.jo(i)})})}Qo(e,n){const r=this.Go(this.Do);this.stream=this.Wo(e,n),this.stream.Yr(()=>{r(()=>(this.state=2,this.xo=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.Oo()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(i=>{r(()=>this.jo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Mo(){var e=this;this.state=5,this.No.Ro(g(function*(){e.state=0,e.start()}))}jo(e){return T("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Go(e){return n=>{this.Hs.enqueueAndForget(()=>this.Do===e?n():(T("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.It=s}Wo(e,n){return this.So.wo("Listen",e,n)}onMessage(e){this.No.reset();const n=function jte(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(u=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===u?1:"REMOVE"===u?2:"CURRENT"===u?3:"RESET"===u?4:P(),i=e.targetChange.targetIds||[],s=function(u,c){return u.gt?(H(void 0===c||"string"==typeof c),ut.fromBase64String(c||"")):(H(void 0===c||c instanceof Uint8Array),ut.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=void 0===u.code?w.UNKNOWN:dL(u.code);return new b(c,u.message||"")}(o);n=new mL(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=wr(t,r.document.name),s=yt(r.document.updateTime),o=new Ct({mapValue:{fields:r.document.fields}}),a=Te.newFoundDocument(i,s,o);n=new Kf(r.targetIds||[],r.removedTargetIds||[],a.key,a)}else if("documentDelete"in e){const r=e.documentDelete,i=wr(t,r.document),s=r.readTime?yt(r.readTime):G.min(),o=Te.newNoDocument(i,s);n=new Kf([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=wr(t,r.document);n=new Kf([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return P();{const r=e.filter,s=new kte(r.count||0);n=new gL(r.targetId,s)}}var u;return n}(this.It,e),r=function(i){if(!("targetChange"in i))return G.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?G.min():s.readTime?yt(s.readTime):G.min()}(e);return this.listener.zo(n,r)}Ho(e){const n={};n.database=nl(this.It),n.addTarget=function(i,s){let o;const a=s.target;return o=jf(a)?{documents:CL(i,a)}:{query:eb(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=function wL(t,e){return t.gt?e.toBase64():e.toUint8Array()}(i,s.resumeToken):s.snapshotVersion.compareTo(G.min())>0&&(o.readTime=function el(t,e){return t.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}(i,s.snapshotVersion.toTimestamp())),o}(this.It,e);const r=function Gte(t,e){const n=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return P()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.Lo(n)}Jo(e){const n={};n.database=nl(this.It),n.removeTarget=e,this.Lo(n)}}class Xne extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.So=r,this.It=i,this.su=!1}iu(){if(this.su)throw new b(w.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,n,r){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.So.ao(e,n,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===w.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new b(w.UNKNOWN,i.toString())})}_o(e,n,r,i){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.So._o(e,n,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===w.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new b(w.UNKNOWN,s.toString())})}terminate(){this.su=!0}}class tre{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.ru=0,this.ou=null,this.uu=!0}cu(){0===this.ru&&(this.au("Unknown"),this.ou=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ou=null,this.hu("Backend didn't respond within 10 seconds."),this.au("Offline"),Promise.resolve())))}lu(e){"Online"===this.state?this.au("Unknown"):(this.ru++,this.ru>=1&&(this.fu(),this.hu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.au("Offline")))}set(e){this.fu(),this.ru=0,"Online"===e&&(this.uu=!1),this.au(e)}au(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}hu(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.uu?($e(n),this.uu=!1):T("OnlineStateTracker",n)}fu(){null!==this.ou&&(this.ou.cancel(),this.ou=null)}}class nre{constructor(e,n,r,i,s){var o=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.du=[],this._u=new Map,this.wu=new Set,this.mu=[],this.gu=s,this.gu.qr(a=>{r.enqueueAndForget(g(function*(){var u;ni(o)&&(T("RemoteStore","Restarting streams for network reachability change."),yield(u=g(function*(c){const l=x(c);l.wu.add(4),yield xa(l),l.yu.set("Unknown"),l.wu.delete(4),yield fl(l)}),function(c){return u.apply(this,arguments)})(o))}))}),this.yu=new tre(r,i)}}function fl(t){return Db.apply(this,arguments)}function Db(){return Db=g(function*(t){if(ni(t))for(const e of t.mu)yield e(!0)}),Db.apply(this,arguments)}function xa(t){return bb.apply(this,arguments)}function bb(){return bb=g(function*(t){for(const e of t.mu)yield e(!1)}),bb.apply(this,arguments)}function cp(t,e){const n=x(t);n._u.has(e.targetId)||(n._u.set(e.targetId,e),Sb(n)?Cb(n):ka(n).Oo()&&Tb(n,e))}function pl(t,e){const n=x(t),r=ka(n);n._u.delete(e),r.Oo()&&vV(n,e),0===n._u.size&&(r.Oo()?r.$o():ni(n)&&n.yu.set("Unknown"))}function Tb(t,e){t.pu.Mt(e.targetId),ka(t).Ho(e)}function vV(t,e){t.pu.Mt(e),ka(t).Jo(e)}function Cb(t){t.pu=new Fte({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),se:e=>t._u.get(e)||null}),ka(t).start(),t.yu.cu()}function Sb(t){return ni(t)&&!ka(t).ko()&&t._u.size>0}function ni(t){return 0===x(t).wu.size}function wV(t){t.pu=void 0}function rre(t){return Ab.apply(this,arguments)}function Ab(){return Ab=g(function*(t){t._u.forEach((e,n)=>{Tb(t,e)})}),Ab.apply(this,arguments)}function ire(t,e){return xb.apply(this,arguments)}function xb(){return xb=g(function*(t,e){wV(t),Sb(t)?(t.yu.lu(e),Cb(t)):t.yu.set("Unknown")}),xb.apply(this,arguments)}function sre(t,e,n){return Mb.apply(this,arguments)}function Mb(){return Mb=g(function*(t,e,n){if(t.yu.set("Online"),e instanceof mL&&2===e.state&&e.cause)try{yield(r=g(function*(i,s){const o=s.cause;for(const a of s.targetIds)i._u.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i._u.delete(a),i.pu.removeTarget(a))}),function(i,s){return r.apply(this,arguments)})(t,e)}catch(r){T("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield lp(t,r)}else if(e instanceof Kf?t.pu.Gt(e):e instanceof gL?t.pu.Yt(e):t.pu.Wt(e),!n.isEqual(G.min()))try{const r=yield cV(t.localStore);n.compareTo(r)>=0&&(yield function(i,s){const o=i.pu.te(s);return o.targetChanges.forEach((a,u)=>{if(a.resumeToken.approximateByteSize()>0){const c=i._u.get(u);c&&i._u.set(u,c.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach(a=>{const u=i._u.get(a);if(!u)return;i._u.set(a,u.withResumeToken(ut.EMPTY_BYTE_STRING,u.snapshotVersion)),vV(i,a);const c=new Oi(u.target,a,1,u.sequenceNumber);Tb(i,c)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n))}catch(r){T("RemoteStore","Failed to raise snapshot:",r),yield lp(t,r)}var r}),Mb.apply(this,arguments)}function lp(t,e,n){return kb.apply(this,arguments)}function kb(){return kb=g(function*(t,e,n){if(!xi(e))throw e;t.wu.add(1),yield xa(t),t.yu.set("Offline"),n||(n=()=>cV(t.localStore)),t.asyncQueue.enqueueRetryable(g(function*(){T("RemoteStore","Retrying IndexedDB access"),yield n(),t.wu.delete(1),yield fl(t)}))}),kb.apply(this,arguments)}function bV(t,e){return Lb.apply(this,arguments)}function Lb(){return Lb=g(function*(t,e){const n=x(t);n.asyncQueue.verifyOperationInProgress(),T("RemoteStore","RemoteStore received new credentials");const r=ni(n);n.wu.add(3),yield xa(n),r&&n.yu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.wu.delete(3),yield fl(n)}),Lb.apply(this,arguments)}function Ub(){return Ub=g(function*(t,e){const n=x(t);e?(n.wu.delete(2),yield fl(n)):e||(n.wu.add(2),yield xa(n),n.yu.set("Unknown"))}),Ub.apply(this,arguments)}function ka(t){return t.Iu||(t.Iu=function(e,n,r){const i=x(e);return i.iu(),new Zne(n,i.So,i.authCredentials,i.appCheckCredentials,i.It,r)}(t.datastore,t.asyncQueue,{Yr:rre.bind(null,t),Zr:ire.bind(null,t),zo:sre.bind(null,t)}),t.mu.push(function(){var e=g(function*(n){n?(t.Iu.Fo(),Sb(t)?Cb(t):t.yu.set("Unknown")):(yield t.Iu.stop(),wV(t))});return function(n){return e.apply(this,arguments)}}())),t.Iu}class Bb{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new at,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new Bb(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new b(w.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ra(t,e){if($e("AsyncQueue",`${e}: ${t}`),xi(t))return new b(w.UNAVAILABLE,`${e}: ${t}`);throw t}class Na{constructor(e){this.comparator=e?(n,r)=>e(n,r)||A.comparator(n.key,r.key):(n,r)=>A.comparator(n.key,r.key),this.keyedMap=Yc(),this.sortedSet=new Le(this.comparator)}static emptySet(e){return new Na(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Na)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new Na;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class TV{constructor(){this.Eu=new Le(A.comparator)}track(e){const n=e.doc.key,r=this.Eu.get(n);r?0!==e.type&&3===r.type?this.Eu=this.Eu.insert(n,e):3===e.type&&1!==r.type?this.Eu=this.Eu.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Eu=this.Eu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Eu=this.Eu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Eu=this.Eu.remove(n):1===e.type&&2===r.type?this.Eu=this.Eu.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Eu=this.Eu.insert(n,{type:2,doc:e.doc}):P():this.Eu=this.Eu.insert(n,e)}Au(){const e=[];return this.Eu.inorderTraversal((n,r)=>{e.push(r)}),e}}class Pa{constructor(e,n,r,i,s,o,a,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u}static fromInitialDocuments(e,n,r,i){const s=[];return n.forEach(o=>{s.push({type:0,doc:o})}),new Pa(e,n,Na.emptySet(n),s,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Wc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class hre{constructor(){this.Ru=void 0,this.listeners=[]}}class fre{constructor(){this.queries=new Pi(e=>KF(e),Wc),this.onlineState="Unknown",this.bu=new Set}}function jb(){return jb=g(function*(t,e){const n=x(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new hre),i)try{s.Ru=yield n.onListen(r)}catch(o){const a=Ra(o,`Initialization of query '${WD(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Pu(n.onlineState),s.Ru&&e.vu(s.Ru)&&qb(n)}),jb.apply(this,arguments)}function Gb(){return Gb=g(function*(t,e){const n=x(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),Gb.apply(this,arguments)}function pre(t,e){const n=x(t);let r=!1;for(const i of e){const o=n.queries.get(i.query);if(o){for(const a of o.listeners)a.vu(i)&&(r=!0);o.Ru=i}}r&&qb(n)}function gre(t,e,n){const r=x(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function qb(t){t.bu.forEach(e=>{e.next()})}class zb{constructor(e,n,r){this.query=e,this.Vu=n,this.Su=!1,this.Du=null,this.onlineState="Unknown",this.options=r||{}}vu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Pa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let n=!1;return this.Su?this.Cu(e)&&(this.Vu.next(e),n=!0):this.xu(e,this.onlineState)&&(this.Nu(e),n=!0),this.Du=e,n}onError(e){this.Vu.error(e)}Pu(e){this.onlineState=e;let n=!1;return this.Du&&!this.Su&&this.xu(this.Du,e)&&(this.Nu(this.Du),n=!0),n}xu(e,n){return!e.fromCache||!(this.options.ku&&"Offline"!==n||e.docs.isEmpty()&&"Offline"!==n)}Cu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Du&&this.Du.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Nu(e){e=Pa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Su=!0,this.Vu.next(e)}}class AV{constructor(e){this.key=e}}class xV{constructor(e){this.key=e}}class MV{constructor(e,n){this.query=e,this.Uu=n,this.qu=null,this.current=!1,this.Ku=te(),this.mutatedKeys=te(),this.Gu=YF(e),this.Qu=new Na(this.Gu)}get ju(){return this.Uu}Wu(e,n){const r=n?n.zu:new TV,i=n?n.Qu:this.Qu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{const h=i.get(l),f=KD(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),m=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let y=!1;h&&f?h.data.isEqual(f.data)?p!==m&&(r.track({type:3,doc:f}),y=!0):this.Hu(h,f)||(r.track({type:2,doc:f}),y=!0,(u&&this.Gu(f,u)>0||c&&this.Gu(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),y=!0):h&&!f&&(r.track({type:1,doc:h}),y=!0,(u||c)&&(a=!0)),y&&(f?(o=o.add(f),s=m?s.add(l):s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{Qu:o,zu:r,$i:a,mutatedKeys:s}}Hu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const s=e.zu.Au();s.sort((c,l)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return P()}};return f(d)-f(h)}(c.type,l.type)||this.Gu(c.doc,l.doc)),this.Ju(r);const o=n?this.Yu():[],a=0===this.Ku.size&&this.current?1:0,u=a!==this.qu;return this.qu=a,0!==s.length||u?{snapshot:new Pa(this.query,e.Qu,i,s,e.mutatedKeys,0===a,u,!1),Xu:o}:{Xu:o}}Pu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new TV,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(n=>this.Uu=this.Uu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Uu=this.Uu.delete(n)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=te(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const n=[];return e.forEach(r=>{this.Ku.has(r)||n.push(new xV(r))}),this.Ku.forEach(r=>{e.has(r)||n.push(new AV(r))}),n}tc(e){this.Uu=e.Hi,this.Ku=te();const n=this.Wu(e.documents);return this.applyChanges(n,!0)}ec(){return Pa.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu)}}class _re{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class vre{constructor(e){this.key=e,this.nc=!1}}class wre{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.sc={},this.ic=new Pi(a=>KF(a),Wc),this.rc=new Map,this.oc=new Set,this.uc=new Le(A.comparator),this.cc=new Map,this.ac=new ub,this.hc={},this.lc=new Map,this.fc=Gs.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function Ire(t,e){return Wb.apply(this,arguments)}function Wb(){return Wb=g(function*(t,e){const n=mT(t);let r,i;const s=n.ic.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.ec();else{const o=yield Sa(n.localStore,Zt(e));n.isPrimaryClient&&cp(n.remoteStore,o);const a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield Kb(n,e,r,"current"===a)}return i}),Wb.apply(this,arguments)}function Kb(t,e,n,r){return Qb.apply(this,arguments)}function Qb(){return Qb=g(function*(t,e,n,r){t._c=(l,d,h)=>{return(f=g(function*(p,m,y,I){let E=m.view.Wu(y);E.$i&&(E=yield sp(p.localStore,m.query,!1).then(({documents:R})=>m.view.Wu(R,E)));const _=I&&I.targetChanges.get(m.targetId),C=m.view.applyChanges(E,p.isPrimaryClient,_);return sT(p,m.targetId,C.Xu),C.snapshot}),function(p,m,y,I){return f.apply(this,arguments)})(t,l,d,h);var f};const i=yield sp(t.localStore,e,!0),s=new MV(e,i.Hi),o=s.Wu(i.documents),a=Xc.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),u=s.applyChanges(o,t.isPrimaryClient,a);sT(t,n,u.Xu);const c=new _re(e,n,s);return t.ic.set(e,c),t.rc.has(n)?t.rc.get(n).push(e):t.rc.set(n,[e]),u.snapshot}),Qb.apply(this,arguments)}function Ere(t,e){return Yb.apply(this,arguments)}function Yb(){return Yb=g(function*(t,e){const n=x(t),r=n.ic.get(e),i=n.rc.get(r.targetId);if(i.length>1)return n.rc.set(r.targetId,i.filter(s=>!Wc(s,e))),void n.ic.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Aa(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),pl(n.remoteStore,r.targetId),Oa(n,r.targetId)}).catch(Ai))):(Oa(n,r.targetId),yield Aa(n.localStore,r.targetId,!0))}),Yb.apply(this,arguments)}function kV(t,e){return Jb.apply(this,arguments)}function Jb(){return Jb=g(function*(t,e){const n=x(t);try{const r=yield jne(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.cc.get(s);o&&(H(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.nc=!0:i.modifiedDocuments.size>0?H(o.nc):i.removedDocuments.size>0&&(H(o.nc),o.nc=!1))}),yield ri(n,r,e)}catch(r){yield Ai(r)}}),Jb.apply(this,arguments)}function RV(t,e,n){const r=x(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.ic.forEach((s,o)=>{const a=o.view.Pu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=x(s);a.onlineState=o;let u=!1;a.queries.forEach((c,l)=>{for(const d of l.listeners)d.Pu(o)&&(u=!0)}),u&&qb(a)}(r.eventManager,e),i.length&&r.sc.zo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function bre(t,e,n){return Xb.apply(this,arguments)}function Xb(){return Xb=g(function*(t,e,n){const r=x(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.cc.get(e),s=i&&i.key;if(s){let o=new Le(A.comparator);o=o.insert(s,Te.newNoDocument(s,G.min()));const a=te().add(s),u=new Jc(G.min(),new Map,new ye(Q),o,a);yield kV(r,u),r.uc=r.uc.remove(s),r.cc.delete(e),oT(r)}else yield Aa(r.localStore,e,!1).then(()=>Oa(r,e,n)).catch(Ai)}),Xb.apply(this,arguments)}function Oa(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.rc.get(e))t.ic.delete(r),n&&t.sc.wc(r,n);t.rc.delete(e),t.isPrimaryClient&&t.ac.ls(e).forEach(r=>{t.ac.containsKey(r)||NV(t,r)})}function NV(t,e){t.oc.delete(e.path.canonicalString());const n=t.uc.get(e);null!==n&&(pl(t.remoteStore,n),t.uc=t.uc.remove(e),t.cc.delete(n),oT(t))}function sT(t,e,n){for(const r of n)r instanceof AV?(t.ac.addReference(r.key,e),Are(t,r)):r instanceof xV?(T("SyncEngine","Document no longer in limbo: "+r.key),t.ac.removeReference(r.key,e),t.ac.containsKey(r.key)||NV(t,r.key)):P()}function Are(t,e){const n=e.key,r=n.path.canonicalString();t.uc.get(n)||t.oc.has(r)||(T("SyncEngine","New document in limbo: "+n),t.oc.add(r),oT(t))}function oT(t){for(;t.oc.size>0&&t.uc.size<t.maxConcurrentLimboResolutions;){const e=t.oc.values().next().value;t.oc.delete(e);const n=new A(de.fromString(e)),r=t.fc.next();t.cc.set(r,new vre(n)),t.uc=t.uc.insert(n,r),cp(t.remoteStore,new Oi(Zt(ya(n.path)),r,2,ln.at))}}function ri(t,e,n){return aT.apply(this,arguments)}function aT(){return aT=g(function*(t,e,n){const r=x(t),i=[],s=[],o=[];var a;r.ic.isEmpty()||(r.ic.forEach((a,u)=>{o.push(r._c(u,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,c?.fromCache?"not-current":"current"),c){i.push(c);const l=hb.Ci(u.targetId,c);s.push(l)}}))}),yield Promise.all(o),r.sc.zo(i),yield(a=g(function*(u,c){const l=x(u);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>v.forEach(c,h=>v.forEach(h.Si,f=>l.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>v.forEach(h.Di,f=>l.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!xi(d))throw d;T("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const f=l.Ui.get(h),m=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);l.Ui=l.Ui.insert(h,m)}}}),function(u,c){return a.apply(this,arguments)})(r.localStore,s))}),aT.apply(this,arguments)}function xre(t,e){return uT.apply(this,arguments)}function uT(){return uT=g(function*(t,e){const n=x(t);if(!n.currentUser.isEqual(e)){T("SyncEngine","User change. New user:",e.toKey());const r=yield uV(n.localStore,e);n.currentUser=e,(i=n).lc.forEach(o=>{o.forEach(a=>{a.reject(new b(w.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.lc.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield ri(n,r.ji)}var i}),uT.apply(this,arguments)}function Mre(t,e){const n=x(t),r=n.cc.get(e);if(r&&r.nc)return te().add(r.key);{let i=te();const s=n.rc.get(e);if(!s)return i;for(const o of s){const a=n.ic.get(o);i=i.unionWith(a.view.ju)}return i}}function mT(t){const e=x(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=kV.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Mre.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=bre.bind(null,e),e.sc.zo=pre.bind(null,e.eventManager),e.sc.wc=gre.bind(null,e.eventManager),e}class Ure{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return g(function*(){n.It=hl(e.databaseInfo.databaseId),n.sharedClientState=n.gc(e),n.persistence=n.yc(e),yield n.persistence.start(),n.localStore=n.Ic(e),n.gcScheduler=n.Tc(e,n.localStore),n.indexBackfillerScheduler=n.Ec(e,n.localStore)})()}Tc(e,n){return null}Ec(e,n){return null}Ic(e){return function aV(t,e,n,r){return new Bne(t,e,n,r)}(this.persistence,new oV,e.initialUser,this.It)}yc(e){return new iV(rp.Bs,this.It)}gc(e){return new mV}terminate(){var e=this;return g(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class _T{initialize(e,n){var r=this;return g(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>RV(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=xre.bind(null,r.syncEngine),yield function Vb(t,e){return Ub.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new fre}createDatastore(e){const n=hl(e.databaseInfo.databaseId),r=new Qne(e.databaseInfo);return new Xne(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>RV(this.syncEngine,a,0),o=yV.C()?new yV:new zne,new nre(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,u,c){const l=new wre(r,i,s,o,a,u);return c&&(l.dc=!0),l}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=g(function*(n){const r=x(n);T("RemoteStore","RemoteStore shutting down."),r.wu.add(5),yield xa(r),r.gu.shutdown(),r.yu.set("Unknown")}),function(n){return e.apply(this,arguments)})(this.remoteStore);var e}}function LV(t){if(A.isDocumentKey(t))throw new b(w.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function ue(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new b(w.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=function dp(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(n=t).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof t?"a function":P()}(t);throw new b(w.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}const UV=new Map;class BV{constructor(e){var n;if(void 0===e.host){if(void 0!==e.ssl)throw new b(w.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new b(w.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function jre(t,e,n,r){if(!0===e&&!0===r)throw new b(w.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class gl{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new BV({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new b(w.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new b(w.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new BV(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new Qee;switch(n.type){case"gapi":return new Xee(n.client,n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new b(w.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=UV.get(e);n&&(T("ComponentProvider","Removing Datastore"),UV.delete(e),n.terminate())}(this),Promise.resolve()}}class He{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Er(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new He(this.firestore,e,this._key)}}class Vt{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Vt(this.firestore,e,this._query)}}class Er extends Vt{constructor(e,n,r){super(e,n,ya(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new He(this.firestore,null,new A(e))}withConverter(e){return new Er(this.firestore,e,this._path)}}function Gre(t,e,...n){if(t=pr(t),function vT(t,e,n){if(!n)throw new b(w.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}("collection","path",e),t instanceof gl){const r=de.fromString(e,...n);return LV(r),new Er(t,null,r)}{if(!(t instanceof He||t instanceof Er))throw new b(w.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(de.fromString(e,...n));return LV(r),new Er(t.firestore,null,r)}}class hp{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):$e("Uncaught Error in snapshot listener:",e)}bc(){this.muted=!0}Rc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class Zre{constructor(e,n,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=mt.UNAUTHENTICATED,this.clientId=class EF{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=tte(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=g(function*(a){T("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(T("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return g(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new b(w.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new at;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(g(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=Ra(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function HV(t,e){return wT.apply(this,arguments)}function wT(){return wT=g(function*(t,e){t.asyncQueue.verifyOperationInProgress(),T("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=g(function*(s){r.isEqual(s)||(yield uV(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t.offlineComponents=e}),wT.apply(this,arguments)}function GV(t,e){return IT.apply(this,arguments)}function IT(){return IT=g(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield ET(t);T("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>bV(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>bV(e.remoteStore,s)),t.onlineComponents=e}),IT.apply(this,arguments)}function ET(t){return DT.apply(this,arguments)}function DT(){return DT=g(function*(t){return t.offlineComponents||(T("FirestoreClient","Using default OfflineComponentProvider"),yield HV(t,new Ure)),t.offlineComponents}),DT.apply(this,arguments)}function fp(t){return bT.apply(this,arguments)}function bT(){return bT=g(function*(t){return t.onlineComponents||(T("FirestoreClient","Using default OnlineComponentProvider"),yield GV(t,new _T)),t.onlineComponents}),bT.apply(this,arguments)}function Fa(t){return ST.apply(this,arguments)}function ST(){return ST=g(function*(t){const e=yield fp(t),n=e.eventManager;return n.onListen=Ire.bind(null,e.syncEngine),n.onUnlisten=Ere.bind(null,e.syncEngine),n}),ST.apply(this,arguments)}class sie{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.Uc=!1,this.qc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.No=new Ib(this,"async_queue_retry"),this.Wc=()=>{const n=up();n&&T("AsyncQueue","Visibility state changed to "+n.visibilityState),this.No.Po()};const e=up();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.Uc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.Uc){this.Uc=!0,this.Qc=e||!1;const n=up();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.Uc)return new Promise(()=>{});const n=new at;return this.Hc(()=>this.Uc&&this.Qc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return g(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.No.reset()}catch(n){if(!xi(n))throw n;T("AsyncQueue","Operation failed with retryable error: "+n)}e.Lc.length>0&&e.No.Ro(()=>e.Jc())}})()}Hc(e){const n=this.Bc.then(()=>(this.Gc=!0,e().catch(r=>{throw this.Kc=r,this.Gc=!1,$e("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Gc=!1,r))));return this.Bc=n,n}enqueueAfterDelay(e,n,r){this.zc(),this.jc.indexOf(e)>-1&&(n=0);const i=Bb.createAndSchedule(this,e,n,r,s=>this.Yc(s));return this.qc.push(i),i}zc(){this.Kc&&P()}verifyOperationInProgress(){}Xc(){var e=this;return g(function*(){let n;do{n=e.Bc,yield n}while(n!==e.Bc)})()}Zc(e){for(const n of this.qc)if(n.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.qc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.qc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const n=this.qc.indexOf(e);this.qc.splice(n,1)}}function AT(t){return function(e,n){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(t)}class Ce extends gl{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new sie,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||QV(this),this._firestoreClient.terminate()}}function aie(t,e){const r="string"==typeof t?t:e||"(default)",i=Zo("object"==typeof t?t:j_(),"firestore").getImmediate({identifier:r});if(!i._initialized){const s=yN("firestore");if(s){const[o,a]=s.split(":");!function Hre(t,e,n,r={}){var i;const s=(t=ue(t,gl))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==e&&ha("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${n}`,ssl:!1})),r.mockUserToken){let o,a;if("string"==typeof r.mockUserToken)o=r.mockUserToken,a=mt.MOCK_USER;else{o=function r5(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[bh(JSON.stringify({alg:"none",type:"JWT"})),bh(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new b(w.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new mt(u)}t._authCredentials=new Yee(new wF(o,a))}}(i,o,parseInt(a,10))}}return i}function QV(t){var e;const n=t._freezeSettings(),r=(s=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new dte(t._databaseId,s,t._persistenceKey,(a=n).host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams));var s,a;t._firestoreClient=new Zre(t._authCredentials,t._appCheckCredentials,t._queue,r)}class zs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new zs(ut.fromBase64String(e))}catch(n){throw new b(w.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new zs(ut.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class La{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new b(w.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new je(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class xT{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new b(w.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new b(w.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Q(this._lat,e._lat)||Q(this._long,e._long)}}const pie=new RegExp("[~\\*/\\[\\]]");function yp(t,e,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new b(w.INVALID_ARGUMENT,a+t+u)}class PT{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new He(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new gie(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(_p("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class gie extends PT{data(){return super.data()}}function _p(t,e){return"string"==typeof e?function mp(t,e,n){if(e.search(pie)>=0)throw yp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new La(...e.split("."))._internalPath}catch{throw yp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}(t,e):e instanceof La?e._internalPath:e._delegate._internalPath}class Ks{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ua extends PT{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new vp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(_p("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class vp extends Ua{data(e={}){return super.data(e)}}class Ba{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ks(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new vp(this._firestore,this._userDataWriter,r.key,r,new Ks(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new b(w.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new vp(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Ks(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const a=new vp(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Ks(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,c=-1;return 0!==o.type&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:vie(o.type),doc:a,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function vie(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return P()}}class Ui extends class _ie{convertValue(e,n="none"){switch(Ns(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ve(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ks(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw P()}}convertObject(e,n){const r={};return Ms(e.fields,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new xT(Ve(e.latitude),Ve(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=kF(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Bc(e));default:return null}}convertTimestamp(e){const n=Mi(e);return new Re(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=de.fromString(e);H(xL(r));const i=new Rs(r.get(1),r.get(3)),s=new A(r.popFirst(5));return i.isEqual(n)||$e(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}{constructor(e){super(),this.firestore=e}convertBytes(e){return new zs(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new He(this.firestore,null,n)}}!function(t,e=!0){da="9.11.0",Kt(new Ot("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new Ce(new Zee(n.getProvider("auth-internal")),new ete(n.getProvider("app-check-internal")),function(a,u){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new b(w.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Rs(a.options.projectId,u)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),Fe(vF,"3.6.0",t),Fe(vF,"3.6.0","esm2017")}();var bie={includeMetadataChanges:!1};function LT(t,e){return void 0===e&&(e=bie),new Ie(function(n){var r=function wie(t,...e){var n,r,i;t=pr(t);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||AT(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(AT(e[o])){const d=e[o];e[o]=null===(n=d.next)||void 0===n?void 0:n.bind(d),e[o+1]=null===(r=d.error)||void 0===r?void 0:r.bind(d),e[o+2]=null===(i=d.complete)||void 0===i?void 0:i.bind(d)}let u,c,l;if(t instanceof He)c=ue(t.firestore,Ce),l=ya(t._key.path),u={next:d=>{e[o]&&e[o](function FT(t,e,n){const r=n.docs.get(e._key),i=new Ui(t);return new Ua(t,i,e._key,r,new Ks(n.hasPendingWrites,n.fromCache),e.converter)}(c,t,d))},error:e[o+1],complete:e[o+2]};else{const d=ue(t,Vt);c=ue(d.firestore,Ce),l=d._query;const h=new Ui(c);u={next:f=>{e[o]&&e[o](new Ba(c,h,d,f))},error:e[o+1],complete:e[o+2]},function uU(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new b(w.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query)}return function(d,h,f,p){const m=new hp(p),y=new zb(h,m,f);return d.asyncQueue.enqueueAndForget(g(function*(){return function $b(t,e){return jb.apply(this,arguments)}(yield Fa(d),y)})),()=>{m.bc(),d.asyncQueue.enqueueAndForget(g(function*(){return function Hb(t,e){return Gb.apply(this,arguments)}(yield Fa(d),y)}))}}(function Ze(t){return t._firestoreClient||QV(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}(c),l,a,u)}(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function kie(t,e){return void 0===e&&(e={}),function Mie(t){return LT(t,{includeMetadataChanges:!0}).pipe(X(function(e){return e.docs}))}(t).pipe(X(function(n){return n.map(function(r){return function yU(t,e){void 0===e&&(e={});var n=t.data();return!t.exists()||"object"!=typeof n||null===n||e.idField&&(n[e.idField]=t.id),n}(r,e)})}))}class Ip{constructor(e){return e}}const IU="firestore",BT=new j("angularfire2.firestore-instances");function Pie(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Ip(r)}}const Oie={provide:class Rie{constructor(){return xw(IU)}},deps:[[new kt,BT]]},Fie={provide:Ip,useFactory:function Nie(t,e){const n=Aw(IU,t,e);return n&&new Ip(n)},deps:[[new kt,BT],ra]};let Lie=(()=>{class t{constructor(){Fe("angularfire",Uh.full,"fst")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Gn({type:t}),t.\u0275inj=xn({providers:[Fie,Oie]}),t})();function Vie(t,...e){return{ngModule:Lie,providers:[{provide:BT,useFactory:Pie(t),multi:!0,deps:[Ae,Gt,Mw,kw,[new kt,rO],[new kt,Qw],...e]}]}}const Uie=sc(kie,!0),Bie=sc(Gre,!0),$ie=sc(aie,!0);function jie(t,e){if(1&t&&(On(0,"a",4)(1,"span",5),ts(2),Fn()()),2&t){const n=e.$implicit;WA(n),Om("routerLink",n),_u(2),Dd(n)}}const Hie=[{path:"",pathMatch:"full",title:"Overzicht",component:(()=>{class t{constructor(n){this.firestore=n,this.workouts=["rug","benen","borst","schouders","biceps","triceps","buik"];const r=Bie(n,"items");this.item$=Uie(r),this.item$.subscribe(i=>console.log(i))}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)(L(Ip))},t.\u0275cmp=oi({type:t,selectors:[["app-overview"]],decls:5,vars:1,consts:[["id","nav-bar"],["id","title"],["id","workout-overview"],["class","blocks",3,"class","routerLink",4,"ngFor","ngForOf"],[1,"blocks",3,"routerLink"],[1,"title"]],template:function(n,r){1&n&&(On(0,"div",0)(1,"div",1),ts(2,"Overzicht"),Fn()(),On(3,"div",2),function EA(t,e,n,r,i,s,o,a){const u=D(),c=ce(),l=t+22,d=c.firstCreatePass?function eG(t,e,n,r,i,s,o,a,u){const c=e.consts,l=Eo(e,t,4,o||null,ai(c,a));Im(e,n,l,ai(c,u)),Bl(e,l);const d=l.tViews=wm(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,s,o):c.data[l];or(d,!1);const h=u[11].createComment("");ad(c,u,h,d),Rt(h,u),gd(u,u[l]=sA(h,u,h,d)),Ll(d)&&_m(c,u,d),null!=o&&vm(u,d,a)}(4,jie,3,4,"a",3),Fn()),2&n&&(_u(4),km("ngForOf",r.workouts))},dependencies:[Tk,Ih],styles:[".title[_ngcontent-%COMP%]{text-align:center;font-size:1rem;margin-top:.5rem}#workout-overview[_ngcontent-%COMP%]{display:flex;gap:1rem;flex-wrap:wrap;margin-top:.5rem;padding:.5rem}#workout-overview[_ngcontent-%COMP%] > a.blocks[_ngcontent-%COMP%]{color:#000;text-decoration:none;width:100%;background:#323232;height:5rem;line-height:5rem;text-align:center;color:#c8c8c8;border-radius:3px}#workout-overview[_ngcontent-%COMP%] > a.blocks[_ngcontent-%COMP%]:hover{background:red}#workout-overview[_ngcontent-%COMP%] > a.blocks[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{text-transform:capitalize}"]}),t})()},{path:":workout",title:"Test",component:(()=>{class t{constructor(n,r){this.route=n,this.router=r,this.workout=""}ngOnInit(){this.workout=this.route.snapshot.params.workout}onNavigateBack(){this.router.navigate([".."])}onAddWorkout(){console.log("onAddWorkout")}}return t.\u0275fac=function(n){return new(n||t)(L(Ii),L(dt))},t.\u0275cmp=oi({type:t,selectors:[["app-workout-overview"]],decls:9,vars:2,consts:[["id","nav-bar"],["id","back-btn",1,"icon-btn",3,"click"],["src","assets/back.svg","alt",""],["id","title"],["id","add-btn",1,"icon-btn",3,"click"],["src","assets/add.svg","alt",""]],template:function(n,r){1&n&&(On(0,"div",0)(1,"div",1),Po("click",function(){return r.onNavigateBack()}),No(2,"img",2),Fn(),On(3,"div",3),ts(4),Fn(),On(5,"div",4),Po("click",function(){return r.onAddWorkout()}),No(6,"img",5),Fn()(),On(7,"div"),ts(8),Fn()),2&n&&(_u(4),Dd(r.workout),_u(4),bd(" workout overview ",r.workout,"\n"))}}),t})(),canActivate:[fN]},{path:":workout/:id",title:"Detail",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=oi({type:t,selectors:[["app-workout-detail"]],decls:2,vars:0,template:function(n,r){1&n&&(On(0,"p"),ts(1," workout-detail works!\n"),Fn())}}),t})()},{path:"settings",title:"Instellingen",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=oi({type:t,selectors:[["app-settings"]],decls:2,vars:0,template:function(n,r){1&n&&(On(0,"p"),ts(1," settings works!\n"),Fn())}}),t})()}];let Gie=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Gn({type:t}),t.\u0275inj=xn({imports:[dN.forRoot(Hie),dN]}),t})(),qie=(()=>{class t{constructor(){this.title="FitnessTracker"}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=oi({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(n,r){1&n&&No(0,"router-outlet")},dependencies:[d_]}),t})();const zie=["addListener","removeListener"],Wie=["addEventListener","removeEventListener"],Kie=["on","off"];function Ep(t,e,n,r){if(oe(n)&&(r=n,n=void 0),r)return Ep(t,e,n).pipe(eR(r));const[i,s]=function Zie(t){return oe(t.addEventListener)&&oe(t.removeEventListener)}(t)?Wie.map(o=>a=>t[o](e,a,n)):function Qie(t){return oe(t.addListener)&&oe(t.removeListener)}(t)?zie.map(EU(t,e)):function Yie(t){return oe(t.on)&&oe(t.off)}(t)?Kie.map(EU(t,e)):[];if(!i&&Rp(t))return Xe(o=>Ep(o,e,n))(An(t));if(!i)throw new TypeError("Invalid event target");return new Ie(o=>{const a=(...u)=>o.next(1<u.length?u:u[0]);return i(a),()=>s(a)})}function EU(t,e){return n=>r=>t[n](e,r)}const Bi=new Ie(Dl),Xie={connector:()=>new pn};function DU(t,e=Xie){const{connector:n}=e;return Ge((r,i)=>{const s=n();An(t(function Jie(t){return new Ie(e=>t.subscribe(e))}(s))).subscribe(i),i.add(r.subscribe(s))})}function bU(t,e){return e?n=>$u(e.pipe(Dn(1),function nse(){return Ge((t,e)=>{t.subscribe(Je(e,Dl))})}()),n.pipe(bU(t))):Xe((n,r)=>t(n,r).pipe(Dn(1),oR(n)))}const _l="Service workers are disabled or not supported by this browser";class Dp{constructor(e){if(this.serviceWorker=e,e){const r=Ep(e,"controllerchange").pipe(X(()=>e.controller)),s=$u(th(()=>U(e.controller)),r);this.worker=s.pipe(on(l=>!!l)),this.registration=this.worker.pipe(sn(()=>e.getRegistration()));const c=Ep(e,"message").pipe(X(l=>l.data)).pipe(on(l=>l&&l.type)).pipe(function tse(t){return t?e=>DU(t)(e):e=>function ese(t,e){const n=oe(t)?t:()=>t;return oe(e)?DU(e,{connector:n}):r=>new Ky(r,n)}(new pn)(e)}());c.connect(),this.events=c}else this.worker=this.events=this.registration=function ose(t){return th(()=>jo(new Error(t)))}(_l)}postMessage(e,n){return this.worker.pipe(Dn(1),lt(r=>{r.postMessage({action:e,...n})})).toPromise().then(()=>{})}postMessageWithOperation(e,n,r){const i=this.waitForOperationCompleted(r),s=this.postMessage(e,n);return Promise.all([s,i]).then(([,o])=>o)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(e){let n;return n="string"==typeof e?r=>r.type===e:r=>e.includes(r.type),this.events.pipe(on(n))}nextEventOfType(e){return this.eventsOfType(e).pipe(Dn(1))}waitForOperationCompleted(e){return this.eventsOfType("OPERATION_COMPLETED").pipe(on(n=>n.nonce===e),Dn(1),X(n=>{if(void 0!==n.result)return n.result;throw new Error(n.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let ase=(()=>{class t{constructor(n){if(this.sw=n,this.subscriptionChanges=new pn,!n.isEnabled)return this.messages=Bi,this.notificationClicks=Bi,void(this.subscription=Bi);this.messages=this.sw.eventsOfType("PUSH").pipe(X(i=>i.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(X(i=>i.data)),this.pushManager=this.sw.registration.pipe(X(i=>i.pushManager));const r=this.pushManager.pipe(sn(i=>i.getSubscription()));this.subscription=Pp(r,this.subscriptionChanges)}get isEnabled(){return this.sw.isEnabled}requestSubscription(n){if(!this.sw.isEnabled)return Promise.reject(new Error(_l));const r={userVisibleOnly:!0};let i=this.decodeBase64(n.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),s=new Uint8Array(new ArrayBuffer(i.length));for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return r.applicationServerKey=s,this.pushManager.pipe(sn(o=>o.subscribe(r)),Dn(1)).toPromise().then(o=>(this.subscriptionChanges.next(o),o))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe(Dn(1),sn(r=>{if(null===r)throw new Error("Not subscribed to push notifications.");return r.unsubscribe().then(i=>{if(!i)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(_l))}decodeBase64(n){return atob(n)}}return t.\u0275fac=function(n){return new(n||t)(V(Dp))},t.\u0275prov=J({token:t,factory:t.\u0275fac}),t})(),use=(()=>{class t{constructor(n){if(this.sw=n,!n.isEnabled)return this.versionUpdates=Bi,this.available=Bi,this.activated=Bi,void(this.unrecoverable=Bi);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.available=this.versionUpdates.pipe(on(r=>"VERSION_READY"===r.type),X(r=>({type:"UPDATE_AVAILABLE",current:r.currentVersion,available:r.latestVersion}))),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}get isEnabled(){return this.sw.isEnabled}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(_l));const n=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:n},n)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(_l));const n=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:n},n)}}return t.\u0275fac=function(n){return new(n||t)(V(Dp))},t.\u0275prov=J({token:t,factory:t.\u0275fac}),t})();class $T{}const TU=new j("NGSW_REGISTER_SCRIPT");function cse(t,e,n,r){return()=>{if(!kk(r)||!("serviceWorker"in navigator)||!1===n.enabled)return;let i;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof n.registrationStrategy)i=n.registrationStrategy();else{const[o,...a]=(n.registrationStrategy||"registerWhenStable:30000").split(":");switch(o){case"registerImmediately":i=U(null);break;case"registerWithDelay":i=CU(+a[0]||0);break;case"registerWhenStable":i=a[0]?Pp(SU(t),CU(+a[0])):SU(t);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${n.registrationStrategy}`)}}t.get(Ae).runOutsideAngular(()=>i.pipe(Dn(1)).subscribe(()=>navigator.serviceWorker.register(e,{scope:n.scope}).catch(o=>console.error("Service worker registration failed with:",o))))}}function CU(t){return U(null).pipe(function sse(t,e=ww){const n=function ise(t=0,e,n=tY){let r=-1;return null!=e&&(y0(e)?n=e:r=e),new Ie(i=>{let s=function rse(t){return t instanceof Date&&!isNaN(t)}(t)?+t-n.now():t;s<0&&(s=0);let o=0;return n.schedule(function(){i.closed||(i.next(o++),0<=r?this.schedule(void 0,r):i.complete())},s)})}(t,e);return bU(()=>n)}(t))}function SU(t){return t.get(Pu).isStable.pipe(on(n=>n))}function lse(t,e){return new Dp(kk(e)&&!1!==t.enabled?navigator.serviceWorker:void 0)}let dse=(()=>{class t{static register(n,r={}){return{ngModule:t,providers:[{provide:TU,useValue:n},{provide:$T,useValue:r},{provide:Dp,useFactory:lse,deps:[$T,Bo]},{provide:Ru,useFactory:cse,deps:[Gt,TU,$T,Bo],multi:!0}]}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Gn({type:t}),t.\u0275inj=xn({providers:[ase,use]}),t})();const jT_firebase={projectId:"fitnesstracker-e1aad",appId:"1:980271478105:web:1e5c7a053e1911a0388848",storageBucket:"fitnesstracker-e1aad.appspot.com",locationId:"europe-west",apiKey:"AIzaSyAX9_ymwtQRRPEds3pTaAkd9Dq1ivAjQ7M",authDomain:"fitnesstracker-e1aad.firebaseapp.com",messagingSenderId:"980271478105",measurementId:"G-VRYG8R0VNS"};let hse=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Gn({type:t,bootstrap:[qie]}),t.\u0275inj=xn({providers:[fN],imports:[n8,Gie,dse.register("ngsw-worker.js",{enabled:true,registrationStrategy:"registerWhenStable:30000"}),hY(()=>fY(jT_firebase)),GX(()=>qX()),Vie(()=>$ie())]}),t})();(function EW(){JM=!1})(),t8().bootstrapModule(hse).catch(t=>console.error(t))},163:$a=>{function ii(wl){var oe=new Error("Cannot find module '"+wl+"'");throw oe.code="MODULE_NOT_FOUND",oe}ii.keys=()=>[],ii.resolve=ii,ii.id=163,$a.exports=ii}},$a=>{$a($a.s=49)}]);